var Lv=Object.defineProperty;var Mv=(t,e,n)=>e in t?Lv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vt=(t,e,n)=>Mv(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const kt={},di=[],pr=()=>{},qp=()=>!1,ll=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$c=t=>t.startsWith("onUpdate:"),Xt=Object.assign,Fc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Rv=Object.prototype.hasOwnProperty,vt=(t,e)=>Rv.call(t,e),Ke=Array.isArray,fi=t=>$o(t)==="[object Map]",ul=t=>$o(t)==="[object Set]",Ud=t=>$o(t)==="[object Date]",Ze=t=>typeof t=="function",Dt=t=>typeof t=="string",Zn=t=>typeof t=="symbol",wt=t=>t!==null&&typeof t=="object",jp=t=>(wt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),Wp=Object.prototype.toString,$o=t=>Wp.call(t),Dv=t=>$o(t).slice(8,-1),Hp=t=>$o(t)==="[object Object]",cl=t=>Dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,uo=Nc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dl=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Nv=/-\w/g,Cn=dl(t=>t.replace(Nv,e=>e.slice(1).toUpperCase())),$v=/\B([A-Z])/g,cs=dl(t=>t.replace($v,"-$1").toLowerCase()),fl=dl(t=>t.charAt(0).toUpperCase()+t.slice(1)),co=dl(t=>t?`on${fl(t)}`:""),ss=(t,e)=>!Object.is(t,e),Ta=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},zp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},hl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Fv=t=>{const e=Dt(t)?Number(t):NaN;return isNaN(e)?t:e};let Gd;const pl=()=>Gd||(Gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ft(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Dt(r)?qv(r):ft(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Dt(t)||wt(t))return t}const Bv=/;(?![^(]*\))/g,Uv=/:([^]+)/,Gv=/\/\*[^]*?\*\//g;function qv(t){const e={};return t.replace(Gv,"").split(Bv).forEach(n=>{if(n){const r=n.split(Uv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function st(t){let e="";if(Dt(t))e=t;else if(Ke(t))for(let n=0;n<t.length;n++){const r=st(t[n]);r&&(e+=r+" ")}else if(wt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function It(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Dt(e)&&(t.class=st(e)),n&&(t.style=ft(n)),t}const jv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wv=Nc(jv);function Vp(t){return!!t||t===""}function Hv(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=gl(t[r],e[r]);return n}function gl(t,e){if(t===e)return!0;let n=Ud(t),r=Ud(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Zn(t),r=Zn(e),n||r)return t===e;if(n=Ke(t),r=Ke(e),n||r)return n&&r?Hv(t,e):!1;if(n=wt(t),r=wt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!gl(t[o],e[o]))return!1}}return String(t)===String(e)}function zv(t,e){return t.findIndex(n=>gl(n,e))}const Yp=t=>!!(t&&t.__v_isRef===!0),we=t=>Dt(t)?t:t==null?"":Ke(t)||wt(t)&&(t.toString===Wp||!Ze(t.toString))?Yp(t)?we(t.value):JSON.stringify(t,Kp,2):String(t),Kp=(t,e)=>Yp(e)?Kp(t,e.value):fi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[eu(r,i)+" =>"]=s,n),{})}:ul(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>eu(n))}:Zn(e)?eu(e):wt(e)&&!Ke(e)&&!Hp(e)?String(e):e,eu=(t,e="")=>{var n;return Zn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cn;class Xp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=cn,!e&&cn&&(this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=cn;try{return cn=this,e()}finally{cn=n}}}on(){++this._on===1&&(this.prevScope=cn,cn=this)}off(){this._on>0&&--this._on===0&&(cn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Fo(t){return new Xp(t)}function Bo(){return cn}function ml(t,e=!1){cn&&cn.cleanups.push(t)}let At;const tu=new WeakSet;class Jp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,cn&&cn.active&&cn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tu.has(this)&&(tu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qd(this),eg(this);const e=At,n=Jn;At=this,Jn=!0;try{return this.fn()}finally{tg(this),At=e,Jn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Gc(e);this.deps=this.depsTail=void 0,qd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fu(this)&&this.run()}get dirty(){return Fu(this)}}let Qp=0,fo,ho;function Zp(t,e=!1){if(t.flags|=8,e){t.next=ho,ho=t;return}t.next=fo,fo=t}function Bc(){Qp++}function Uc(){if(--Qp>0)return;if(ho){let e=ho;for(ho=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;fo;){let e=fo;for(fo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function eg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function tg(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Gc(r),Vv(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Fu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ng(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ng(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Co)||(t.globalVersion=Co,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Fu(t))))return;t.flags|=2;const e=t.dep,n=At,r=Jn;At=t,Jn=!0;try{eg(t);const s=t.fn(t._value);(e.version===0||ss(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{At=n,Jn=r,tg(t),t.flags&=-3}}function Gc(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Gc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Vv(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Jn=!0;const rg=[];function Rr(){rg.push(Jn),Jn=!1}function Dr(){const t=rg.pop();Jn=t===void 0?!0:t}function qd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=At;At=void 0;try{e()}finally{At=n}}}let Co=0;class Yv{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!At||!Jn||At===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==At)n=this.activeLink=new Yv(At,this),At.deps?(n.prevDep=At.depsTail,At.depsTail.nextDep=n,At.depsTail=n):At.deps=At.depsTail=n,sg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=At.depsTail,n.nextDep=void 0,At.depsTail.nextDep=n,At.depsTail=n,At.deps===n&&(At.deps=r)}return n}trigger(e){this.version++,Co++,this.notify(e)}notify(e){Bc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Uc()}}}function sg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)sg(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const $a=new WeakMap,Ms=Symbol(""),Bu=Symbol(""),ko=Symbol("");function dn(t,e,n){if(Jn&&At){let r=$a.get(t);r||$a.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new vl),s.map=r,s.key=n),s.track()}}function Or(t,e,n,r,s,i){const o=$a.get(t);if(!o){Co++;return}const a=l=>{l&&l.trigger()};if(Bc(),e==="clear")o.forEach(a);else{const l=Ke(t),c=l&&cl(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,f)=>{(f==="length"||f===ko||!Zn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ko)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Ms)),fi(t)&&a(o.get(Bu)));break;case"delete":l||(a(o.get(Ms)),fi(t)&&a(o.get(Bu)));break;case"set":fi(t)&&a(o.get(Ms));break}}Uc()}function Kv(t,e){const n=$a.get(t);return n&&n.get(e)}function Js(t){const e=ht(t);return e===t?e:(dn(e,"iterate",ko),Ln(t)?e:e.map(er))}function yl(t){return dn(t=ht(t),"iterate",ko),t}function es(t,e){return Nr(t)?Ti(gr(t)?er(e):e):er(e)}const Xv={__proto__:null,[Symbol.iterator](){return nu(this,Symbol.iterator,t=>es(this,t))},concat(...t){return Js(this).concat(...t.map(e=>Ke(e)?Js(e):e))},entries(){return nu(this,"entries",t=>(t[1]=es(this,t[1]),t))},every(t,e){return xr(this,"every",t,e,void 0,arguments)},filter(t,e){return xr(this,"filter",t,e,n=>n.map(r=>es(this,r)),arguments)},find(t,e){return xr(this,"find",t,e,n=>es(this,n),arguments)},findIndex(t,e){return xr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return xr(this,"findLast",t,e,n=>es(this,n),arguments)},findLastIndex(t,e){return xr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return xr(this,"forEach",t,e,void 0,arguments)},includes(...t){return ru(this,"includes",t)},indexOf(...t){return ru(this,"indexOf",t)},join(t){return Js(this).join(t)},lastIndexOf(...t){return ru(this,"lastIndexOf",t)},map(t,e){return xr(this,"map",t,e,void 0,arguments)},pop(){return Wi(this,"pop")},push(...t){return Wi(this,"push",t)},reduce(t,...e){return jd(this,"reduce",t,e)},reduceRight(t,...e){return jd(this,"reduceRight",t,e)},shift(){return Wi(this,"shift")},some(t,e){return xr(this,"some",t,e,void 0,arguments)},splice(...t){return Wi(this,"splice",t)},toReversed(){return Js(this).toReversed()},toSorted(t){return Js(this).toSorted(t)},toSpliced(...t){return Js(this).toSpliced(...t)},unshift(...t){return Wi(this,"unshift",t)},values(){return nu(this,"values",t=>es(this,t))}};function nu(t,e,n){const r=yl(t),s=r[e]();return r!==t&&!Ln(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Jv=Array.prototype;function xr(t,e,n,r,s,i){const o=yl(t),a=o!==t&&!Ln(t),l=o[e];if(l!==Jv[e]){const d=l.apply(t,i);return a?er(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,es(t,d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,r);return a&&s?s(u):u}function jd(t,e,n,r){const s=yl(t);let i=n;return s!==t&&(Ln(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,es(t,a),l,t)}),s[e](i,...r)}function ru(t,e,n){const r=ht(t);dn(r,"iterate",ko);const s=r[e](...n);return(s===-1||s===!1)&&wl(n[0])?(n[0]=ht(n[0]),r[e](...n)):s}function Wi(t,e,n=[]){Rr(),Bc();const r=ht(t)[e].apply(t,n);return Uc(),Dr(),r}const Qv=Nc("__proto__,__v_isRef,__isVue"),ig=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Zn));function Zv(t){Zn(t)||(t=String(t));const e=ht(this);return dn(e,"has",t),e.hasOwnProperty(t)}class og{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?fg:dg:i?cg:ug).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ke(e);if(!s){let l;if(o&&(l=Xv[n]))return l;if(n==="hasOwnProperty")return Zv}const a=Reflect.get(e,n,ct(e)?e:r);if((Zn(n)?ig.has(n):Qv(n))||(s||dn(e,"get",n),i))return a;if(ct(a)){const l=o&&cl(n)?a:a.value;return s&&wt(l)?So(l):l}return wt(a)?s?So(a):jn(a):a}}class ag extends og{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const o=Ke(e)&&cl(n);if(!this._isShallow){const c=Nr(i);if(!Ln(r)&&!Nr(r)&&(i=ht(i),r=ht(r)),!o&&ct(i)&&!ct(r))return c||(i.value=r),!0}const a=o?Number(n)<e.length:vt(e,n),l=Reflect.set(e,n,r,ct(e)?e:s);return e===ht(s)&&(a?ss(r,i)&&Or(e,"set",n,r):Or(e,"add",n,r)),l}deleteProperty(e,n){const r=vt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Or(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Zn(n)||!ig.has(n))&&dn(e,"has",n),r}ownKeys(e){return dn(e,"iterate",Ke(e)?"length":Ms),Reflect.ownKeys(e)}}class lg extends og{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ey=new ag,ty=new lg,ny=new ag(!0),ry=new lg(!0),Uu=t=>t,Zo=t=>Reflect.getPrototypeOf(t);function sy(t,e,n){return function(...r){const s=this.__v_raw,i=ht(s),o=fi(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...r),u=n?Uu:e?Ti:er;return!e&&dn(i,"iterate",l?Bu:Ms),Xt(Object.create(c),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}}})}}function ea(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function iy(t,e){const n={get(s){const i=this.__v_raw,o=ht(i),a=ht(s);t||(ss(s,a)&&dn(o,"get",s),dn(o,"get",a));const{has:l}=Zo(o),c=e?Uu:t?Ti:er;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&dn(ht(s),"iterate",Ms),s.size},has(s){const i=this.__v_raw,o=ht(i),a=ht(s);return t||(ss(s,a)&&dn(o,"has",s),dn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=ht(a),c=e?Uu:t?Ti:er;return!t&&dn(l,"iterate",Ms),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return Xt(n,t?{add:ea("add"),set:ea("set"),delete:ea("delete"),clear:ea("clear")}:{add(s){!e&&!Ln(s)&&!Nr(s)&&(s=ht(s));const i=ht(this);return Zo(i).has.call(i,s)||(i.add(s),Or(i,"add",s,s)),this},set(s,i){!e&&!Ln(i)&&!Nr(i)&&(i=ht(i));const o=ht(this),{has:a,get:l}=Zo(o);let c=a.call(o,s);c||(s=ht(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?ss(i,u)&&Or(o,"set",s,i):Or(o,"add",s,i),this},delete(s){const i=ht(this),{has:o,get:a}=Zo(i);let l=o.call(i,s);l||(s=ht(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&Or(i,"delete",s,void 0),c},clear(){const s=ht(this),i=s.size!==0,o=s.clear();return i&&Or(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=sy(s,t,e)}),n}function bl(t,e){const n=iy(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(vt(n,s)&&s in r?n:r,s,i)}const oy={get:bl(!1,!1)},ay={get:bl(!1,!0)},ly={get:bl(!0,!1)},uy={get:bl(!0,!0)},ug=new WeakMap,cg=new WeakMap,dg=new WeakMap,fg=new WeakMap;function cy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dy(t){return t.__v_skip||!Object.isExtensible(t)?0:cy(Dv(t))}function jn(t){return Nr(t)?t:_l(t,!1,ey,oy,ug)}function fy(t){return _l(t,!1,ny,ay,cg)}function So(t){return _l(t,!0,ty,ly,dg)}function Qs(t){return _l(t,!0,ry,uy,fg)}function _l(t,e,n,r,s){if(!wt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=dy(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function gr(t){return Nr(t)?gr(t.__v_raw):!!(t&&t.__v_isReactive)}function Nr(t){return!!(t&&t.__v_isReadonly)}function Ln(t){return!!(t&&t.__v_isShallow)}function wl(t){return t?!!t.__v_raw:!1}function ht(t){const e=t&&t.__v_raw;return e?ht(e):t}function Ei(t){return!vt(t,"__v_skip")&&Object.isExtensible(t)&&zp(t,"__v_skip",!0),t}const er=t=>wt(t)?jn(t):t,Ti=t=>wt(t)?So(t):t;function ct(t){return t?t.__v_isRef===!0:!1}function J(t){return hg(t,!1)}function ds(t){return hg(t,!0)}function hg(t,e){return ct(t)?t:new hy(t,e)}class hy{constructor(e,n){this.dep=new vl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ht(e),this._value=n?e:er(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ln(e)||Nr(e);e=r?e:ht(e),ss(e,n)&&(this._rawValue=e,this._value=r?e:er(e),this.dep.trigger())}}function g(t){return ct(t)?t.value:t}function Ht(t){return Ze(t)?t():g(t)}const py={get:(t,e,n)=>e==="__v_raw"?t:g(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ct(s)&&!ct(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function pg(t){return gr(t)?t:new Proxy(t,py)}class gy{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new vl,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function my(t){return new gy(t)}function kn(t){const e=Ke(t)?new Array(t.length):{};for(const n in t)e[n]=mg(t,n);return e}class vy{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=ht(e);let s=!0,i=e;if(!Ke(e)||!cl(String(n)))do s=!wl(i)||Ln(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=g(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&ct(this._raw[this._key])){const n=this._object[this._key];if(ct(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return Kv(this._raw,this._key)}}class yy{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gg(t,e,n){return ct(t)?t:Ze(t)?new yy(t):wt(t)&&arguments.length>1?mg(t,e,n):J(t)}function mg(t,e,n){return new vy(t,e,n)}class by{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new vl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Co-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&At!==this)return Zp(this,!0),!0}get value(){const e=this.dep.track();return ng(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function _y(t,e,n=!1){let r,s;return Ze(t)?r=t:(r=t.get,s=t.set),new by(r,s,n)}const ta={},Fa=new WeakMap;let Ps;function wy(t,e=!1,n=Ps){if(n){let r=Fa.get(n);r||Fa.set(n,r=[]),r.push(t)}}function xy(t,e,n=kt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=x=>s?x:Ln(x)||s===!1||s===0?Ir(x,1):Ir(x);let u,d,f,h,p=!1,m=!1;if(ct(t)?(d=()=>t.value,p=Ln(t)):gr(t)?(d=()=>c(t),p=!0):Ke(t)?(m=!0,p=t.some(x=>gr(x)||Ln(x)),d=()=>t.map(x=>{if(ct(x))return x.value;if(gr(x))return c(x);if(Ze(x))return l?l(x,2):x()})):Ze(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Rr();try{f()}finally{Dr()}}const x=Ps;Ps=u;try{return l?l(t,3,[h]):t(h)}finally{Ps=x}}:d=pr,e&&s){const x=d,C=s===!0?1/0:s;d=()=>Ir(x(),C)}const w=Bo(),y=()=>{u.stop(),w&&w.active&&Fc(w.effects,u)};if(i&&e){const x=e;e=(...C)=>{x(...C),y()}}let b=m?new Array(t.length).fill(ta):ta;const v=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const C=u.run();if(s||p||(m?C.some((O,q)=>ss(O,b[q])):ss(C,b))){f&&f();const O=Ps;Ps=u;try{const q=[C,b===ta?void 0:m&&b[0]===ta?[]:b,h];b=C,l?l(e,3,q):e(...q)}finally{Ps=O}}}else u.run()};return a&&a(v),u=new Jp(d),u.scheduler=o?()=>o(v,!1):v,h=x=>wy(x,!1,u),f=u.onStop=()=>{const x=Fa.get(u);if(x){if(l)l(x,4);else for(const C of x)C();Fa.delete(u)}},e?r?v(!0):b=u.run():o?o(v.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Ir(t,e=1/0,n){if(e<=0||!wt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,ct(t))Ir(t.value,e,n);else if(Ke(t))for(let r=0;r<t.length;r++)Ir(t[r],e,n);else if(ul(t)||fi(t))t.forEach(r=>{Ir(r,e,n)});else if(Hp(t)){for(const r in t)Ir(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ir(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uo(t,e,n,r){try{return r?t(...r):t()}catch(s){xl(s,e,n)}}function tr(t,e,n,r){if(Ze(t)){const s=Uo(t,e,n,r);return s&&jp(s)&&s.catch(i=>{xl(i,e,n)}),s}if(Ke(t)){const s=[];for(let i=0;i<t.length;i++)s.push(tr(t[i],e,n,r));return s}}function xl(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||kt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){Rr(),Uo(i,null,10,[t,l,c]),Dr();return}}Cy(t,n,s,r,o)}function Cy(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const vn=[];let lr=-1;const hi=[];let ts=null,ii=0;const vg=Promise.resolve();let Ba=null;function _t(t){const e=Ba||vg;return t?e.then(this?t.bind(this):t):e}function ky(t){let e=lr+1,n=vn.length;for(;e<n;){const r=e+n>>>1,s=vn[r],i=Eo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function qc(t){if(!(t.flags&1)){const e=Eo(t),n=vn[vn.length-1];!n||!(t.flags&2)&&e>=Eo(n)?vn.push(t):vn.splice(ky(e),0,t),t.flags|=1,yg()}}function yg(){Ba||(Ba=vg.then(_g))}function Sy(t){Ke(t)?hi.push(...t):ts&&t.id===-1?ts.splice(ii+1,0,t):t.flags&1||(hi.push(t),t.flags|=1),yg()}function Wd(t,e,n=lr+1){for(;n<vn.length;n++){const r=vn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;vn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function bg(t){if(hi.length){const e=[...new Set(hi)].sort((n,r)=>Eo(n)-Eo(r));if(hi.length=0,ts){ts.push(...e);return}for(ts=e,ii=0;ii<ts.length;ii++){const n=ts[ii];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ts=null,ii=0}}const Eo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _g(t){try{for(lr=0;lr<vn.length;lr++){const e=vn[lr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Uo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;lr<vn.length;lr++){const e=vn[lr];e&&(e.flags&=-2)}lr=-1,vn.length=0,bg(),Ba=null,(vn.length||hi.length)&&_g()}}let on=null,wg=null;function Ua(t){const e=on;return on=t,wg=t&&t.type.__scopeId||null,e}function H(t,e=on,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&ja(-1);const i=Ua(e);let o;try{o=t(...s)}finally{Ua(i),r._d&&ja(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function tt(t,e){if(on===null)return t;const n=Tl(on),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=kt]=e[s];i&&(Ze(i)&&(i={mounted:i,updated:i}),i.deep&&Ir(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ws(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Rr(),tr(l,n,8,[t.el,a,t,e]),Dr())}}function jc(t,e){if(fn){let n=fn.provides;const r=fn.parent&&fn.parent.provides;r===n&&(n=fn.provides=Object.create(r)),n[t]=e}}function is(t,e,n=!1){const r=zt();if(r||Rs){let s=Rs?Rs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}function Ey(){return!!(zt()||Rs)}const Ty=Symbol.for("v-scx"),Ay=()=>is(Ty);function qt(t,e){return Cl(t,null,e)}function xg(t,e){return Cl(t,null,{flush:"post"})}function Je(t,e,n){return Cl(t,e,n)}function Cl(t,e,n=kt){const{immediate:r,deep:s,flush:i,once:o}=n,a=Xt({},n),l=e&&r||!e&&i!=="post";let c;if(Po){if(i==="sync"){const h=Ay();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=pr,h.resume=pr,h.pause=pr,h}}const u=fn;a.call=(h,p,m)=>tr(h,u,p,m);let d=!1;i==="post"?a.scheduler=h=>{mn(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():qc(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=xy(t,e,a);return Po&&(c?c.push(f):l&&f()),f}function Py(t,e,n){const r=this.proxy,s=Dt(t)?t.includes(".")?Cg(r,t):()=>r[t]:t.bind(r,r);let i;Ze(e)?i=e:(i=e.handler,n=e);const o=jo(this),a=Cl(s,i.bind(r),n);return o(),a}function Cg(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const kg=Symbol("_vte"),Sg=t=>t.__isTeleport,po=t=>t&&(t.disabled||t.disabled===""),Hd=t=>t&&(t.defer||t.defer===""),zd=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Vd=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Gu=(t,e)=>{const n=t&&t.to;return Dt(n)?e?e(n):null:n},Eg={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:w}}=c,y=po(e.props);let{shapeFlag:b,children:v,dynamicChildren:x}=e;if(t==null){const C=e.el=m(""),O=e.anchor=m("");h(C,n,r),h(O,n,r);const q=(E,P)=>{b&16&&u(v,E,P,s,i,o,a,l)},A=()=>{const E=e.target=Gu(e.props,p),P=Ag(E,e,m,h);E&&(o!=="svg"&&zd(E)?o="svg":o!=="mathml"&&Vd(E)&&(o="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(E),y||(q(E,P),Aa(e,!1)))};y&&(q(n,O),Aa(e,!0)),Hd(e.props)?(e.el.__isMounted=!1,mn(()=>{A(),delete e.el.__isMounted},i)):A()}else{if(Hd(e.props)&&t.el.__isMounted===!1){mn(()=>{Eg.process(t,e,n,r,s,i,o,a,l,c)},i);return}e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,O=e.target=t.target,q=e.targetAnchor=t.targetAnchor,A=po(t.props),E=A?n:O,P=A?C:q;if(o==="svg"||zd(O)?o="svg":(o==="mathml"||Vd(O))&&(o="mathml"),x?(f(t.dynamicChildren,x,E,s,i,o,a),Vc(t,e,!0)):l||d(t,e,E,P,s,i,o,a,!1),y)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):na(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=Gu(e.props,p);j&&na(e,j,null,c,0)}else A&&na(e,O,q,c,1);Aa(e,y)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),i&&s(l),o&16){const h=i||!po(f);for(let p=0;p<a.length;p++){const m=a[p];r(m,e,n,h,!!m.dynamicChildren)}}},move:na,hydrate:Oy};function na(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=i===2;if(d&&r(o,e,n),(!d||po(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&r(a,e,n)}function Oy(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function f(m,w,y,b){w.anchor=d(o(m),w,a(m),n,r,s,i),w.targetStart=y,w.targetAnchor=b}const h=e.target=Gu(e.props,l),p=po(e.props);if(h){const m=h._lpa||h.firstChild;if(e.shapeFlag&16)if(p)f(t,e,m,m&&o(m));else{e.anchor=o(t);let w=m;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}w=o(w)}e.targetAnchor||Ag(h,e,u,c),d(m&&o(m),e,h,n,r,s,i)}Aa(e,p)}else p&&e.shapeFlag&16&&f(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Tg=Eg;function Aa(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Ag(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[kg]=i,t&&(r(s,t),r(i,t)),i}const Pr=Symbol("_leaveCb"),ra=Symbol("_enterCb");function Iy(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rt(()=>{t.isMounted=!0}),Go(()=>{t.isUnmounting=!0}),t}const Fn=[Function,Array],Pg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fn,onEnter:Fn,onAfterEnter:Fn,onEnterCancelled:Fn,onBeforeLeave:Fn,onLeave:Fn,onAfterLeave:Fn,onLeaveCancelled:Fn,onBeforeAppear:Fn,onAppear:Fn,onAfterAppear:Fn,onAppearCancelled:Fn},Og=t=>{const e=t.subTree;return e.component?Og(e.component):e},Ly={name:"BaseTransition",props:Pg,setup(t,{slots:e}){const n=zt(),r=Iy();return()=>{const s=e.default&&Mg(e.default(),!0);if(!s||!s.length)return;const i=Ig(s),o=ht(t),{mode:a}=o;if(r.isLeaving)return su(i);const l=Yd(i);if(!l)return su(i);let c=qu(l,o,r,n,d=>c=d);l.type!==sn&&To(l,c);let u=n.subTree&&Yd(n.subTree);if(u&&u.type!==sn&&!Os(u,l)&&Og(n).type!==sn){let d=qu(u,o,r,n);if(To(u,d),a==="out-in"&&l.type!==sn)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},su(i);a==="in-out"&&l.type!==sn?d.delayLeave=(f,h,p)=>{const m=Lg(r,u);m[String(u.key)]=u,f[Pr]=()=>{h(),f[Pr]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Ig(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==sn){e=n;break}}return e}const My=Ly;function Lg(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function qu(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:w,onAppear:y,onAfterAppear:b,onAppearCancelled:v}=e,x=String(t.key),C=Lg(n,t),O=(E,P)=>{E&&tr(E,r,9,P)},q=(E,P)=>{const j=P[1];O(E,P),Ke(E)?E.every(T=>T.length<=1)&&j():E.length<=1&&j()},A={mode:o,persisted:a,beforeEnter(E){let P=l;if(!n.isMounted)if(i)P=w||l;else return;E[Pr]&&E[Pr](!0);const j=C[x];j&&Os(t,j)&&j.el[Pr]&&j.el[Pr](),O(P,[E])},enter(E){let P=c,j=u,T=d;if(!n.isMounted)if(i)P=y||c,j=b||u,T=v||d;else return;let B=!1;const Y=E[ra]=L=>{B||(B=!0,L?O(T,[E]):O(j,[E]),A.delayedLeave&&A.delayedLeave(),E[ra]=void 0)};P?q(P,[E,Y]):Y()},leave(E,P){const j=String(t.key);if(E[ra]&&E[ra](!0),n.isUnmounting)return P();O(f,[E]);let T=!1;const B=E[Pr]=Y=>{T||(T=!0,P(),Y?O(m,[E]):O(p,[E]),E[Pr]=void 0,C[j]===t&&delete C[j])};C[j]=t,h?q(h,[E,B]):B()},clone(E){const P=qu(E,e,n,r,s);return s&&s(P),P}};return A}function su(t){if(kl(t))return t=$r(t),t.children=null,t}function Yd(t){if(!kl(t))return Sg(t.type)&&t.children?Ig(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function To(t,e){t.shapeFlag&6&&t.component?(t.transition=e,To(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Mg(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ve?(o.patchFlag&128&&s++,r=r.concat(Mg(o.children,e,a))):(e||o.type!==sn)&&r.push(a!=null?$r(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function me(t,e){return Ze(t)?Xt({name:t.name},e,{setup:t}):t}function iu(){const t=zt();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Rg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Ga=new WeakMap;function go(t,e,n,r,s=!1){if(Ke(t)){t.forEach((p,m)=>go(p,e&&(Ke(e)?e[m]:e),n,r,s));return}if(pi(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&go(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Tl(r.component):r.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===kt?a.refs={}:a.refs,d=a.setupState,f=ht(d),h=d===kt?qp:p=>vt(f,p);if(c!=null&&c!==l){if(Kd(e),Dt(c))u[c]=null,h(c)&&(d[c]=null);else if(ct(c)){c.value=null;const p=e;p.k&&(u[p.k]=null)}}if(Ze(l))Uo(l,a,12,[o,u]);else{const p=Dt(l),m=ct(l);if(p||m){const w=()=>{if(t.f){const y=p?h(l)?d[l]:u[l]:l.value;if(s)Ke(y)&&Fc(y,i);else if(Ke(y))y.includes(i)||y.push(i);else if(p)u[l]=[i],h(l)&&(d[l]=u[l]);else{const b=[i];l.value=b,t.k&&(u[t.k]=b)}}else p?(u[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const y=()=>{w(),Ga.delete(t)};y.id=-1,Ga.set(t,y),mn(y,n)}else Kd(t),w()}}}function Kd(t){const e=Ga.get(t);e&&(e.flags|=8,Ga.delete(t))}pl().requestIdleCallback;pl().cancelIdleCallback;const pi=t=>!!t.type.__asyncLoader,kl=t=>t.type.__isKeepAlive;function Ry(t,e){Dg(t,"a",e)}function Dy(t,e){Dg(t,"da",e)}function Dg(t,e,n=fn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Sl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)kl(s.parent.vnode)&&Ny(r,e,n,s),s=s.parent}}function Ny(t,e,n,r){const s=Sl(e,t,r,!0);ln(()=>{Fc(r[e],s)},n)}function Sl(t,e,n=fn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Rr();const a=jo(n),l=tr(e,n,t,o);return a(),Dr(),l});return r?s.unshift(i):s.push(i),i}}const Ur=t=>(e,n=fn)=>{(!Po||t==="sp")&&Sl(t,(...r)=>e(...r),n)},Ng=Ur("bm"),Rt=Ur("m"),$y=Ur("bu"),Wc=Ur("u"),Go=Ur("bum"),ln=Ur("um"),Fy=Ur("sp"),By=Ur("rtg"),Uy=Ur("rtc");function Gy(t,e=fn){Sl("ec",t,e)}const $g="components";function yn(t,e){return Bg($g,t,!0,e)||t}const Fg=Symbol.for("v-ndc");function Pn(t){return Dt(t)?Bg($g,t,!1)||t:t||Fg}function Bg(t,e,n=!0,r=!1){const s=on||fn;if(s){const i=s.type;{const a=S2(i,!1);if(a&&(a===e||a===Cn(e)||a===fl(Cn(e))))return i}const o=Xd(s[t]||i[t],e)||Xd(s.appContext[t],e);return!o&&r?i:o}}function Xd(t,e){return t&&(t[e]||t[Cn(e)]||t[fl(Cn(e))])}function bt(t,e,n,r){let s;const i=n,o=Ke(t);if(o||Dt(t)){const a=o&&gr(t);let l=!1,c=!1;a&&(l=!Ln(t),c=Nr(t),t=yl(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?c?Ti(er(t[u])):er(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(wt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}function Ee(t,e,n={},r,s){if(on.ce||on.parent&&pi(on.parent)&&on.parent.ce){const c=Object.keys(n).length>0;return e!=="default"&&(n.name=e),M(),ce(Ve,null,[F("slot",n,r&&r())],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),M();const o=i&&Ug(i(n)),a=n.key||o&&o.key,l=ce(Ve,{key:(a&&!Zn(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Ug(t){return t.some(e=>dr(e)?!(e.type===sn||e.type===Ve&&!Ug(e.children)):!0)?t:null}function qy(t,e){const n={};for(const r in t)n[co(r)]=t[r];return n}const ju=t=>t?im(t)?Tl(t):ju(t.parent):null,mo=Xt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ju(t.parent),$root:t=>ju(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>jg(t),$forceUpdate:t=>t.f||(t.f=()=>{qc(t.update)}),$nextTick:t=>t.n||(t.n=_t.bind(t.proxy)),$watch:t=>Py.bind(t)}),ou=(t,e)=>t!==kt&&!t.__isScriptSetup&&vt(t,e),jy={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(ou(r,e))return o[e]=1,r[e];if(s!==kt&&vt(s,e))return o[e]=2,s[e];if(vt(i,e))return o[e]=3,i[e];if(n!==kt&&vt(n,e))return o[e]=4,n[e];Hu&&(o[e]=0)}}const c=mo[e];let u,d;if(c)return e==="$attrs"&&dn(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==kt&&vt(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,vt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return ou(s,e)?(s[e]=n,!0):r!==kt&&vt(r,e)?(r[e]=n,!0):vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:o}},a){let l;return!!(n[a]||t!==kt&&a[0]!=="$"&&vt(t,a)||ou(e,a)||vt(i,a)||vt(r,a)||vt(mo,a)||vt(s.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:vt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Wy(){return Hy().attrs}function Hy(t){const e=zt();return e.setupContext||(e.setupContext=am(e))}function Wu(t){return Ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Gg(t,e){const n=Wu(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?Ke(s)||Ze(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}let Hu=!0;function zy(t){const e=jg(t),n=t.proxy,r=t.ctx;Hu=!1,e.beforeCreate&&Jd(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:w,beforeDestroy:y,beforeUnmount:b,destroyed:v,unmounted:x,render:C,renderTracked:O,renderTriggered:q,errorCaptured:A,serverPrefetch:E,expose:P,inheritAttrs:j,components:T,directives:B,filters:Y}=e;if(c&&Vy(c,r,null),o)for(const k in o){const S=o[k];Ze(S)&&(r[k]=S.bind(n))}if(s){const k=s.call(n,n);wt(k)&&(t.data=jn(k))}if(Hu=!0,i)for(const k in i){const S=i[k],V=Ze(S)?S.bind(n,n):Ze(S.get)?S.get.bind(n,n):pr,ie=!Ze(S)&&Ze(S.set)?S.set.bind(n):pr,ae=pe({get:V,set:ie});Object.defineProperty(r,k,{enumerable:!0,configurable:!0,get:()=>ae.value,set:ve=>ae.value=ve})}if(a)for(const k in a)qg(a[k],r,n,k);if(l){const k=Ze(l)?l.call(n):l;Reflect.ownKeys(k).forEach(S=>{jc(S,k[S])})}u&&Jd(u,t,"c");function $(k,S){Ke(S)?S.forEach(V=>k(V.bind(n))):S&&k(S.bind(n))}if($(Ng,d),$(Rt,f),$($y,h),$(Wc,p),$(Ry,m),$(Dy,w),$(Gy,A),$(Uy,O),$(By,q),$(Go,b),$(ln,x),$(Fy,E),Ke(P))if(P.length){const k=t.exposed||(t.exposed={});P.forEach(S=>{Object.defineProperty(k,S,{get:()=>n[S],set:V=>n[S]=V,enumerable:!0})})}else t.exposed||(t.exposed={});C&&t.render===pr&&(t.render=C),j!=null&&(t.inheritAttrs=j),T&&(t.components=T),B&&(t.directives=B),E&&Rg(t)}function Vy(t,e,n=pr){Ke(t)&&(t=zu(t));for(const r in t){const s=t[r];let i;wt(s)?"default"in s?i=is(s.from||r,s.default,!0):i=is(s.from||r):i=is(s),ct(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Jd(t,e,n){tr(Ke(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function qg(t,e,n,r){let s=r.includes(".")?Cg(n,r):()=>n[r];if(Dt(t)){const i=e[t];Ze(i)&&Je(s,i)}else if(Ze(t))Je(s,t.bind(n));else if(wt(t))if(Ke(t))t.forEach(i=>qg(i,e,n,r));else{const i=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(i)&&Je(s,i,t)}}function jg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>qa(l,c,o,!0)),qa(l,e,o)),wt(e)&&i.set(e,l),l}function qa(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&qa(t,i,n,!0),s&&s.forEach(o=>qa(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Yy[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Yy={data:Qd,props:Zd,emits:Zd,methods:no,computed:no,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:no,directives:no,watch:Xy,provide:Qd,inject:Ky};function Qd(t,e){return e?t?function(){return Xt(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function Ky(t,e){return no(zu(t),zu(e))}function zu(t){if(Ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function pn(t,e){return t?[...new Set([].concat(t,e))]:e}function no(t,e){return t?Xt(Object.create(null),t,e):e}function Zd(t,e){return t?Ke(t)&&Ke(e)?[...new Set([...t,...e])]:Xt(Object.create(null),Wu(t),Wu(e??{})):e}function Xy(t,e){if(!t)return e;if(!e)return t;const n=Xt(Object.create(null),t);for(const r in e)n[r]=pn(t[r],e[r]);return n}function Wg(){return{app:null,config:{isNativeTag:qp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jy=0;function Qy(t,e){return function(r,s=null){Ze(r)||(r=Xt({},r)),s!=null&&!wt(s)&&(s=null);const i=Wg(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Jy++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:T2,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Ze(u.install)?(o.add(u),u.install(c,...d)):Ze(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||F(r,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,Tl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(tr(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Rs;Rs=c;try{return u()}finally{Rs=d}}};return c}}let Rs=null;const Zy=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Cn(e)}Modifiers`]||t[`${cs(e)}Modifiers`];function e2(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||kt;let s=n;const i=e.startsWith("update:"),o=i&&Zy(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>Dt(u)?u.trim():u)),o.number&&(s=n.map(hl)));let a,l=r[a=co(e)]||r[a=co(Cn(e))];!l&&i&&(l=r[a=co(cs(e))]),l&&tr(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,tr(c,t,6,s)}}const t2=new WeakMap;function Hg(t,e,n=!1){const r=n?t2:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Ze(t)){const l=c=>{const u=Hg(c,e,!0);u&&(a=!0,Xt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(wt(t)&&r.set(t,null),null):(Ke(i)?i.forEach(l=>o[l]=null):Xt(o,i),wt(t)&&r.set(t,o),o)}function El(t,e){return!t||!ll(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(t,e[0].toLowerCase()+e.slice(1))||vt(t,cs(e))||vt(t,e))}function ef(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,w=Ua(t);let y,b;try{if(n.shapeFlag&4){const x=s||r,C=x;y=cr(c.call(C,x,u,d,h,f,p)),b=a}else{const x=e;y=cr(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),b=e.props?a:n2(a)}}catch(x){vo.length=0,xl(x,t,1),y=F(sn)}let v=y;if(b&&m!==!1){const x=Object.keys(b),{shapeFlag:C}=v;x.length&&C&7&&(i&&x.some($c)&&(b=r2(b,i)),v=$r(v,b,!1,!0))}return n.dirs&&(v=$r(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&To(v,n.transition),y=v,Ua(w),y}const n2=t=>{let e;for(const n in t)(n==="class"||n==="style"||ll(n))&&((e||(e={}))[n]=t[n]);return e},r2=(t,e)=>{const n={};for(const r in t)(!$c(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function s2(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?tf(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!El(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?tf(r,o,c):!0:!!o;return!1}function tf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!El(n,i))return!0}return!1}function i2({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const zg={},Vg=()=>Object.create(zg),Yg=t=>Object.getPrototypeOf(t)===zg;function o2(t,e,n,r=!1){const s={},i=Vg();t.propsDefaults=Object.create(null),Kg(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:fy(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function a2(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ht(s),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(El(t.emitsOptions,f))continue;const h=e[f];if(l)if(vt(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const p=Cn(f);s[p]=Vu(l,a,p,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{Kg(t,e,s,i)&&(c=!0);let u;for(const d in a)(!e||!vt(e,d)&&((u=cs(d))===d||!vt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=Vu(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!vt(e,d))&&(delete i[d],c=!0)}c&&Or(t.attrs,"set","")}function Kg(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(uo(l))continue;const c=e[l];let u;s&&vt(s,u=Cn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:El(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=ht(n),c=a||kt;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Vu(s,l,d,c[d],t,!vt(c,d))}}return o}function Vu(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=jo(s);r=c[n]=l.call(null,e),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===cs(n))&&(r=!0))}return r}const l2=new WeakMap;function Xg(t,e,n=!1){const r=n?l2:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!Ze(t)){const u=d=>{l=!0;const[f,h]=Xg(d,e,!0);Xt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return wt(t)&&r.set(t,di),di;if(Ke(i))for(let u=0;u<i.length;u++){const d=Cn(i[u]);nf(d)&&(o[d]=kt)}else if(i)for(const u in i){const d=Cn(u);if(nf(d)){const f=i[u],h=o[d]=Ke(f)||Ze(f)?{type:f}:Xt({},f),p=h.type;let m=!1,w=!0;if(Ke(p))for(let y=0;y<p.length;++y){const b=p[y],v=Ze(b)&&b.name;if(v==="Boolean"){m=!0;break}else v==="String"&&(w=!1)}else m=Ze(p)&&p.name==="Boolean";h[0]=m,h[1]=w,(m||vt(h,"default"))&&a.push(d)}}const c=[o,a];return wt(t)&&r.set(t,c),c}function nf(t){return t[0]!=="$"&&!uo(t)}const Hc=t=>t==="_"||t==="_ctx"||t==="$stable",zc=t=>Ke(t)?t.map(cr):[cr(t)],u2=(t,e,n)=>{if(e._n)return e;const r=H((...s)=>zc(e(...s)),n);return r._c=!1,r},Jg=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Hc(s))continue;const i=t[s];if(Ze(i))e[s]=u2(s,i,r);else if(i!=null){const o=zc(i);e[s]=()=>o}}},Qg=(t,e)=>{const n=zc(e);t.slots.default=()=>n},Zg=(t,e,n)=>{for(const r in e)(n||!Hc(r))&&(t[r]=e[r])},c2=(t,e,n)=>{const r=t.slots=Vg();if(t.vnode.shapeFlag&32){const s=e._;s?(Zg(r,e,n),n&&zp(r,"_",s,!0)):Jg(e,r)}else e&&Qg(t,e)},d2=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=kt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Zg(s,e,n):(i=!e.$stable,Jg(e,s)),o=e}else e&&(Qg(t,e),o={default:1});if(i)for(const a in s)!Hc(a)&&o[a]==null&&delete s[a]},mn=m2;function f2(t){return h2(t)}function h2(t,e){const n=pl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=pr,insertStaticContent:p}=t,m=(U,K,z,Z=null,de=null,he=null,Ce=void 0,Te=null,R=!!K.dynamicChildren)=>{if(U===K)return;U&&!Os(U,K)&&(Z=Q(U),ve(U,de,he,!0),U=null),K.patchFlag===-2&&(R=!1,K.dynamicChildren=null);const{type:D,ref:ue,shapeFlag:ge}=K;switch(D){case qo:w(U,K,z,Z);break;case sn:y(U,K,z,Z);break;case Pa:U==null&&b(K,z,Z,Ce);break;case Ve:T(U,K,z,Z,de,he,Ce,Te,R);break;default:ge&1?C(U,K,z,Z,de,he,Ce,Te,R):ge&6?B(U,K,z,Z,de,he,Ce,Te,R):(ge&64||ge&128)&&D.process(U,K,z,Z,de,he,Ce,Te,R,Fe)}ue!=null&&de?go(ue,U&&U.ref,he,K||U,!K):ue==null&&U&&U.ref!=null&&go(U.ref,null,he,U,!0)},w=(U,K,z,Z)=>{if(U==null)r(K.el=a(K.children),z,Z);else{const de=K.el=U.el;K.children!==U.children&&c(de,K.children)}},y=(U,K,z,Z)=>{U==null?r(K.el=l(K.children||""),z,Z):K.el=U.el},b=(U,K,z,Z)=>{[U.el,U.anchor]=p(U.children,K,z,Z,U.el,U.anchor)},v=({el:U,anchor:K},z,Z)=>{let de;for(;U&&U!==K;)de=f(U),r(U,z,Z),U=de;r(K,z,Z)},x=({el:U,anchor:K})=>{let z;for(;U&&U!==K;)z=f(U),s(U),U=z;s(K)},C=(U,K,z,Z,de,he,Ce,Te,R)=>{if(K.type==="svg"?Ce="svg":K.type==="math"&&(Ce="mathml"),U==null)O(K,z,Z,de,he,Ce,Te,R);else{const D=U.el&&U.el._isVueCE?U.el:null;try{D&&D._beginPatch(),E(U,K,de,he,Ce,Te,R)}finally{D&&D._endPatch()}}},O=(U,K,z,Z,de,he,Ce,Te)=>{let R,D;const{props:ue,shapeFlag:ge,transition:Me,dirs:se}=U;if(R=U.el=o(U.type,he,ue&&ue.is,ue),ge&8?u(R,U.children):ge&16&&A(U.children,R,null,Z,de,au(U,he),Ce,Te),se&&ws(U,null,Z,"created"),q(R,U,U.scopeId,Ce,Z),ue){for(const te in ue)te!=="value"&&!uo(te)&&i(R,te,null,ue[te],he,Z);"value"in ue&&i(R,"value",null,ue.value,he),(D=ue.onVnodeBeforeMount)&&ar(D,Z,U)}se&&ws(U,null,Z,"beforeMount");const N=p2(de,Me);N&&Me.beforeEnter(R),r(R,K,z),((D=ue&&ue.onVnodeMounted)||N||se)&&mn(()=>{D&&ar(D,Z,U),N&&Me.enter(R),se&&ws(U,null,Z,"mounted")},de)},q=(U,K,z,Z,de)=>{if(z&&h(U,z),Z)for(let he=0;he<Z.length;he++)h(U,Z[he]);if(de){let he=de.subTree;if(K===he||nm(he.type)&&(he.ssContent===K||he.ssFallback===K)){const Ce=de.vnode;q(U,Ce,Ce.scopeId,Ce.slotScopeIds,de.parent)}}},A=(U,K,z,Z,de,he,Ce,Te,R=0)=>{for(let D=R;D<U.length;D++){const ue=U[D]=Te?ns(U[D]):cr(U[D]);m(null,ue,K,z,Z,de,he,Ce,Te)}},E=(U,K,z,Z,de,he,Ce)=>{const Te=K.el=U.el;let{patchFlag:R,dynamicChildren:D,dirs:ue}=K;R|=U.patchFlag&16;const ge=U.props||kt,Me=K.props||kt;let se;if(z&&xs(z,!1),(se=Me.onVnodeBeforeUpdate)&&ar(se,z,K,U),ue&&ws(K,U,z,"beforeUpdate"),z&&xs(z,!0),(ge.innerHTML&&Me.innerHTML==null||ge.textContent&&Me.textContent==null)&&u(Te,""),D?P(U.dynamicChildren,D,Te,z,Z,au(K,de),he):Ce||S(U,K,Te,null,z,Z,au(K,de),he,!1),R>0){if(R&16)j(Te,ge,Me,z,de);else if(R&2&&ge.class!==Me.class&&i(Te,"class",null,Me.class,de),R&4&&i(Te,"style",ge.style,Me.style,de),R&8){const N=K.dynamicProps;for(let te=0;te<N.length;te++){const _e=N[te],Pe=ge[_e],rt=Me[_e];(rt!==Pe||_e==="value")&&i(Te,_e,Pe,rt,de,z)}}R&1&&U.children!==K.children&&u(Te,K.children)}else!Ce&&D==null&&j(Te,ge,Me,z,de);((se=Me.onVnodeUpdated)||ue)&&mn(()=>{se&&ar(se,z,K,U),ue&&ws(K,U,z,"updated")},Z)},P=(U,K,z,Z,de,he,Ce)=>{for(let Te=0;Te<K.length;Te++){const R=U[Te],D=K[Te],ue=R.el&&(R.type===Ve||!Os(R,D)||R.shapeFlag&198)?d(R.el):z;m(R,D,ue,null,Z,de,he,Ce,!0)}},j=(U,K,z,Z,de)=>{if(K!==z){if(K!==kt)for(const he in K)!uo(he)&&!(he in z)&&i(U,he,K[he],null,de,Z);for(const he in z){if(uo(he))continue;const Ce=z[he],Te=K[he];Ce!==Te&&he!=="value"&&i(U,he,Te,Ce,de,Z)}"value"in z&&i(U,"value",K.value,z.value,de)}},T=(U,K,z,Z,de,he,Ce,Te,R)=>{const D=K.el=U?U.el:a(""),ue=K.anchor=U?U.anchor:a("");let{patchFlag:ge,dynamicChildren:Me,slotScopeIds:se}=K;se&&(Te=Te?Te.concat(se):se),U==null?(r(D,z,Z),r(ue,z,Z),A(K.children||[],z,ue,de,he,Ce,Te,R)):ge>0&&ge&64&&Me&&U.dynamicChildren&&U.dynamicChildren.length===Me.length?(P(U.dynamicChildren,Me,z,de,he,Ce,Te),(K.key!=null||de&&K===de.subTree)&&Vc(U,K,!0)):S(U,K,z,ue,de,he,Ce,Te,R)},B=(U,K,z,Z,de,he,Ce,Te,R)=>{K.slotScopeIds=Te,U==null?K.shapeFlag&512?de.ctx.activate(K,z,Z,Ce,R):Y(K,z,Z,de,he,Ce,R):L(U,K,R)},Y=(U,K,z,Z,de,he,Ce)=>{const Te=U.component=w2(U,Z,de);if(kl(U)&&(Te.ctx.renderer=Fe),x2(Te,!1,Ce),Te.asyncDep){if(de&&de.registerDep(Te,$,Ce),!U.el){const R=Te.subTree=F(sn);y(null,R,K,z),U.placeholder=R.el}}else $(Te,U,K,z,de,he,Ce)},L=(U,K,z)=>{const Z=K.component=U.component;if(s2(U,K,z))if(Z.asyncDep&&!Z.asyncResolved){k(Z,K,z);return}else Z.next=K,Z.update();else K.el=U.el,Z.vnode=K},$=(U,K,z,Z,de,he,Ce)=>{const Te=()=>{if(U.isMounted){let{next:ge,bu:Me,u:se,parent:N,vnode:te}=U;{const Et=em(U);if(Et){ge&&(ge.el=te.el,k(U,ge,Ce)),Et.asyncDep.then(()=>{U.isUnmounted||Te()});return}}let _e=ge,Pe;xs(U,!1),ge?(ge.el=te.el,k(U,ge,Ce)):ge=te,Me&&Ta(Me),(Pe=ge.props&&ge.props.onVnodeBeforeUpdate)&&ar(Pe,N,ge,te),xs(U,!0);const rt=ef(U),xt=U.subTree;U.subTree=rt,m(xt,rt,d(xt.el),Q(xt),U,de,he),ge.el=rt.el,_e===null&&i2(U,rt.el),se&&mn(se,de),(Pe=ge.props&&ge.props.onVnodeUpdated)&&mn(()=>ar(Pe,N,ge,te),de)}else{let ge;const{el:Me,props:se}=K,{bm:N,m:te,parent:_e,root:Pe,type:rt}=U,xt=pi(K);xs(U,!1),N&&Ta(N),!xt&&(ge=se&&se.onVnodeBeforeMount)&&ar(ge,_e,K),xs(U,!0);{Pe.ce&&Pe.ce._def.shadowRoot!==!1&&Pe.ce._injectChildStyle(rt);const Et=U.subTree=ef(U);m(null,Et,z,Z,U,de,he),K.el=Et.el}if(te&&mn(te,de),!xt&&(ge=se&&se.onVnodeMounted)){const Et=K;mn(()=>ar(ge,_e,Et),de)}(K.shapeFlag&256||_e&&pi(_e.vnode)&&_e.vnode.shapeFlag&256)&&U.a&&mn(U.a,de),U.isMounted=!0,K=z=Z=null}};U.scope.on();const R=U.effect=new Jp(Te);U.scope.off();const D=U.update=R.run.bind(R),ue=U.job=R.runIfDirty.bind(R);ue.i=U,ue.id=U.uid,R.scheduler=()=>qc(ue),xs(U,!0),D()},k=(U,K,z)=>{K.component=U;const Z=U.vnode.props;U.vnode=K,U.next=null,a2(U,K.props,Z,z),d2(U,K.children,z),Rr(),Wd(U),Dr()},S=(U,K,z,Z,de,he,Ce,Te,R=!1)=>{const D=U&&U.children,ue=U?U.shapeFlag:0,ge=K.children,{patchFlag:Me,shapeFlag:se}=K;if(Me>0){if(Me&128){ie(D,ge,z,Z,de,he,Ce,Te,R);return}else if(Me&256){V(D,ge,z,Z,de,he,Ce,Te,R);return}}se&8?(ue&16&&xe(D,de,he),ge!==D&&u(z,ge)):ue&16?se&16?ie(D,ge,z,Z,de,he,Ce,Te,R):xe(D,de,he,!0):(ue&8&&u(z,""),se&16&&A(ge,z,Z,de,he,Ce,Te,R))},V=(U,K,z,Z,de,he,Ce,Te,R)=>{U=U||di,K=K||di;const D=U.length,ue=K.length,ge=Math.min(D,ue);let Me;for(Me=0;Me<ge;Me++){const se=K[Me]=R?ns(K[Me]):cr(K[Me]);m(U[Me],se,z,null,de,he,Ce,Te,R)}D>ue?xe(U,de,he,!0,!1,ge):A(K,z,Z,de,he,Ce,Te,R,ge)},ie=(U,K,z,Z,de,he,Ce,Te,R)=>{let D=0;const ue=K.length;let ge=U.length-1,Me=ue-1;for(;D<=ge&&D<=Me;){const se=U[D],N=K[D]=R?ns(K[D]):cr(K[D]);if(Os(se,N))m(se,N,z,null,de,he,Ce,Te,R);else break;D++}for(;D<=ge&&D<=Me;){const se=U[ge],N=K[Me]=R?ns(K[Me]):cr(K[Me]);if(Os(se,N))m(se,N,z,null,de,he,Ce,Te,R);else break;ge--,Me--}if(D>ge){if(D<=Me){const se=Me+1,N=se<ue?K[se].el:Z;for(;D<=Me;)m(null,K[D]=R?ns(K[D]):cr(K[D]),z,N,de,he,Ce,Te,R),D++}}else if(D>Me)for(;D<=ge;)ve(U[D],de,he,!0),D++;else{const se=D,N=D,te=new Map;for(D=N;D<=Me;D++){const Zt=K[D]=R?ns(K[D]):cr(K[D]);Zt.key!=null&&te.set(Zt.key,D)}let _e,Pe=0;const rt=Me-N+1;let xt=!1,Et=0;const nn=new Array(rt);for(D=0;D<rt;D++)nn[D]=0;for(D=se;D<=ge;D++){const Zt=U[D];if(Pe>=rt){ve(Zt,de,he,!0);continue}let rn;if(Zt.key!=null)rn=te.get(Zt.key);else for(_e=N;_e<=Me;_e++)if(nn[_e-N]===0&&Os(Zt,K[_e])){rn=_e;break}rn===void 0?ve(Zt,de,he,!0):(nn[rn-N]=D+1,rn>=Et?Et=rn:xt=!0,m(Zt,K[rn],z,null,de,he,Ce,Te,R),Pe++)}const or=xt?g2(nn):di;for(_e=or.length-1,D=rt-1;D>=0;D--){const Zt=N+D,rn=K[Zt],Nn=K[Zt+1],Wn=Zt+1<ue?Nn.el||tm(Nn):Z;nn[D]===0?m(null,rn,z,Wn,de,he,Ce,Te,R):xt&&(_e<0||D!==or[_e]?ae(rn,z,Wn,2):_e--)}}},ae=(U,K,z,Z,de=null)=>{const{el:he,type:Ce,transition:Te,children:R,shapeFlag:D}=U;if(D&6){ae(U.component.subTree,K,z,Z);return}if(D&128){U.suspense.move(K,z,Z);return}if(D&64){Ce.move(U,K,z,Fe);return}if(Ce===Ve){r(he,K,z);for(let ge=0;ge<R.length;ge++)ae(R[ge],K,z,Z);r(U.anchor,K,z);return}if(Ce===Pa){v(U,K,z);return}if(Z!==2&&D&1&&Te)if(Z===0)Te.beforeEnter(he),r(he,K,z),mn(()=>Te.enter(he),de);else{const{leave:ge,delayLeave:Me,afterLeave:se}=Te,N=()=>{U.ctx.isUnmounted?s(he):r(he,K,z)},te=()=>{he._isLeaving&&he[Pr](!0),ge(he,()=>{N(),se&&se()})};Me?Me(he,N,te):te()}else r(he,K,z)},ve=(U,K,z,Z=!1,de=!1)=>{const{type:he,props:Ce,ref:Te,children:R,dynamicChildren:D,shapeFlag:ue,patchFlag:ge,dirs:Me,cacheIndex:se}=U;if(ge===-2&&(de=!1),Te!=null&&(Rr(),go(Te,null,z,U,!0),Dr()),se!=null&&(K.renderCache[se]=void 0),ue&256){K.ctx.deactivate(U);return}const N=ue&1&&Me,te=!pi(U);let _e;if(te&&(_e=Ce&&Ce.onVnodeBeforeUnmount)&&ar(_e,K,U),ue&6)be(U.component,z,Z);else{if(ue&128){U.suspense.unmount(z,Z);return}N&&ws(U,null,K,"beforeUnmount"),ue&64?U.type.remove(U,K,z,Fe,Z):D&&!D.hasOnce&&(he!==Ve||ge>0&&ge&64)?xe(D,K,z,!1,!0):(he===Ve&&ge&384||!de&&ue&16)&&xe(R,K,z),Z&&fe(U)}(te&&(_e=Ce&&Ce.onVnodeUnmounted)||N)&&mn(()=>{_e&&ar(_e,K,U),N&&ws(U,null,K,"unmounted")},z)},fe=U=>{const{type:K,el:z,anchor:Z,transition:de}=U;if(K===Ve){Ge(z,Z);return}if(K===Pa){x(U);return}const he=()=>{s(z),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(U.shapeFlag&1&&de&&!de.persisted){const{leave:Ce,delayLeave:Te}=de,R=()=>Ce(z,he);Te?Te(U.el,he,R):R()}else he()},Ge=(U,K)=>{let z;for(;U!==K;)z=f(U),s(U),U=z;s(K)},be=(U,K,z)=>{const{bum:Z,scope:de,job:he,subTree:Ce,um:Te,m:R,a:D}=U;rf(R),rf(D),Z&&Ta(Z),de.stop(),he&&(he.flags|=8,ve(Ce,U,K,z)),Te&&mn(Te,K),mn(()=>{U.isUnmounted=!0},K)},xe=(U,K,z,Z=!1,de=!1,he=0)=>{for(let Ce=he;Ce<U.length;Ce++)ve(U[Ce],K,z,Z,de)},Q=U=>{if(U.shapeFlag&6)return Q(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const K=f(U.anchor||U.el),z=K&&K[kg];return z?f(z):K};let $e=!1;const Le=(U,K,z)=>{let Z;U==null?K._vnode&&(ve(K._vnode,null,null,!0),Z=K._vnode.component):m(K._vnode||null,U,K,null,null,null,z),K._vnode=U,$e||($e=!0,Wd(Z),bg(),$e=!1)},Fe={p:m,um:ve,m:ae,r:fe,mt:Y,mc:A,pc:S,pbc:P,n:Q,o:t};return{render:Le,hydrate:void 0,createApp:Qy(Le)}}function au({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function xs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function p2(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Vc(t,e,n=!1){const r=t.children,s=e.children;if(Ke(r)&&Ke(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ns(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Vc(o,a)),a.type===qo&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===Ve?1:0)),a.type===sn&&!a.el&&(a.el=o.el)}}function g2(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function em(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:em(e)}function rf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function tm(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?tm(e.subTree):null}const nm=t=>t.__isSuspense;function m2(t,e){e&&e.pendingBranch?Ke(t)?e.effects.push(...t):e.effects.push(t):Sy(t)}const Ve=Symbol.for("v-fgt"),qo=Symbol.for("v-txt"),sn=Symbol.for("v-cmt"),Pa=Symbol.for("v-stc"),vo=[];let In=null;function M(t=!1){vo.push(In=t?null:[])}function v2(){vo.pop(),In=vo[vo.length-1]||null}let Ao=1;function ja(t,e=!1){Ao+=t,t<0&&In&&e&&(In.hasOnce=!0)}function rm(t){return t.dynamicChildren=Ao>0?In||di:null,v2(),Ao>0&&In&&In.push(t),t}function le(t,e,n,r,s,i){return rm(_(t,e,n,r,s,i,!0))}function ce(t,e,n,r,s){return rm(F(t,e,n,r,s,!0))}function dr(t){return t?t.__v_isVNode===!0:!1}function Os(t,e){return t.type===e.type&&t.key===e.key}const sm=({key:t})=>t??null,Oa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Dt(t)||ct(t)||Ze(t)?{i:on,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,r=0,s=null,i=t===Ve?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sm(e),ref:e&&Oa(e),scopeId:wg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:on};return a?(Yc(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Dt(n)?8:16),Ao>0&&!o&&In&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&In.push(l),l}const F=y2;function y2(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Fg)&&(t=sn),dr(t)){const a=$r(t,e,!0);return n&&Yc(a,n),Ao>0&&!i&&In&&(a.shapeFlag&6?In[In.indexOf(t)]=a:In.push(a)),a.patchFlag=-2,a}if(E2(t)&&(t=t.__vccOpts),e){e=Nt(e);let{class:a,style:l}=e;a&&!Dt(a)&&(e.class=st(a)),wt(l)&&(wl(l)&&!Ke(l)&&(l=Xt({},l)),e.style=ft(l))}const o=Dt(t)?1:nm(t)?128:Sg(t)?64:wt(t)?4:Ze(t)?2:0;return _(t,e,n,r,s,o,i,!0)}function Nt(t){return t?wl(t)||Yg(t)?Xt({},t):t:null}function $r(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Xe(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&sm(c),ref:e&&e.ref?n&&i?Ke(i)?i.concat(Oa(e)):[i,Oa(e)]:Oa(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ve?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$r(t.ssContent),ssFallback:t.ssFallback&&$r(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&To(u,l.clone(u)),u}function Ye(t=" ",e=0){return F(qo,null,t,e)}function Ia(t,e){const n=F(Pa,null,t);return n.staticCount=e,n}function He(t="",e=!1){return e?(M(),ce(sn,null,t)):F(sn,null,t)}function cr(t){return t==null||typeof t=="boolean"?F(sn):Ke(t)?F(Ve,null,t.slice()):dr(t)?ns(t):F(qo,null,String(t))}function ns(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$r(t)}function Yc(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ke(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Yc(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Yg(e)?e._ctx=on:s===3&&on&&(on.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:on},n=32):(e=String(e),r&64?(n=16,e=[Ye(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=st([e.class,r.class]));else if(s==="style")e.style=ft([e.style,r.style]);else if(ll(s)){const i=e[s],o=r[s];o&&i!==o&&!(Ke(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function ar(t,e,n,r=null){tr(t,e,7,[n,r])}const b2=Wg();let _2=0;function w2(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||b2,i={uid:_2++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xg(r,s),emitsOptions:Hg(r,s),emit:null,emitted:null,propsDefaults:kt,inheritAttrs:r.inheritAttrs,ctx:kt,data:kt,props:kt,attrs:kt,slots:kt,refs:kt,setupState:kt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=e2.bind(null,i),t.ce&&t.ce(i),i}let fn=null;const zt=()=>fn||on;let Wa,Yu;{const t=pl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Wa=e("__VUE_INSTANCE_SETTERS__",n=>fn=n),Yu=e("__VUE_SSR_SETTERS__",n=>Po=n)}const jo=t=>{const e=fn;return Wa(t),t.scope.on(),()=>{t.scope.off(),Wa(e)}},sf=()=>{fn&&fn.scope.off(),Wa(null)};function im(t){return t.vnode.shapeFlag&4}let Po=!1;function x2(t,e=!1,n=!1){e&&Yu(e);const{props:r,children:s}=t.vnode,i=im(t);o2(t,r,i,e),c2(t,s,n||e);const o=i?C2(t,e):void 0;return e&&Yu(!1),o}function C2(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jy);const{setup:r}=n;if(r){Rr();const s=t.setupContext=r.length>1?am(t):null,i=jo(t),o=Uo(r,t,0,[t.props,s]),a=jp(o);if(Dr(),i(),(a||t.sp)&&!pi(t)&&Rg(t),a){if(o.then(sf,sf),e)return o.then(l=>{of(t,l)}).catch(l=>{xl(l,t,0)});t.asyncDep=o}else of(t,o)}else om(t)}function of(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:wt(e)&&(t.setupState=pg(e)),om(t)}function om(t,e,n){const r=t.type;t.render||(t.render=r.render||pr);{const s=jo(t);Rr();try{zy(t)}finally{Dr(),s()}}}const k2={get(t,e){return dn(t,"get",""),t[e]}};function am(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,k2),slots:t.slots,emit:t.emit,expose:e}}function Tl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(pg(Ei(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in mo)return mo[n](t)},has(e,n){return n in e||n in mo}})):t.proxy}function S2(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function E2(t){return Ze(t)&&"__vccOpts"in t}const pe=(t,e)=>_y(t,e,Po);function wn(t,e,n){try{ja(-1);const r=arguments.length;return r===2?wt(e)&&!Ke(e)?dr(e)?F(t,null,[e]):F(t,e):F(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&dr(n)&&(n=[n]),F(t,e,n))}finally{ja(1)}}const T2="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ku;const af=typeof window<"u"&&window.trustedTypes;if(af)try{Ku=af.createPolicy("vue",{createHTML:t=>t})}catch{}const lm=Ku?t=>Ku.createHTML(t):t=>t,A2="http://www.w3.org/2000/svg",P2="http://www.w3.org/1998/Math/MathML",Ar=typeof document<"u"?document:null,lf=Ar&&Ar.createElement("template"),O2={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Ar.createElementNS(A2,t):e==="mathml"?Ar.createElementNS(P2,t):n?Ar.createElement(t,{is:n}):Ar.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Ar.createTextNode(t),createComment:t=>Ar.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ar.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{lf.innerHTML=lm(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=lf.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},zr="transition",Hi="animation",Oo=Symbol("_vtc"),um={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},I2=Xt({},Pg,um),L2=t=>(t.displayName="Transition",t.props=I2,t),cm=L2((t,{slots:e})=>wn(My,M2(t),e)),Cs=(t,e=[])=>{Ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},uf=t=>t?Ke(t)?t.some(e=>e.length>1):t.length>1:!1;function M2(t){const e={};for(const T in t)T in um||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=R2(s),m=p&&p[0],w=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:v,onLeave:x,onLeaveCancelled:C,onBeforeAppear:O=y,onAppear:q=b,onAppearCancelled:A=v}=e,E=(T,B,Y,L)=>{T._enterCancelled=L,ks(T,B?u:a),ks(T,B?c:o),Y&&Y()},P=(T,B)=>{T._isLeaving=!1,ks(T,d),ks(T,h),ks(T,f),B&&B()},j=T=>(B,Y)=>{const L=T?q:b,$=()=>E(B,T,Y);Cs(L,[B,$]),cf(()=>{ks(B,T?l:i),Cr(B,T?u:a),uf(L)||df(B,r,m,$)})};return Xt(e,{onBeforeEnter(T){Cs(y,[T]),Cr(T,i),Cr(T,o)},onBeforeAppear(T){Cs(O,[T]),Cr(T,l),Cr(T,c)},onEnter:j(!1),onAppear:j(!0),onLeave(T,B){T._isLeaving=!0;const Y=()=>P(T,B);Cr(T,d),T._enterCancelled?(Cr(T,f),pf(T)):(pf(T),Cr(T,f)),cf(()=>{T._isLeaving&&(ks(T,d),Cr(T,h),uf(x)||df(T,r,w,Y))}),Cs(x,[T,Y])},onEnterCancelled(T){E(T,!1,void 0,!0),Cs(v,[T])},onAppearCancelled(T){E(T,!0,void 0,!0),Cs(A,[T])},onLeaveCancelled(T){P(T),Cs(C,[T])}})}function R2(t){if(t==null)return null;if(wt(t))return[lu(t.enter),lu(t.leave)];{const e=lu(t);return[e,e]}}function lu(t){return Fv(t)}function Cr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Oo]||(t[Oo]=new Set)).add(e)}function ks(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Oo];n&&(n.delete(e),n.size||(t[Oo]=void 0))}function cf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let D2=0;function df(t,e,n,r){const s=t._endId=++D2,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=N2(t,e);if(!o)return r();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function N2(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${zr}Delay`),i=r(`${zr}Duration`),o=ff(s,i),a=r(`${Hi}Delay`),l=r(`${Hi}Duration`),c=ff(a,l);let u=null,d=0,f=0;e===zr?o>0&&(u=zr,d=o,f=i.length):e===Hi?c>0&&(u=Hi,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?zr:Hi:null,f=u?u===zr?i.length:l.length:0);const h=u===zr&&/\b(?:transform|all)(?:,|$)/.test(r(`${zr}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function ff(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>hf(n)+hf(t[r])))}function hf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function pf(t){return(t?t.ownerDocument:document).body.offsetHeight}function $2(t,e,n){const r=t[Oo];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gf=Symbol("_vod"),F2=Symbol("_vsh"),B2=Symbol(""),U2=/(?:^|;)\s*display\s*:/;function G2(t,e,n){const r=t.style,s=Dt(n);let i=!1;if(n&&!s){if(e)if(Dt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&La(r,a,"")}else for(const o in e)n[o]==null&&La(r,o,"");for(const o in n)o==="display"&&(i=!0),La(r,o,n[o])}else if(s){if(e!==n){const o=r[B2];o&&(n+=";"+o),r.cssText=n,i=U2.test(n)}}else e&&t.removeAttribute("style");gf in t&&(t[gf]=i?r.display:"",t[F2]&&(r.display="none"))}const mf=/\s*!important$/;function La(t,e,n){if(Ke(n))n.forEach(r=>La(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=q2(t,e);mf.test(n)?t.setProperty(cs(r),n.replace(mf,""),"important"):t[r]=n}}const vf=["Webkit","Moz","ms"],uu={};function q2(t,e){const n=uu[e];if(n)return n;let r=Cn(e);if(r!=="filter"&&r in t)return uu[e]=r;r=fl(r);for(let s=0;s<vf.length;s++){const i=vf[s]+r;if(i in t)return uu[e]=i}return e}const yf="http://www.w3.org/1999/xlink";function bf(t,e,n,r,s,i=Wv(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(yf,e.slice(6,e.length)):t.setAttributeNS(yf,e,n):n==null||i&&!Vp(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Zn(n)?String(n):n)}function _f(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?lm(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Vp(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Is(t,e,n,r){t.addEventListener(e,n,r)}function j2(t,e,n,r){t.removeEventListener(e,n,r)}const wf=Symbol("_vei");function W2(t,e,n,r,s=null){const i=t[wf]||(t[wf]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=H2(e);if(r){const c=i[e]=Y2(r,s);Is(t,a,c,l)}else o&&(j2(t,a,o,l),i[e]=void 0)}}const xf=/(?:Once|Passive|Capture)$/;function H2(t){let e;if(xf.test(t)){e={};let r;for(;r=t.match(xf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):cs(t.slice(2)),e]}let cu=0;const z2=Promise.resolve(),V2=()=>cu||(z2.then(()=>cu=0),cu=Date.now());function Y2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;tr(K2(r,n.value),e,5,[r])};return n.value=t,n.attached=V2(),n}function K2(t,e){if(Ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Cf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,X2=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?$2(t,r,o):e==="style"?G2(t,n,r):ll(e)?$c(e)||W2(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):J2(t,e,r,o))?(_f(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bf(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Dt(r))?_f(t,Cn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),bf(t,e,r,o))};function J2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Cf(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Cf(e)&&Dt(n)?!1:e in t}const Ha=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ke(e)?n=>Ta(e,n):e};function Q2(t){t.target.composing=!0}function kf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gi=Symbol("_assign");function Sf(t,e,n){return e&&(t=t.trim()),n&&(t=hl(t)),t}const ut={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[gi]=Ha(s);const i=r||s.props&&s.props.type==="number";Is(t,e?"change":"input",o=>{o.target.composing||t[gi](Sf(t.value,n,i))}),(n||i)&&Is(t,"change",()=>{t.value=Sf(t.value,n,i)}),e||(Is(t,"compositionstart",Q2),Is(t,"compositionend",kf),Is(t,"change",kf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[gi]=Ha(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?hl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},li={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=ul(e);Is(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?hl(za(o)):za(o));t[gi](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,_t(()=>{t._assigning=!1})}),t[gi]=Ha(r)},mounted(t,{value:e}){Ef(t,e)},beforeUpdate(t,e,n){t[gi]=Ha(n)},updated(t,{value:e}){t._assigning||Ef(t,e)}};function Ef(t,e){const n=t.multiple,r=Ke(e);if(!(n&&!r&&!ul(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=za(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=zv(e,a)>-1}else o.selected=e.has(a);else if(gl(za(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function za(t){return"_value"in t?t._value:t.value}const Z2=["ctrl","shift","alt","meta"],eb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Z2.some(n=>t[`${n}Key`]&&!e.includes(n))},Bt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=eb[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},tb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kc=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=cs(s.key);if(e.some(o=>o===i||tb[o]===i))return t(s)}))},nb=Xt({patchProp:X2},O2);let Tf;function rb(){return Tf||(Tf=f2(nb))}const sb=((...t)=>{const e=rb().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ob(r);if(!s)return;const i=e._component;!Ze(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,ib(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function ib(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ob(t){return Dt(t)?document.querySelector(t):t}/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let dm;const Al=t=>dm=t,fm=Symbol();function Xu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var yo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(yo||(yo={}));function ab(){const t=Fo(!0),e=t.run(()=>J({}));let n=[],r=[];const s=Ei({install(i){Al(s),s._a=i,i.provide(fm,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const hm=()=>{};function Af(t,e,n,r=hm){t.add(e);const s=()=>{t.delete(e)&&r()};return!n&&Bo()&&ml(s),s}function Zs(t,...e){t.forEach(n=>{n(...e)})}const lb=t=>t(),Pf=Symbol(),du=Symbol();function Ju(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Xu(s)&&Xu(r)&&t.hasOwnProperty(n)&&!ct(r)&&!gr(r)?t[n]=Ju(s,r):t[n]=r}return t}const ub=Symbol();function cb(t){return!Xu(t)||!Object.prototype.hasOwnProperty.call(t,ub)}const{assign:Xr}=Object;function db(t){return!!(ct(t)&&t.effect)}function fb(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=s?s():{});const u=kn(n.state.value[t]);return Xr(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=Ei(pe(()=>{Al(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=pm(t,c,e,n,r,!0),l}function pm(t,e,n={},r,s,i){let o;const a=Xr({actions:{}},n),l={deep:!0};let c,u,d=new Set,f=new Set,h;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={});let m;function w(A){let E;c=u=!1,typeof A=="function"?(A(r.state.value[t]),E={type:yo.patchFunction,storeId:t,events:h}):(Ju(r.state.value[t],A),E={type:yo.patchObject,payload:A,storeId:t,events:h});const P=m=Symbol();_t().then(()=>{m===P&&(c=!0)}),u=!0,Zs(d,E,r.state.value[t])}const y=i?function(){const{state:E}=n,P=E?E():{};this.$patch(j=>{Xr(j,P)})}:hm;function b(){o.stop(),d.clear(),f.clear(),r._s.delete(t)}const v=(A,E="")=>{if(Pf in A)return A[du]=E,A;const P=function(){Al(r);const j=Array.from(arguments),T=new Set,B=new Set;function Y(k){T.add(k)}function L(k){B.add(k)}Zs(f,{args:j,name:P[du],store:C,after:Y,onError:L});let $;try{$=A.apply(this&&this.$id===t?this:C,j)}catch(k){throw Zs(B,k),k}return $ instanceof Promise?$.then(k=>(Zs(T,k),k)).catch(k=>(Zs(B,k),Promise.reject(k))):(Zs(T,$),$)};return P[Pf]=!0,P[du]=E,P},x={_p:r,$id:t,$onAction:Af.bind(null,f),$patch:w,$reset:y,$subscribe(A,E={}){const P=Af(d,A,E.detached,()=>j()),j=o.run(()=>Je(()=>r.state.value[t],T=>{(E.flush==="sync"?u:c)&&A({storeId:t,type:yo.direct,events:h},T)},Xr({},l,E)));return P},$dispose:b},C=jn(x);r._s.set(t,C);const q=(r._a&&r._a.runWithContext||lb)(()=>r._e.run(()=>(o=Fo()).run(()=>e({action:v}))));for(const A in q){const E=q[A];if(ct(E)&&!db(E)||gr(E))i||(p&&cb(E)&&(ct(E)?E.value=p[A]:Ju(E,p[A])),r.state.value[t][A]=E);else if(typeof E=="function"){const P=v(E,A);q[A]=P,a.actions[A]=E}}return Xr(C,q),Xr(ht(C),q),Object.defineProperty(C,"$state",{get:()=>r.state.value[t],set:A=>{w(E=>{Xr(E,A)})}}),r._p.forEach(A=>{Xr(C,o.run(()=>A({store:C,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(C.$state,p),c=!0,u=!0,C}/*! #__NO_SIDE_EFFECTS__ */function Wo(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const l=Ey();return o=o||(l?is(fm,null):null),o&&Al(o),o=dm,o._s.has(t)||(s?pm(t,e,r,o):fb(t,r,o)),o._s.get(t)}return i.$id=t,i}function Qn(t){const e=ht(t),n={};for(const r in e){const s=e[r];s.effect?n[r]=pe({get:()=>t[r],set(i){t[r]=i}}):(ct(s)||gr(s))&&(n[r]=gg(t,r))}return n}/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function hb(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Va=typeof window<"u",fs=(t,e=!1)=>e?Symbol.for(t):Symbol(t),pb=(t,e,n)=>gb({l:t,k:e,s:n}),gb=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),jt=t=>typeof t=="number"&&isFinite(t),mb=t=>mm(t)==="[object Date]",os=t=>mm(t)==="[object RegExp]",Pl=t=>et(t)&&Object.keys(t).length===0,an=Object.assign,vb=Object.create,Ct=(t=null)=>vb(t);let Of;const Lr=()=>Of||(Of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ct());function If(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Lf(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yb(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,s,i)=>`${s}="${Lf(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,s,i)=>`${s}='${Lf(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const bb=Object.prototype.hasOwnProperty;function Kn(t,e){return bb.call(t,e)}const Mt=Array.isArray,Ot=t=>typeof t=="function",Ue=t=>typeof t=="string",lt=t=>typeof t=="boolean",pt=t=>t!==null&&typeof t=="object",_b=t=>pt(t)&&Ot(t.then)&&Ot(t.catch),gm=Object.prototype.toString,mm=t=>gm.call(t),et=t=>{if(!pt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},wb=t=>t==null?"":Mt(t)||et(t)&&t.toString===gm?JSON.stringify(t,null,2):String(t);function xb(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function Ol(t){let e=t;return()=>++e}const sa=t=>!pt(t)||Mt(t);function Ma(t,e){if(sa(t)||sa(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(pt(r[i])&&!pt(s[i])&&(s[i]=Array.isArray(r[i])?[]:Ct()),sa(s[i])||sa(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Cb(t,e,n){return{line:t,column:e,offset:n}}function Ya(t,e,n){return{start:t,end:e}}const kb=/\{([0-9a-zA-Z]+)\}/g;function vm(t,...e){return e.length===1&&Sb(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(kb,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const ym=Object.assign,Mf=t=>typeof t=="string",Sb=t=>t!==null&&typeof t=="object";function bm(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const Xc={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Eb={[Xc.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Tb(t,e,...n){const r=vm(Eb[t],...n||[]),s={message:String(r),code:t};return e&&(s.location=e),s}const Qe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Ab={[Qe.EXPECTED_TOKEN]:"Expected token: '{0}'",[Qe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Qe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Qe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Qe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Qe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Qe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Qe.EMPTY_PLACEHOLDER]:"Empty placeholder",[Qe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Qe.INVALID_LINKED_FORMAT]:"Invalid linked format",[Qe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Qe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Qe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Qe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Qe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Qe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Ri(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=vm((s||Ab)[t]||"",...i||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function Pb(t){throw t}const kr=" ",Ob="\r",gn=`
`,Ib="\u2028",Lb="\u2029";function Mb(t){const e=t;let n=0,r=1,s=1,i=0;const o=q=>e[q]===Ob&&e[q+1]===gn,a=q=>e[q]===gn,l=q=>e[q]===Lb,c=q=>e[q]===Ib,u=q=>o(q)||a(q)||l(q)||c(q),d=()=>n,f=()=>r,h=()=>s,p=()=>i,m=q=>o(q)||l(q)||c(q)?gn:e[q],w=()=>m(n),y=()=>m(n+i);function b(){return i=0,u(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function v(){return o(n+i)&&i++,i++,e[n+i]}function x(){n=0,r=1,s=1,i=0}function C(q=0){i=q}function O(){const q=n+i;for(;q!==n;)b();i=0}return{index:d,line:f,column:h,peekOffset:p,charAt:m,currentChar:w,currentPeek:y,next:b,peek:v,reset:x,resetPeek:C,skipToPeek:O}}const Vr=void 0,Rb=".",Rf="'",Db="tokenizer";function Nb(t,e={}){const n=e.location!==!1,r=Mb(t),s=()=>r.index(),i=()=>Cb(r.line(),r.column(),r.index()),o=i(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function d(R,D,ue,...ge){const Me=c();if(D.column+=ue,D.offset+=ue,u){const se=n?Ya(Me.startLoc,D):null,N=Ri(R,se,{domain:Db,args:ge});u(N)}}function f(R,D,ue){R.endLoc=i(),R.currentType=D;const ge={type:D};return n&&(ge.loc=Ya(R.startLoc,R.endLoc)),ue!=null&&(ge.value=ue),ge}const h=R=>f(R,14);function p(R,D){return R.currentChar()===D?(R.next(),D):(d(Qe.EXPECTED_TOKEN,i(),0,D),"")}function m(R){let D="";for(;R.currentPeek()===kr||R.currentPeek()===gn;)D+=R.currentPeek(),R.peek();return D}function w(R){const D=m(R);return R.skipToPeek(),D}function y(R){if(R===Vr)return!1;const D=R.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D===95}function b(R){if(R===Vr)return!1;const D=R.charCodeAt(0);return D>=48&&D<=57}function v(R,D){const{currentType:ue}=D;if(ue!==2)return!1;m(R);const ge=y(R.currentPeek());return R.resetPeek(),ge}function x(R,D){const{currentType:ue}=D;if(ue!==2)return!1;m(R);const ge=R.currentPeek()==="-"?R.peek():R.currentPeek(),Me=b(ge);return R.resetPeek(),Me}function C(R,D){const{currentType:ue}=D;if(ue!==2)return!1;m(R);const ge=R.currentPeek()===Rf;return R.resetPeek(),ge}function O(R,D){const{currentType:ue}=D;if(ue!==8)return!1;m(R);const ge=R.currentPeek()===".";return R.resetPeek(),ge}function q(R,D){const{currentType:ue}=D;if(ue!==9)return!1;m(R);const ge=y(R.currentPeek());return R.resetPeek(),ge}function A(R,D){const{currentType:ue}=D;if(!(ue===8||ue===12))return!1;m(R);const ge=R.currentPeek()===":";return R.resetPeek(),ge}function E(R,D){const{currentType:ue}=D;if(ue!==10)return!1;const ge=()=>{const se=R.currentPeek();return se==="{"?y(R.peek()):se==="@"||se==="%"||se==="|"||se===":"||se==="."||se===kr||!se?!1:se===gn?(R.peek(),ge()):T(R,!1)},Me=ge();return R.resetPeek(),Me}function P(R){m(R);const D=R.currentPeek()==="|";return R.resetPeek(),D}function j(R){const D=m(R),ue=R.currentPeek()==="%"&&R.peek()==="{";return R.resetPeek(),{isModulo:ue,hasSpace:D.length>0}}function T(R,D=!0){const ue=(Me=!1,se="",N=!1)=>{const te=R.currentPeek();return te==="{"?se==="%"?!1:Me:te==="@"||!te?se==="%"?!0:Me:te==="%"?(R.peek(),ue(Me,"%",!0)):te==="|"?se==="%"||N?!0:!(se===kr||se===gn):te===kr?(R.peek(),ue(!0,kr,N)):te===gn?(R.peek(),ue(!0,gn,N)):!0},ge=ue();return D&&R.resetPeek(),ge}function B(R,D){const ue=R.currentChar();return ue===Vr?Vr:D(ue)?(R.next(),ue):null}function Y(R){const D=R.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36}function L(R){return B(R,Y)}function $(R){const D=R.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36||D===45}function k(R){return B(R,$)}function S(R){const D=R.charCodeAt(0);return D>=48&&D<=57}function V(R){return B(R,S)}function ie(R){const D=R.charCodeAt(0);return D>=48&&D<=57||D>=65&&D<=70||D>=97&&D<=102}function ae(R){return B(R,ie)}function ve(R){let D="",ue="";for(;D=V(R);)ue+=D;return ue}function fe(R){w(R);const D=R.currentChar();return D!=="%"&&d(Qe.EXPECTED_TOKEN,i(),0,D),R.next(),"%"}function Ge(R){let D="";for(;;){const ue=R.currentChar();if(ue==="{"||ue==="}"||ue==="@"||ue==="|"||!ue)break;if(ue==="%")if(T(R))D+=ue,R.next();else break;else if(ue===kr||ue===gn)if(T(R))D+=ue,R.next();else{if(P(R))break;D+=ue,R.next()}else D+=ue,R.next()}return D}function be(R){w(R);let D="",ue="";for(;D=k(R);)ue+=D;return R.currentChar()===Vr&&d(Qe.UNTERMINATED_CLOSING_BRACE,i(),0),ue}function xe(R){w(R);let D="";return R.currentChar()==="-"?(R.next(),D+=`-${ve(R)}`):D+=ve(R),R.currentChar()===Vr&&d(Qe.UNTERMINATED_CLOSING_BRACE,i(),0),D}function Q(R){return R!==Rf&&R!==gn}function $e(R){w(R),p(R,"'");let D="",ue="";for(;D=B(R,Q);)D==="\\"?ue+=Le(R):ue+=D;const ge=R.currentChar();return ge===gn||ge===Vr?(d(Qe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),ge===gn&&(R.next(),p(R,"'")),ue):(p(R,"'"),ue)}function Le(R){const D=R.currentChar();switch(D){case"\\":case"'":return R.next(),`\\${D}`;case"u":return Fe(R,D,4);case"U":return Fe(R,D,6);default:return d(Qe.UNKNOWN_ESCAPE_SEQUENCE,i(),0,D),""}}function Fe(R,D,ue){p(R,D);let ge="";for(let Me=0;Me<ue;Me++){const se=ae(R);if(!se){d(Qe.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${D}${ge}${R.currentChar()}`);break}ge+=se}return`\\${D}${ge}`}function We(R){return R!=="{"&&R!=="}"&&R!==kr&&R!==gn}function U(R){w(R);let D="",ue="";for(;D=B(R,We);)ue+=D;return ue}function K(R){let D="",ue="";for(;D=L(R);)ue+=D;return ue}function z(R){const D=ue=>{const ge=R.currentChar();return ge==="{"||ge==="%"||ge==="@"||ge==="|"||ge==="("||ge===")"||!ge||ge===kr?ue:(ue+=ge,R.next(),D(ue))};return D("")}function Z(R){w(R);const D=p(R,"|");return w(R),D}function de(R,D){let ue=null;switch(R.currentChar()){case"{":return D.braceNest>=1&&d(Qe.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),R.next(),ue=f(D,2,"{"),w(R),D.braceNest++,ue;case"}":return D.braceNest>0&&D.currentType===2&&d(Qe.EMPTY_PLACEHOLDER,i(),0),R.next(),ue=f(D,3,"}"),D.braceNest--,D.braceNest>0&&w(R),D.inLinked&&D.braceNest===0&&(D.inLinked=!1),ue;case"@":return D.braceNest>0&&d(Qe.UNTERMINATED_CLOSING_BRACE,i(),0),ue=he(R,D)||h(D),D.braceNest=0,ue;default:{let Me=!0,se=!0,N=!0;if(P(R))return D.braceNest>0&&d(Qe.UNTERMINATED_CLOSING_BRACE,i(),0),ue=f(D,1,Z(R)),D.braceNest=0,D.inLinked=!1,ue;if(D.braceNest>0&&(D.currentType===5||D.currentType===6||D.currentType===7))return d(Qe.UNTERMINATED_CLOSING_BRACE,i(),0),D.braceNest=0,Ce(R,D);if(Me=v(R,D))return ue=f(D,5,be(R)),w(R),ue;if(se=x(R,D))return ue=f(D,6,xe(R)),w(R),ue;if(N=C(R,D))return ue=f(D,7,$e(R)),w(R),ue;if(!Me&&!se&&!N)return ue=f(D,13,U(R)),d(Qe.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,ue.value),w(R),ue;break}}return ue}function he(R,D){const{currentType:ue}=D;let ge=null;const Me=R.currentChar();switch((ue===8||ue===9||ue===12||ue===10)&&(Me===gn||Me===kr)&&d(Qe.INVALID_LINKED_FORMAT,i(),0),Me){case"@":return R.next(),ge=f(D,8,"@"),D.inLinked=!0,ge;case".":return w(R),R.next(),f(D,9,".");case":":return w(R),R.next(),f(D,10,":");default:return P(R)?(ge=f(D,1,Z(R)),D.braceNest=0,D.inLinked=!1,ge):O(R,D)||A(R,D)?(w(R),he(R,D)):q(R,D)?(w(R),f(D,12,K(R))):E(R,D)?(w(R),Me==="{"?de(R,D)||ge:f(D,11,z(R))):(ue===8&&d(Qe.INVALID_LINKED_FORMAT,i(),0),D.braceNest=0,D.inLinked=!1,Ce(R,D))}}function Ce(R,D){let ue={type:14};if(D.braceNest>0)return de(R,D)||h(D);if(D.inLinked)return he(R,D)||h(D);switch(R.currentChar()){case"{":return de(R,D)||h(D);case"}":return d(Qe.UNBALANCED_CLOSING_BRACE,i(),0),R.next(),f(D,3,"}");case"@":return he(R,D)||h(D);default:{if(P(R))return ue=f(D,1,Z(R)),D.braceNest=0,D.inLinked=!1,ue;const{isModulo:Me,hasSpace:se}=j(R);if(Me)return se?f(D,0,Ge(R)):f(D,4,fe(R));if(T(R))return f(D,0,Ge(R));break}}return ue}function Te(){const{currentType:R,offset:D,startLoc:ue,endLoc:ge}=l;return l.lastType=R,l.lastOffset=D,l.lastStartLoc=ue,l.lastEndLoc=ge,l.offset=s(),l.startLoc=i(),r.currentChar()===Vr?f(l,14):Ce(r,l)}return{nextToken:Te,currentOffset:s,currentPosition:i,context:c}}const $b="parser",Fb=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Bb(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function Ub(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function s(v,x,C,O,...q){const A=v.currentPosition();if(A.offset+=O,A.column+=O,n){const E=e?Ya(C,A):null,P=Ri(x,E,{domain:$b,args:q});n(P)}}function i(v,x,C,O,...q){const A=v.currentPosition();if(A.offset+=O,A.column+=O,r){const E=e?Ya(C,A):null;r(Tb(x,E,q))}}function o(v,x,C){const O={type:v};return e&&(O.start=x,O.end=x,O.loc={start:C,end:C}),O}function a(v,x,C,O){e&&(v.end=x,v.loc&&(v.loc.end=C))}function l(v,x){const C=v.context(),O=o(3,C.offset,C.startLoc);return O.value=x,a(O,v.currentOffset(),v.currentPosition()),O}function c(v,x){const C=v.context(),{lastOffset:O,lastStartLoc:q}=C,A=o(5,O,q);return A.index=parseInt(x,10),v.nextToken(),a(A,v.currentOffset(),v.currentPosition()),A}function u(v,x,C){const O=v.context(),{lastOffset:q,lastStartLoc:A}=O,E=o(4,q,A);return E.key=x,C===!0&&(E.modulo=!0),v.nextToken(),a(E,v.currentOffset(),v.currentPosition()),E}function d(v,x){const C=v.context(),{lastOffset:O,lastStartLoc:q}=C,A=o(9,O,q);return A.value=x.replace(Fb,Bb),v.nextToken(),a(A,v.currentOffset(),v.currentPosition()),A}function f(v){const x=v.nextToken(),C=v.context(),{lastOffset:O,lastStartLoc:q}=C,A=o(8,O,q);return x.type!==12?(s(v,Qe.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),A.value="",a(A,O,q),{nextConsumeToken:x,node:A}):(x.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Hn(x)),A.value=x.value||"",a(A,v.currentOffset(),v.currentPosition()),{node:A})}function h(v,x){const C=v.context(),O=o(7,C.offset,C.startLoc);return O.value=x,a(O,v.currentOffset(),v.currentPosition()),O}function p(v){const x=v.context(),C=o(6,x.offset,x.startLoc);let O=v.nextToken();if(O.type===9){const q=f(v);C.modifier=q.node,O=q.nextConsumeToken||v.nextToken()}switch(O.type!==10&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(O)),O=v.nextToken(),O.type===2&&(O=v.nextToken()),O.type){case 11:O.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(O)),C.key=h(v,O.value||"");break;case 5:O.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(O)),C.key=u(v,O.value||"");break;case 6:O.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(O)),C.key=c(v,O.value||"");break;case 7:O.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(O)),C.key=d(v,O.value||"");break;default:{s(v,Qe.UNEXPECTED_EMPTY_LINKED_KEY,x.lastStartLoc,0);const q=v.context(),A=o(7,q.offset,q.startLoc);return A.value="",a(A,q.offset,q.startLoc),C.key=A,a(C,q.offset,q.startLoc),{nextConsumeToken:O,node:C}}}return a(C,v.currentOffset(),v.currentPosition()),{node:C}}function m(v){const x=v.context(),C=x.currentType===1?v.currentOffset():x.offset,O=x.currentType===1?x.endLoc:x.startLoc,q=o(2,C,O);q.items=[];let A=null,E=null;do{const T=A||v.nextToken();switch(A=null,T.type){case 0:T.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(T)),q.items.push(l(v,T.value||""));break;case 6:T.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(T)),q.items.push(c(v,T.value||""));break;case 4:E=!0;break;case 5:T.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(T)),q.items.push(u(v,T.value||"",!!E)),E&&(i(v,Xc.USE_MODULO_SYNTAX,x.lastStartLoc,0,Hn(T)),E=null);break;case 7:T.value==null&&s(v,Qe.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Hn(T)),q.items.push(d(v,T.value||""));break;case 8:{const B=p(v);q.items.push(B.node),A=B.nextConsumeToken||null;break}}}while(x.currentType!==14&&x.currentType!==1);const P=x.currentType===1?x.lastOffset:v.currentOffset(),j=x.currentType===1?x.lastEndLoc:v.currentPosition();return a(q,P,j),q}function w(v,x,C,O){const q=v.context();let A=O.items.length===0;const E=o(1,x,C);E.cases=[],E.cases.push(O);do{const P=m(v);A||(A=P.items.length===0),E.cases.push(P)}while(q.currentType!==14);return A&&s(v,Qe.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),a(E,v.currentOffset(),v.currentPosition()),E}function y(v){const x=v.context(),{offset:C,startLoc:O}=x,q=m(v);return x.currentType===14?q:w(v,C,O,q)}function b(v){const x=Nb(v,ym({},t)),C=x.context(),O=o(0,C.offset,C.startLoc);return e&&O.loc&&(O.loc.source=v),O.body=y(x),t.onCacheKey&&(O.cacheKey=t.onCacheKey(v)),C.currentType!==14&&s(x,Qe.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,v[C.offset]||""),a(O,x.currentOffset(),x.currentPosition()),O}return{parse:b}}function Hn(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function Gb(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function Df(t,e){for(let n=0;n<t.length;n++)Jc(t[n],e)}function Jc(t,e){switch(t.type){case 1:Df(t.cases,e),e.helper("plural");break;case 2:Df(t.items,e);break;case 6:{Jc(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function qb(t,e={}){const n=Gb(t);n.helper("normalize"),t.body&&Jc(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function jb(t){const e=t.body;return e.type===2?Nf(e):e.cases.forEach(n=>Nf(n)),t}function Nf(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=bm(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const Wb="minifier";function oi(t){switch(t.t=t.type,t.type){case 0:{const e=t;oi(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)oi(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)oi(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;oi(e.key),e.k=e.key,delete e.key,e.modifier&&(oi(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Ri(Qe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Wb,args:[t.type]})}delete t.type}const Hb="parser";function zb(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(m,w){o.code+=m}function c(m,w=!0){const y=w?r:"";l(s?y+"  ".repeat(m):y)}function u(m=!0){const w=++o.indentLevel;m&&c(w)}function d(m=!0){const w=--o.indentLevel;m&&c(w)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:d,newline:f,helper:m=>`_${m}`,needIndent:()=>o.needIndent}}function Vb(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Ai(t,e.key),e.modifier?(t.push(", "),Ai(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Yb(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(Ai(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function Kb(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(Ai(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function Xb(t,e){e.body?Ai(t,e.body):t.push("null")}function Ai(t,e){const{helper:n}=t;switch(e.type){case 0:Xb(t,e);break;case 1:Kb(t,e);break;case 2:Yb(t,e);break;case 6:Vb(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Ri(Qe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Hb,args:[e.type]})}}const Jb=(t,e={})=>{const n=Mf(e.mode)?e.mode:"normal",r=Mf(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=zb(t,{filename:r,breakLineCode:s,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${bm(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Ai(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function Qb(t,e={}){const n=ym({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=Ub(n).parse(t);return r?(i&&jb(a),s&&oi(a),{ast:a,code:""}):(qb(a,n),Jb(a,n))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Zb(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Lr().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Lr().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Lr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function mr(t){return pt(t)&&Qc(t)===0&&(Kn(t,"b")||Kn(t,"body"))}const _m=["b","body"];function e_(t){return hs(t,_m)}const wm=["c","cases"];function t_(t){return hs(t,wm,[])}const xm=["s","static"];function n_(t){return hs(t,xm)}const Cm=["i","items"];function r_(t){return hs(t,Cm,[])}const km=["t","type"];function Qc(t){return hs(t,km)}const Sm=["v","value"];function ia(t,e){const n=hs(t,Sm);if(n!=null)return n;throw Io(e)}const Em=["m","modifier"];function s_(t){return hs(t,Em)}const Tm=["k","key"];function i_(t){const e=hs(t,Tm);if(e)return e;throw Io(6)}function hs(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(Kn(t,s)&&t[s]!=null)return t[s]}return n}const Am=[..._m,...wm,...xm,...Cm,...Tm,...Em,...Sm,...km];function Io(t){return new Error(`unhandled node type: ${t}`)}const ps=[];ps[0]={w:[0],i:[3,0],"[":[4],o:[7]};ps[1]={w:[1],".":[2],"[":[4],o:[7]};ps[2]={w:[2],i:[3,0],0:[3,0]};ps[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ps[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ps[5]={"'":[4,0],o:8,l:[5,0]};ps[6]={'"':[4,0],o:8,l:[6,0]};const o_=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function a_(t){return o_.test(t)}function l_(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function u_(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function c_(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:a_(e)?l_(e):"*"+e}function d_(t){const e=[];let n=-1,r=0,s=0,i,o,a,l,c,u,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,o===void 0||(o=c_(o),o===!1))return!1;f[1]()}};function h(){const p=t[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,a="\\"+p,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&h())){if(l=u_(i),d=ps[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=i,u()===!1))))return;if(r===7)return e}}const $f=new Map;function f_(t,e){return pt(t)?t[e]:null}function h_(t,e){if(!pt(t))return null;let n=$f.get(e);if(n||(n=d_(e),n&&$f.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=n[i];if(Am.includes(o)&&mr(s))return null;const a=s[o];if(a===void 0||Ot(s))return null;s=a,i++}return s}const p_=t=>t,g_=t=>"",m_="text",v_=t=>t.length===0?"":xb(t),y_=wb;function Ff(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function b_(t){const e=jt(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(jt(t.named.count)||jt(t.named.n))?jt(t.named.count)?t.named.count:jt(t.named.n)?t.named.n:e:e}function __(t,e){e.count||(e.count=t),e.n||(e.n=t)}function w_(t={}){const e=t.locale,n=b_(t),r=pt(t.pluralRules)&&Ue(e)&&Ot(t.pluralRules[e])?t.pluralRules[e]:Ff,s=pt(t.pluralRules)&&Ue(e)&&Ot(t.pluralRules[e])?Ff:void 0,i=y=>y[r(n,y.length,s)],o=t.list||[],a=y=>o[y],l=t.named||Ct();jt(t.pluralIndex)&&__(n,l);const c=y=>l[y];function u(y){const b=Ot(t.messages)?t.messages(y):pt(t.messages)?t.messages[y]:!1;return b||(t.parent?t.parent.message(y):g_)}const d=y=>t.modifiers?t.modifiers[y]:p_,f=et(t.processor)&&Ot(t.processor.normalize)?t.processor.normalize:v_,h=et(t.processor)&&Ot(t.processor.interpolate)?t.processor.interpolate:y_,p=et(t.processor)&&Ue(t.processor.type)?t.processor.type:m_,w={list:a,named:c,plural:i,linked:(y,...b)=>{const[v,x]=b;let C="text",O="";b.length===1?pt(v)?(O=v.modifier||O,C=v.type||C):Ue(v)&&(O=v||O):b.length===2&&(Ue(v)&&(O=v||O),Ue(x)&&(C=x||C));const q=u(y)(w),A=C==="vnode"&&Mt(q)&&O?q[0]:q;return O?d(O)(A,C):A},message:u,type:p,interpolate:h,normalize:f,values:an(Ct(),o,l)};return w}let Lo=null;function x_(t){Lo=t}function C_(t,e,n){Lo&&Lo.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const k_=S_("function:translate");function S_(t){return e=>Lo&&Lo.emit(t,e)}const E_=Xc.__EXTEND_POINT__,Ss=Ol(E_),T_={FALLBACK_TO_TRANSLATE:Ss(),CANNOT_FORMAT_NUMBER:Ss(),FALLBACK_TO_NUMBER_FORMAT:Ss(),CANNOT_FORMAT_DATE:Ss(),FALLBACK_TO_DATE_FORMAT:Ss(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Ss(),__EXTEND_POINT__:Ss()},Pm=Qe.__EXTEND_POINT__,Es=Ol(Pm),Xn={INVALID_ARGUMENT:Pm,INVALID_DATE_ARGUMENT:Es(),INVALID_ISO_DATE_ARGUMENT:Es(),NOT_SUPPORT_NON_STRING_MESSAGE:Es(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Es(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Es(),NOT_SUPPORT_LOCALE_TYPE:Es(),__EXTEND_POINT__:Es()};function fr(t){return Ri(t,null,void 0)}function Zc(t,e){return e.locale!=null?Bf(e.locale):Bf(t.locale)}let fu;function Bf(t){if(Ue(t))return t;if(Ot(t)){if(t.resolvedOnce&&fu!=null)return fu;if(t.constructor.name==="Function"){const e=t();if(_b(e))throw fr(Xn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return fu=e}else throw fr(Xn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw fr(Xn.NOT_SUPPORT_LOCALE_TYPE)}function A_(t,e,n){return[...new Set([n,...Mt(e)?e:pt(e)?Object.keys(e):Ue(e)?[e]:[n]])]}function Om(t,e,n){const r=Ue(n)?n:Pi,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Mt(o);)o=Uf(i,o,e);const a=Mt(e)||!et(e)?e:e.default?e.default:null;o=Ue(a)?[a]:a,Mt(o)&&Uf(i,o,!1),s.__localeChainCache.set(r,i)}return i}function Uf(t,e,n){let r=!0;for(let s=0;s<e.length&&lt(r);s++){const i=e[s];Ue(i)&&(r=P_(t,e[s],n))}return r}function P_(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=O_(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function O_(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Mt(n)||et(n))&&n[s]&&(r=n[s])}return r}const I_="9.14.5",Il=-1,Pi="en-US",Gf="",qf=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function L_(){return{upper:(t,e)=>e==="text"&&Ue(t)?t.toUpperCase():e==="vnode"&&pt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ue(t)?t.toLowerCase():e==="vnode"&&pt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ue(t)?qf(t):e==="vnode"&&pt(t)&&"__v_isVNode"in t?qf(t.children):t}}let Im;function jf(t){Im=t}let Lm;function M_(t){Lm=t}let Mm;function R_(t){Mm=t}let Rm=null;const D_=t=>{Rm=t},N_=()=>Rm;let Dm=null;const Wf=t=>{Dm=t},$_=()=>Dm;let Hf=0;function F_(t={}){const e=Ot(t.onWarn)?t.onWarn:hb,n=Ue(t.version)?t.version:I_,r=Ue(t.locale)||Ot(t.locale)?t.locale:Pi,s=Ot(r)?Pi:r,i=Mt(t.fallbackLocale)||et(t.fallbackLocale)||Ue(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=et(t.messages)?t.messages:hu(s),a=et(t.datetimeFormats)?t.datetimeFormats:hu(s),l=et(t.numberFormats)?t.numberFormats:hu(s),c=an(Ct(),t.modifiers,L_()),u=t.pluralRules||Ct(),d=Ot(t.missing)?t.missing:null,f=lt(t.missingWarn)||os(t.missingWarn)?t.missingWarn:!0,h=lt(t.fallbackWarn)||os(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,m=!!t.unresolving,w=Ot(t.postTranslation)?t.postTranslation:null,y=et(t.processor)?t.processor:null,b=lt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,v=!!t.escapeParameter,x=Ot(t.messageCompiler)?t.messageCompiler:Im,C=Ot(t.messageResolver)?t.messageResolver:Lm||f_,O=Ot(t.localeFallbacker)?t.localeFallbacker:Mm||A_,q=pt(t.fallbackContext)?t.fallbackContext:void 0,A=t,E=pt(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,P=pt(A.__numberFormatters)?A.__numberFormatters:new Map,j=pt(A.__meta)?A.__meta:{};Hf++;const T={version:n,cid:Hf,locale:r,fallbackLocale:i,messages:o,modifiers:c,pluralRules:u,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:p,unresolving:m,postTranslation:w,processor:y,warnHtmlMessage:b,escapeParameter:v,messageCompiler:x,messageResolver:C,localeFallbacker:O,fallbackContext:q,onWarn:e,__meta:j};return T.datetimeFormats=a,T.numberFormats=l,T.__datetimeFormatters=E,T.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&C_(T,n,j),T}const hu=t=>({[t]:Ct()});function ed(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return Ue(a)?a:e}else return e}function zi(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function B_(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function U_(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(B_(t,e[r]))return!0;return!1}function pu(t){return n=>G_(n,t)}function G_(t,e){const n=e_(e);if(n==null)throw Io(0);if(Qc(n)===1){const i=t_(n);return t.plural(i.reduce((o,a)=>[...o,zf(t,a)],[]))}else return zf(t,n)}function zf(t,e){const n=n_(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=r_(e).reduce((s,i)=>[...s,Qu(t,i)],[]);return t.normalize(r)}}function Qu(t,e){const n=Qc(e);switch(n){case 3:return ia(e,n);case 9:return ia(e,n);case 4:{const r=e;if(Kn(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Kn(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Io(n)}case 5:{const r=e;if(Kn(r,"i")&&jt(r.i))return t.interpolate(t.list(r.i));if(Kn(r,"index")&&jt(r.index))return t.interpolate(t.list(r.index));throw Io(n)}case 6:{const r=e,s=s_(r),i=i_(r);return t.linked(Qu(t,i),s?Qu(t,s):void 0,t.type)}case 7:return ia(e,n);case 8:return ia(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Nm=t=>t;let ui=Ct();function $m(t,e={}){let n=!1;const r=e.onError||Pb;return e.onError=s=>{n=!0,r(s)},{...Qb(t,e),detectError:n}}const q_=(t,e)=>{if(!Ue(t))throw fr(Xn.NOT_SUPPORT_NON_STRING_MESSAGE);{lt(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||Nm)(t),s=ui[r];if(s)return s;const{code:i,detectError:o}=$m(t,e),a=new Function(`return ${i}`)();return o?a:ui[r]=a}};function j_(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ue(t)){lt(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||Nm)(t),s=ui[r];if(s)return s;const{ast:i,detectError:o}=$m(t,{...e,location:!1,jit:!0}),a=pu(i);return o?a:ui[r]=a}else{const n=t.cacheKey;if(n){const r=ui[n];return r||(ui[n]=pu(t))}else return pu(t)}}const Vf=()=>"",Gn=t=>Ot(t);function Yf(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[l,c]=Zu(...e),u=lt(c.missingWarn)?c.missingWarn:t.missingWarn,d=lt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=lt(c.escapeParameter)?c.escapeParameter:t.escapeParameter,h=!!c.resolvedMessage,p=Ue(c.default)||lt(c.default)?lt(c.default)?i?l:()=>l:c.default:n?i?l:()=>l:"",m=n||p!=="",w=Zc(t,c);f&&W_(c);let[y,b,v]=h?[l,w,a[w]||Ct()]:Fm(t,l,w,o,d,u),x=y,C=l;if(!h&&!(Ue(x)||mr(x)||Gn(x))&&m&&(x=p,C=x),!h&&(!(Ue(x)||mr(x)||Gn(x))||!Ue(b)))return s?Il:l;let O=!1;const q=()=>{O=!0},A=Gn(x)?x:Bm(t,l,b,x,C,q);if(O)return x;const E=V_(t,b,v,c),P=w_(E),j=H_(t,A,P);let T=r?r(j,l):j;if(f&&Ue(T)&&(T=yb(T)),__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:Ue(l)?l:Gn(x)?x.key:"",locale:b||(Gn(x)?x.locale:""),format:Ue(x)?x:Gn(x)?x.source:"",message:T};B.meta=an({},t.__meta,N_()||{}),k_(B)}return T}function W_(t){Mt(t.list)?t.list=t.list.map(e=>Ue(e)?If(e):e):pt(t.named)&&Object.keys(t.named).forEach(e=>{Ue(t.named[e])&&(t.named[e]=If(t.named[e]))})}function Fm(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,r,n);let d=Ct(),f,h=null;const p="translate";for(let m=0;m<u.length&&(f=u[m],d=o[f]||Ct(),(h=l(d,e))===null&&(h=d[e]),!(Ue(h)||mr(h)||Gn(h)));m++)if(!U_(f,u)){const w=ed(t,e,f,i,p);w!==e&&(h=w)}return[h,f,d]}function Bm(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Gn(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=(()=>r);return c.locale=n,c.key=e,c}const l=o(r,z_(t,n,s,r,a,i));return l.locale=n,l.key=e,l.source=r,l}function H_(t,e,n){return e(n)}function Zu(...t){const[e,n,r]=t,s=Ct();if(!Ue(e)&&!jt(e)&&!Gn(e)&&!mr(e))throw fr(Xn.INVALID_ARGUMENT);const i=jt(e)?String(e):(Gn(e),e);return jt(n)?s.plural=n:Ue(n)?s.default=n:et(n)&&!Pl(n)?s.named=n:Mt(n)&&(s.list=n),jt(r)?s.plural=r:Ue(r)?s.default=r:et(r)&&an(s,r),[i,s]}function z_(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>pb(e,n,o)}}function V_(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:i,messages:h=>{let p=o(n,h);if(p==null&&u){const[,,m]=Fm(u,h,e,a,l,c);p=o(m,h)}if(Ue(p)||mr(p)){let m=!1;const y=Bm(t,h,e,p,h,()=>{m=!0});return m?Vf:y}else return Gn(p)?p:Vf}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),jt(r.plural)&&(f.pluralIndex=r.plural),f}function Kf(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,u,d]=ec(...e),f=lt(u.missingWarn)?u.missingWarn:t.missingWarn;lt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,p=Zc(t,u),m=o(t,s,p);if(!Ue(l)||l==="")return new Intl.DateTimeFormat(p,d).format(c);let w={},y,b=null;const v="datetime format";for(let O=0;O<m.length&&(y=m[O],w=n[y]||{},b=w[l],!et(b));O++)ed(t,l,y,f,v);if(!et(b)||!Ue(y))return r?Il:l;let x=`${y}__${l}`;Pl(d)||(x=`${x}__${JSON.stringify(d)}`);let C=a.get(x);return C||(C=new Intl.DateTimeFormat(y,an({},b,d)),a.set(x,C)),h?C.formatToParts(c):C.format(c)}const Um=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function ec(...t){const[e,n,r,s]=t,i=Ct();let o=Ct(),a;if(Ue(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw fr(Xn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw fr(Xn.INVALID_ISO_DATE_ARGUMENT)}}else if(mb(e)){if(isNaN(e.getTime()))throw fr(Xn.INVALID_DATE_ARGUMENT);a=e}else if(jt(e))a=e;else throw fr(Xn.INVALID_ARGUMENT);return Ue(n)?i.key=n:et(n)&&Object.keys(n).forEach(l=>{Um.includes(l)?o[l]=n[l]:i[l]=n[l]}),Ue(r)?i.locale=r:et(r)&&(o=r),et(s)&&(o=s),[i.key||"",a,i,o]}function Xf(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function Jf(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,u,d]=tc(...e),f=lt(u.missingWarn)?u.missingWarn:t.missingWarn;lt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,p=Zc(t,u),m=o(t,s,p);if(!Ue(l)||l==="")return new Intl.NumberFormat(p,d).format(c);let w={},y,b=null;const v="number format";for(let O=0;O<m.length&&(y=m[O],w=n[y]||{},b=w[l],!et(b));O++)ed(t,l,y,f,v);if(!et(b)||!Ue(y))return r?Il:l;let x=`${y}__${l}`;Pl(d)||(x=`${x}__${JSON.stringify(d)}`);let C=a.get(x);return C||(C=new Intl.NumberFormat(y,an({},b,d)),a.set(x,C)),h?C.formatToParts(c):C.format(c)}const Gm=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function tc(...t){const[e,n,r,s]=t,i=Ct();let o=Ct();if(!jt(e))throw fr(Xn.INVALID_ARGUMENT);const a=e;return Ue(n)?i.key=n:et(n)&&Object.keys(n).forEach(l=>{Gm.includes(l)?o[l]=n[l]:i[l]=n[l]}),Ue(r)?i.locale=r:et(r)&&(o=r),et(s)&&(o=s),[i.key||"",a,i,o]}function Qf(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}Zb();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Y_="9.14.5";function K_(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Lr().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Lr().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Lr().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Lr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Lr().__INTLIFY_PROD_DEVTOOLS__=!1)}const X_=T_.__EXTEND_POINT__,Sr=Ol(X_);Sr(),Sr(),Sr(),Sr(),Sr(),Sr(),Sr(),Sr(),Sr();const qm=Xn.__EXTEND_POINT__,bn=Ol(qm),Kt={UNEXPECTED_RETURN_TYPE:qm,INVALID_ARGUMENT:bn(),MUST_BE_CALL_SETUP_TOP:bn(),NOT_INSTALLED:bn(),NOT_AVAILABLE_IN_LEGACY_MODE:bn(),REQUIRED_VALUE:bn(),INVALID_VALUE:bn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:bn(),NOT_INSTALLED_WITH_PROVIDE:bn(),UNEXPECTED_ERROR:bn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:bn(),BRIDGE_SUPPORT_VUE_2_ONLY:bn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:bn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:bn(),__EXTEND_POINT__:bn()};function en(t,...e){return Ri(t,null,void 0)}const nc=fs("__translateVNode"),rc=fs("__datetimeParts"),sc=fs("__numberParts"),jm=fs("__setPluralRules"),Wm=fs("__injectWithOption"),ic=fs("__dispose");function Mo(t){if(!pt(t)||mr(t))return t;for(const e in t)if(Kn(t,e))if(!e.includes("."))pt(t[e])&&Mo(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in s||(s[n[o]]=Ct()),!pt(s[n[o]])){i=!0;break}s=s[n[o]]}if(i||(mr(s)?Am.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!mr(s)){const o=s[n[r]];pt(o)&&Mo(o)}}return t}function Ll(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=et(n)?n:Mt(r)?Ct():{[t]:Ct()};if(Mt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Ct(),Ma(c,o[l])):Ma(c,o)}else Ue(a)&&Ma(JSON.parse(a),o)}),s==null&&i)for(const a in o)Kn(o,a)&&Mo(o[a]);return o}function Hm(t){return t.type}function zm(t,e,n){let r=pt(e.messages)?e.messages:Ct();"__i18nGlobal"in n&&(r=Ll(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(pt(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(pt(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function Zf(t){return F(qo,null,t,0)}const eh="__INTLIFY_META__",th=()=>[],J_=()=>!1;let nh=0;function rh(t){return((e,n,r,s)=>t(n,r,zt()||void 0,s))}const Q_=()=>{const t=zt();let e=null;return t&&(e=Hm(t)[eh])?{[eh]:e}:null};function td(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0,i=t.flatJson,o=Va?J:ds,a=!!t.translateExistCompatible;let l=lt(t.inheritLocale)?t.inheritLocale:!0;const c=o(n&&l?n.locale.value:Ue(t.locale)?t.locale:Pi),u=o(n&&l?n.fallbackLocale.value:Ue(t.fallbackLocale)||Mt(t.fallbackLocale)||et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(Ll(c.value,t)),f=o(et(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),h=o(et(t.numberFormats)?t.numberFormats:{[c.value]:{}});let p=n?n.missingWarn:lt(t.missingWarn)||os(t.missingWarn)?t.missingWarn:!0,m=n?n.fallbackWarn:lt(t.fallbackWarn)||os(t.fallbackWarn)?t.fallbackWarn:!0,w=n?n.fallbackRoot:lt(t.fallbackRoot)?t.fallbackRoot:!0,y=!!t.fallbackFormat,b=Ot(t.missing)?t.missing:null,v=Ot(t.missing)?rh(t.missing):null,x=Ot(t.postTranslation)?t.postTranslation:null,C=n?n.warnHtmlMessage:lt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,O=!!t.escapeParameter;const q=n?n.modifiers:et(t.modifiers)?t.modifiers:{};let A=t.pluralRules||n&&n.pluralRules,E;E=(()=>{s&&Wf(null);const N={version:Y_,locale:c.value,fallbackLocale:u.value,messages:d.value,modifiers:q,pluralRules:A,missing:v===null?void 0:v,missingWarn:p,fallbackWarn:m,fallbackFormat:y,unresolving:!0,postTranslation:x===null?void 0:x,warnHtmlMessage:C,escapeParameter:O,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};N.datetimeFormats=f.value,N.numberFormats=h.value,N.__datetimeFormatters=et(E)?E.__datetimeFormatters:void 0,N.__numberFormatters=et(E)?E.__numberFormatters:void 0;const te=F_(N);return s&&Wf(te),te})(),zi(E,c.value,u.value);function j(){return[c.value,u.value,d.value,f.value,h.value]}const T=pe({get:()=>c.value,set:N=>{c.value=N,E.locale=c.value}}),B=pe({get:()=>u.value,set:N=>{u.value=N,E.fallbackLocale=u.value,zi(E,c.value,N)}}),Y=pe(()=>d.value),L=pe(()=>f.value),$=pe(()=>h.value);function k(){return Ot(x)?x:null}function S(N){x=N,E.postTranslation=N}function V(){return b}function ie(N){N!==null&&(v=rh(N)),b=N,E.missing=v}const ae=(N,te,_e,Pe,rt,xt)=>{j();let Et;try{__INTLIFY_PROD_DEVTOOLS__,s||(E.fallbackContext=n?$_():void 0),Et=N(E)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(E.fallbackContext=void 0)}if(_e!=="translate exists"&&jt(Et)&&Et===Il||_e==="translate exists"&&!Et){const[nn,or]=te();return n&&w?Pe(n):rt(nn)}else{if(xt(Et))return Et;throw en(Kt.UNEXPECTED_RETURN_TYPE)}};function ve(...N){return ae(te=>Reflect.apply(Yf,null,[te,...N]),()=>Zu(...N),"translate",te=>Reflect.apply(te.t,te,[...N]),te=>te,te=>Ue(te))}function fe(...N){const[te,_e,Pe]=N;if(Pe&&!pt(Pe))throw en(Kt.INVALID_ARGUMENT);return ve(te,_e,an({resolvedMessage:!0},Pe||{}))}function Ge(...N){return ae(te=>Reflect.apply(Kf,null,[te,...N]),()=>ec(...N),"datetime format",te=>Reflect.apply(te.d,te,[...N]),()=>Gf,te=>Ue(te))}function be(...N){return ae(te=>Reflect.apply(Jf,null,[te,...N]),()=>tc(...N),"number format",te=>Reflect.apply(te.n,te,[...N]),()=>Gf,te=>Ue(te))}function xe(N){return N.map(te=>Ue(te)||jt(te)||lt(te)?Zf(String(te)):te)}const $e={normalize:xe,interpolate:N=>N,type:"vnode"};function Le(...N){return ae(te=>{let _e;const Pe=te;try{Pe.processor=$e,_e=Reflect.apply(Yf,null,[Pe,...N])}finally{Pe.processor=null}return _e},()=>Zu(...N),"translate",te=>te[nc](...N),te=>[Zf(te)],te=>Mt(te))}function Fe(...N){return ae(te=>Reflect.apply(Jf,null,[te,...N]),()=>tc(...N),"number format",te=>te[sc](...N),th,te=>Ue(te)||Mt(te))}function We(...N){return ae(te=>Reflect.apply(Kf,null,[te,...N]),()=>ec(...N),"datetime format",te=>te[rc](...N),th,te=>Ue(te)||Mt(te))}function U(N){A=N,E.pluralRules=A}function K(N,te){return ae(()=>{if(!N)return!1;const _e=Ue(te)?te:c.value,Pe=de(_e),rt=E.messageResolver(Pe,N);return a?rt!=null:mr(rt)||Gn(rt)||Ue(rt)},()=>[N],"translate exists",_e=>Reflect.apply(_e.te,_e,[N,te]),J_,_e=>lt(_e))}function z(N){let te=null;const _e=Om(E,u.value,c.value);for(let Pe=0;Pe<_e.length;Pe++){const rt=d.value[_e[Pe]]||{},xt=E.messageResolver(rt,N);if(xt!=null){te=xt;break}}return te}function Z(N){const te=z(N);return te??(n?n.tm(N)||{}:{})}function de(N){return d.value[N]||{}}function he(N,te){if(i){const _e={[N]:te};for(const Pe in _e)Kn(_e,Pe)&&Mo(_e[Pe]);te=_e[N]}d.value[N]=te,E.messages=d.value}function Ce(N,te){d.value[N]=d.value[N]||{};const _e={[N]:te};if(i)for(const Pe in _e)Kn(_e,Pe)&&Mo(_e[Pe]);te=_e[N],Ma(te,d.value[N]),E.messages=d.value}function Te(N){return f.value[N]||{}}function R(N,te){f.value[N]=te,E.datetimeFormats=f.value,Xf(E,N,te)}function D(N,te){f.value[N]=an(f.value[N]||{},te),E.datetimeFormats=f.value,Xf(E,N,te)}function ue(N){return h.value[N]||{}}function ge(N,te){h.value[N]=te,E.numberFormats=h.value,Qf(E,N,te)}function Me(N,te){h.value[N]=an(h.value[N]||{},te),E.numberFormats=h.value,Qf(E,N,te)}nh++,n&&Va&&(Je(n.locale,N=>{l&&(c.value=N,E.locale=N,zi(E,c.value,u.value))}),Je(n.fallbackLocale,N=>{l&&(u.value=N,E.fallbackLocale=N,zi(E,c.value,u.value))}));const se={id:nh,locale:T,fallbackLocale:B,get inheritLocale(){return l},set inheritLocale(N){l=N,N&&n&&(c.value=n.locale.value,u.value=n.fallbackLocale.value,zi(E,c.value,u.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:Y,get modifiers(){return q},get pluralRules(){return A||{}},get isGlobal(){return s},get missingWarn(){return p},set missingWarn(N){p=N,E.missingWarn=p},get fallbackWarn(){return m},set fallbackWarn(N){m=N,E.fallbackWarn=m},get fallbackRoot(){return w},set fallbackRoot(N){w=N},get fallbackFormat(){return y},set fallbackFormat(N){y=N,E.fallbackFormat=y},get warnHtmlMessage(){return C},set warnHtmlMessage(N){C=N,E.warnHtmlMessage=N},get escapeParameter(){return O},set escapeParameter(N){O=N,E.escapeParameter=N},t:ve,getLocaleMessage:de,setLocaleMessage:he,mergeLocaleMessage:Ce,getPostTranslationHandler:k,setPostTranslationHandler:S,getMissingHandler:V,setMissingHandler:ie,[jm]:U};return se.datetimeFormats=L,se.numberFormats=$,se.rt=fe,se.te=K,se.tm=Z,se.d=Ge,se.n=be,se.getDateTimeFormat=Te,se.setDateTimeFormat=R,se.mergeDateTimeFormat=D,se.getNumberFormat=ue,se.setNumberFormat=ge,se.mergeNumberFormat=Me,se[Wm]=r,se[nc]=Le,se[rc]=We,se[sc]=Fe,se}function Z_(t){const e=Ue(t.locale)?t.locale:Pi,n=Ue(t.fallbackLocale)||Mt(t.fallbackLocale)||et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Ot(t.missing)?t.missing:void 0,s=lt(t.silentTranslationWarn)||os(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=lt(t.silentFallbackWarn)||os(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=lt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=et(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=Ot(t.postTranslation)?t.postTranslation:void 0,d=Ue(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,h=lt(t.sync)?t.sync:!0;let p=t.messages;if(et(t.sharedMessages)){const O=t.sharedMessages;p=Object.keys(O).reduce((A,E)=>{const P=A[E]||(A[E]={});return an(P,O[E]),A},p||{})}const{__i18n:m,__root:w,__injectWithOption:y}=t,b=t.datetimeFormats,v=t.numberFormats,x=t.flatJson,C=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:p,flatJson:x,datetimeFormats:b,numberFormats:v,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:h,translateExistCompatible:C,__i18n:m,__root:w,__injectWithOption:y}}function oc(t={},e){{const n=td(Z_(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return lt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=lt(i)?!i:i},get silentFallbackWarn(){return lt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=lt(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[o,a,l]=i,c={};let u=null,d=null;if(!Ue(o))throw en(Kt.INVALID_ARGUMENT);const f=o;return Ue(a)?c.locale=a:Mt(a)?u=a:et(a)&&(d=a),Mt(l)?u=l:et(l)&&(d=l),Reflect.apply(n.t,n,[f,u||d||{},c])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[o,a,l]=i,c={plural:1};let u=null,d=null;if(!Ue(o))throw en(Kt.INVALID_ARGUMENT);const f=o;return Ue(a)?c.locale=a:jt(a)?c.plural=a:Mt(a)?u=a:et(a)&&(d=a),Ue(l)?c.locale=l:Mt(l)?u=l:et(l)&&(d=l),Reflect.apply(n.t,n,[f,u||d||{},c])},te(i,o){return n.te(i,o)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,o){n.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){n.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,o){n.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){n.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,o){n.setNumberFormat(i,o)},mergeNumberFormat(i,o){n.mergeNumberFormat(i,o)},getChoiceIndex(i,o){return-1}};return s.__extender=r,s}}const nd={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function ew({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===Ve?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Ct())}function Vm(t){return Ve}const tw=me({name:"i18n-t",props:an({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>jt(t)||!isNaN(t)}},nd),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||Ho({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(d=>d!=="_"),o=Ct();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Ue(t.plural)?+t.plural:t.plural);const a=ew(e,i),l=s[nc](t.keypath,a,o),c=an(Ct(),r),u=Ue(t.tag)||pt(t.tag)?t.tag:Vm();return wn(u,c,l)}}}),sh=tw;function nw(t){return Mt(t)&&!Ue(t[0])}function Ym(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a=Ct();t.locale&&(o.locale=t.locale),Ue(t.format)?o.key=t.format:pt(t.format)&&(Ue(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,h)=>n.includes(h)?an(Ct(),f,{[h]:t.format[h]}):f,Ct()));const l=r(t.value,o,a);let c=[o.key];Mt(l)?c=l.map((f,h)=>{const p=s[f.type],m=p?p({[f.type]:f.value,index:h,parts:l}):[f.value];return nw(m)&&(m[0].key=`${f.type}-${h}`),m}):Ue(l)&&(c=[l]);const u=an(Ct(),i),d=Ue(t.tag)||pt(t.tag)?t.tag:Vm();return wn(d,u,c)}}const rw=me({name:"i18n-n",props:an({value:{type:Number,required:!0},format:{type:[String,Object]}},nd),setup(t,e){const n=t.i18n||Ho({useScope:t.scope,__useComponent:!0});return Ym(t,e,Gm,(...r)=>n[sc](...r))}}),ih=rw,sw=me({name:"i18n-d",props:an({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},nd),setup(t,e){const n=t.i18n||Ho({useScope:t.scope,__useComponent:!0});return Ym(t,e,Um,(...r)=>n[rc](...r))}}),oh=sw;function iw(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function ow(t){const e=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw en(Kt.UNEXPECTED_ERROR);const u=iw(t,a.$),d=ah(c);return[Reflect.apply(u.t,u,[...lh(d)]),u]};return{created:(o,a)=>{const[l,c]=e(a);Va&&t.global===c&&(o.__i18nWatcher=Je(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Va&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=ah(a);o.textContent=Reflect.apply(l.t,l,[...lh(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function ah(t){if(Ue(t))return{path:t};if(et(t)){if(!("path"in t))throw en(Kt.REQUIRED_VALUE,"path");return t}else throw en(Kt.INVALID_VALUE)}function lh(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return Ue(n)&&(o.locale=n),jt(s)&&(o.plural=s),jt(i)&&(o.plural=i),[e,a,o]}function aw(t,e,...n){const r=et(n[0])?n[0]:{},s=!!r.useI18nComponentName;(lt(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":sh.name,"I18nT"].forEach(o=>t.component(o,sh)),[ih.name,"I18nN"].forEach(o=>t.component(o,ih)),[oh.name,"I18nD"].forEach(o=>t.component(o,oh))),t.directive("t",ow(e))}function lw(t,e,n){return{beforeCreate(){const r=zt();if(!r)throw en(Kt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=uh(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=oc(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=uh(t,s);else{this.$i18n=oc({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&zm(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=zt();if(!r)throw en(Kt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function uh(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[jm](e.pluralizationRules||t.pluralizationRules);const n=Ll(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const uw=fs("global-vue-i18n");function cw(t={},e){const n=__VUE_I18N_LEGACY_API__&&lt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=lt(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,i=new Map,[o,a]=dw(t,n),l=fs("");function c(f){return i.get(f)||null}function u(f,h){i.set(f,h)}function d(f){i.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(h,...p){if(h.__VUE_I18N_SYMBOL__=l,h.provide(h.__VUE_I18N_SYMBOL__,f),et(p[0])){const y=p[0];f.__composerExtend=y.__composerExtend,f.__vueI18nExtend=y.__vueI18nExtend}let m=null;!n&&r&&(m=_w(h,f.global)),__VUE_I18N_FULL_INSTALL__&&aw(h,f,...p),__VUE_I18N_LEGACY_API__&&n&&h.mixin(lw(a,a.__composer,f));const w=h.unmount;h.unmount=()=>{m&&m(),f.dispose(),w()}},get global(){return a},dispose(){o.stop()},__instances:i,__getInstance:c,__setInstance:u,__deleteInstance:d};return f}}function Ho(t={}){const e=zt();if(e==null)throw en(Kt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw en(Kt.NOT_INSTALLED);const n=fw(e),r=pw(n),s=Hm(e),i=hw(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw en(Kt.NOT_AVAILABLE_IN_LEGACY_MODE);return yw(e,i,r,t)}if(i==="global")return zm(r,t,s),r;if(i==="parent"){let l=gw(n,e,t.__useComponent);return l==null&&(l=r),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=an({},t);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=td(l),o.__composerExtend&&(a[ic]=o.__composerExtend(a)),vw(o,e,a),o.__setInstance(e,a)}return a}function dw(t,e,n){const r=Fo();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>oc(t)):r.run(()=>td(t));if(s==null)throw en(Kt.UNEXPECTED_ERROR);return[r,s]}}function fw(t){{const e=is(t.isCE?uw:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw en(t.isCE?Kt.NOT_INSTALLED_WITH_PROVIDE:Kt.UNEXPECTED_ERROR);return e}}function hw(t,e){return Pl(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function pw(t){return t.mode==="composition"?t.global:t.global.__composer}function gw(t,e,n=!1){let r=null;const s=e.root;let i=mw(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[Wm]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function mw(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function vw(t,e,n){Rt(()=>{},e),ln(()=>{const r=n;t.__deleteInstance(e);const s=r[ic];s&&(s(),delete r[ic])},e)}function yw(t,e,n,r={}){const s=e==="local",i=ds(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw en(Kt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=lt(r.inheritLocale)?r.inheritLocale:!Ue(r.locale),a=J(!s||o?n.locale.value:Ue(r.locale)?r.locale:Pi),l=J(!s||o?n.fallbackLocale.value:Ue(r.fallbackLocale)||Mt(r.fallbackLocale)||et(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=J(Ll(a.value,r)),u=J(et(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=J(et(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=s?n.missingWarn:lt(r.missingWarn)||os(r.missingWarn)?r.missingWarn:!0,h=s?n.fallbackWarn:lt(r.fallbackWarn)||os(r.fallbackWarn)?r.fallbackWarn:!0,p=s?n.fallbackRoot:lt(r.fallbackRoot)?r.fallbackRoot:!0,m=!!r.fallbackFormat,w=Ot(r.missing)?r.missing:null,y=Ot(r.postTranslation)?r.postTranslation:null,b=s?n.warnHtmlMessage:lt(r.warnHtmlMessage)?r.warnHtmlMessage:!0,v=!!r.escapeParameter,x=s?n.modifiers:et(r.modifiers)?r.modifiers:{},C=r.pluralRules||s&&n.pluralRules;function O(){return[a.value,l.value,c.value,u.value,d.value]}const q=pe({get:()=>i.value?i.value.locale.value:a.value,set:z=>{i.value&&(i.value.locale.value=z),a.value=z}}),A=pe({get:()=>i.value?i.value.fallbackLocale.value:l.value,set:z=>{i.value&&(i.value.fallbackLocale.value=z),l.value=z}}),E=pe(()=>i.value?i.value.messages.value:c.value),P=pe(()=>u.value),j=pe(()=>d.value);function T(){return i.value?i.value.getPostTranslationHandler():y}function B(z){i.value&&i.value.setPostTranslationHandler(z)}function Y(){return i.value?i.value.getMissingHandler():w}function L(z){i.value&&i.value.setMissingHandler(z)}function $(z){return O(),z()}function k(...z){return i.value?$(()=>Reflect.apply(i.value.t,null,[...z])):$(()=>"")}function S(...z){return i.value?Reflect.apply(i.value.rt,null,[...z]):""}function V(...z){return i.value?$(()=>Reflect.apply(i.value.d,null,[...z])):$(()=>"")}function ie(...z){return i.value?$(()=>Reflect.apply(i.value.n,null,[...z])):$(()=>"")}function ae(z){return i.value?i.value.tm(z):{}}function ve(z,Z){return i.value?i.value.te(z,Z):!1}function fe(z){return i.value?i.value.getLocaleMessage(z):{}}function Ge(z,Z){i.value&&(i.value.setLocaleMessage(z,Z),c.value[z]=Z)}function be(z,Z){i.value&&i.value.mergeLocaleMessage(z,Z)}function xe(z){return i.value?i.value.getDateTimeFormat(z):{}}function Q(z,Z){i.value&&(i.value.setDateTimeFormat(z,Z),u.value[z]=Z)}function $e(z,Z){i.value&&i.value.mergeDateTimeFormat(z,Z)}function Le(z){return i.value?i.value.getNumberFormat(z):{}}function Fe(z,Z){i.value&&(i.value.setNumberFormat(z,Z),d.value[z]=Z)}function We(z,Z){i.value&&i.value.mergeNumberFormat(z,Z)}const U={get id(){return i.value?i.value.id:-1},locale:q,fallbackLocale:A,messages:E,datetimeFormats:P,numberFormats:j,get inheritLocale(){return i.value?i.value.inheritLocale:o},set inheritLocale(z){i.value&&(i.value.inheritLocale=z)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(c.value)},get modifiers(){return i.value?i.value.modifiers:x},get pluralRules(){return i.value?i.value.pluralRules:C},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:f},set missingWarn(z){i.value&&(i.value.missingWarn=z)},get fallbackWarn(){return i.value?i.value.fallbackWarn:h},set fallbackWarn(z){i.value&&(i.value.missingWarn=z)},get fallbackRoot(){return i.value?i.value.fallbackRoot:p},set fallbackRoot(z){i.value&&(i.value.fallbackRoot=z)},get fallbackFormat(){return i.value?i.value.fallbackFormat:m},set fallbackFormat(z){i.value&&(i.value.fallbackFormat=z)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:b},set warnHtmlMessage(z){i.value&&(i.value.warnHtmlMessage=z)},get escapeParameter(){return i.value?i.value.escapeParameter:v},set escapeParameter(z){i.value&&(i.value.escapeParameter=z)},t:k,getPostTranslationHandler:T,setPostTranslationHandler:B,getMissingHandler:Y,setMissingHandler:L,rt:S,d:V,n:ie,tm:ae,te:ve,getLocaleMessage:fe,setLocaleMessage:Ge,mergeLocaleMessage:be,getDateTimeFormat:xe,setDateTimeFormat:Q,mergeDateTimeFormat:$e,getNumberFormat:Le,setNumberFormat:Fe,mergeNumberFormat:We};function K(z){z.locale.value=a.value,z.fallbackLocale.value=l.value,Object.keys(c.value).forEach(Z=>{z.mergeLocaleMessage(Z,c.value[Z])}),Object.keys(u.value).forEach(Z=>{z.mergeDateTimeFormat(Z,u.value[Z])}),Object.keys(d.value).forEach(Z=>{z.mergeNumberFormat(Z,d.value[Z])}),z.escapeParameter=v,z.fallbackFormat=m,z.fallbackRoot=p,z.fallbackWarn=h,z.missingWarn=f,z.warnHtmlMessage=b}return Ng(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw en(Kt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const z=i.value=t.proxy.$i18n.__composer;e==="global"?(a.value=z.locale.value,l.value=z.fallbackLocale.value,c.value=z.messages.value,u.value=z.datetimeFormats.value,d.value=z.numberFormats.value):s&&K(z)}),U}const bw=["locale","fallbackLocale","availableLocales"],ch=["t","rt","d","n","tm","te"];function _w(t,e){const n=Object.create(null);return bw.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw en(Kt.UNEXPECTED_ERROR);const o=ct(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,ch.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw en(Kt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,ch.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}K_();__INTLIFY_JIT_COMPILATION__?jf(j_):jf(q_);M_(h_);R_(Om);if(__INTLIFY_PROD_DEVTOOLS__){const t=Lr();t.__INTLIFY__=!0,x_(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const ww={en:{common:{generate:"Generate",library:"Library",settings:"Settings",image:"Image",video:"Video",edit:"Edit",audio:"Audio",prompt:"Prompt",negativePrompt:"Negative Prompt",resolution:"Resolution",steps:"Steps",cfgScale:"CFG Scale",seed:"Seed",apiKey:"API Key",save:"Save",loading:"Generating",success:"Success",error:"Error",model:"Model",usageQuota:"Used: {used} / {quota}",quotaResetsIn:"Resets in {time}",itemCount:"{count} items",inpaint:"Enhance",editor:"Editor",width:"Width",height:"Height",guidance_scale:"Guidance Scale",true_cfg_scale:"True CFG Scale",num_inference_steps:"Inference Steps",enhance:"Enhance"},generate:{placeholder:"Describe what you want to create...",shifting:"Generating your creation...",advanced:"Advanced",optimize:"Optimize",clearGenerations:"Clear Generations",clearPrompt:"Clear Prompt",translatePrompt:"Translate to English",success:"Generation completed!",heroTitle:"Pixeo Studio",tooltips:{advancedSettings:"Advanced settings",optimize:"Optimize prompt",clearGenerations:"Clear all generations",generate:"Generate"},promptLimit:"Characters",promptExceeded:"Limit exceeded!",promptTruncated:"Prompt truncated to {limit} characters"},inpaint:{dropImage:"Drop your image here",supportedFormats:"PNG, JPG, WebP (max 10MB)",brushSize:"Brush Size",undo:"Undo",original:"Original",download:"Download",processing:"Processing...",backTo:"Back to this",downloadModel:"Download AI Model",modelDownloadMessage:"The inpaint model needs to be downloaded once. It will be cached for future use. Size: ~100MB",upscale:"Upscale",clear:"Clear All",clearLabel:"Clear",clearConfirmTitle:"Are you sure?",clearConfirmDescription:"This action will clear all current work and cannot be undone.",cancel:"Cancel"},library:{empty:"No items found in your library.",deletedAll:"All items deleted"},settings:{title:"Application Settings",apiKeyPlaceholder:"Enter your Chutes API Key",logs:"Activity Logs",theme:"Theme",storage:"Storage",clearLogs:"Clear logs",regenerateThumbnails:"Regenerate Thumbnails",clearThumbnails:"Clear Thumbnail Cache",waitingActivity:"Waiting for activity...",export:"Export",import:"Import",exportSuccess:"Project exported successfully",importSuccess:"Imported {imported} items, skipped {skipped} (already existed)",importError:"Error importing: {error}",fixMediaOrder:"Fix Media Order",migrateSuccess:"Fixed {count} items. Media will now display in chronological order.",migrateNoItems:"No items found to fix.",regenerateConfirm:"Do you want to regenerate thumbnails for all existing items? This may take a while.",regenerateDone:"Thumbnails regenerated.",clearCacheConfirm:"Are you sure you want to clean up orphaned thumbnail cache? This action cannot be undone.",clearCacheDone:"Thumbnail cache cleaned.",inferModes:"Infer Modes",inferModesConfirm:"This will analyze items without a mode and attempt to determine the tool used based on their type. Continue?",modesInferred:"{count} modes inferred successfully.",modesInferNoItems:"No items without mode found."},modes:{text2image:"Text to Image",imageEdit:"Image Edit",inpaint:"Inpaint",text2speech:"Text to Speech",text2video:"Text to Video",image2video:"Image to Video",editor:"Editor",unknown:"Unknown"},actions:{zoom:"Zoom",download:"Download",delete:"Delete",copy:"Copy",downloadContent:"Download Content",deleteAll:"Delete All",exportAll:"Export All",deleteAllConfirm:"Are you sure you want to delete all items? This action cannot be undone.",exportAllSuccess:"Exported {count} items successfully",enhance:"Enhance"},logs:{promptOptimized:"[{model}] Prompt optimized",optimizationFailed:"Optimization failed, using original prompt: {error}",sendingRequest:"[{model}] Sending request to: {endpoint}",generationSuccess:"Generation successful: {model}",translationSuccess:"Prompt translated successfully"},errors:{quotaFetchFailed:"Failed to fetch quota",apiError:"API Error: {status} - {message}"}},es:{common:{generate:"Generar",library:"Biblioteca",settings:"Configuracin",image:"Imagen",video:"Video",edit:"Editar",audio:"Audio",prompt:"Prompt",negativePrompt:"Prompt Negativo",resolution:"Resolucin",steps:"Pasos",cfgScale:"Escala CFG",seed:"Semilla",apiKey:"Clave API",save:"Guardar",loading:"Generando",success:"xito",error:"Error",model:"Modelo",usageQuota:"Usado: {used} / {quota}",quotaResetsIn:"Se reinicia en {time}",itemCount:"{count} elementos",inpaint:"Mejorar",editor:"Editor",width:"Ancho",height:"Alto",guidance_scale:"Escala de Gua",true_cfg_scale:"Escala CFG Verdadera",num_inference_steps:"Pasos de Inferencia",enhance:"Mejorar"},generate:{placeholder:"Describe lo que quieres crear...",shifting:"Generando tu creacin...",advanced:"Avanzado",optimize:"Optimizar",clearGenerations:"Limpiar Generaciones",clearPrompt:"Limpiar Prompt",translatePrompt:"Traducir a ingls",success:"Generacin completada!",heroTitle:"Pixeo Studio",tooltips:{advancedSettings:"Configuracin avanzada",optimize:"Optimizar prompt",clearGenerations:"Limpiar todas las generaciones",generate:"Generar"},promptLimit:"Caracteres",promptExceeded:"Lmite excedido!",promptTruncated:"Prompt truncado a {limit} caracteres"},inpaint:{dropImage:"Arrastra tu imagen aqu",supportedFormats:"PNG, JPG, WebP (max 10MB)",brushSize:"Tamao Pincel",undo:"Deshacer",original:"Original",download:"Descargar",processing:"Procesando...",backTo:"Volver aqu",downloadModel:"Descargar Modelo IA",modelDownloadMessage:"El modelo de inpaint necesita ser descargado una vez. Ser cacheado para uso futuro. Tamao: ~100MB",upscale:"Escalar",clear:"Limpiar Todo",clearLabel:"Limpiar",clearConfirmTitle:"Ests seguro?",clearConfirmDescription:"Esta accin limpiar todo el trabajo actual y no se puede deshacer.",cancel:"Cancelar"},library:{empty:"No se encontraron elementos en tu biblioteca.",deletedAll:"Todos los elementos han sido eliminados"},settings:{title:"Configuracin de la Aplicacin",apiKeyPlaceholder:"Ingresa tu Clave API de Chutes",logs:"Log de Actividad",theme:"Tema",storage:"Almacenamiento",clearLogs:"Limpiar logs",regenerateThumbnails:"Regenerar Miniaturas",clearThumbnails:"Limpiar Cache de Miniaturas",waitingActivity:"Esperando actividad...",export:"Exportar",import:"Importar",exportSuccess:"Proyecto exportado exitosamente",importSuccess:"Importados {imported} elementos, omitidos {skipped} (ya existan)",importError:"Error al importar: {error}",fixMediaOrder:"Corregir Orden de Medios",migrateSuccess:"Se corrigieron {count} elementos. Ahora los medios se mostrarn en orden cronolgico.",migrateNoItems:"No se encontraron elementos por corregir.",regenerateConfirm:"Quieres regenerar miniaturas para todos los elementos existentes? Esto puede tomar tiempo.",regenerateDone:"Miniaturas regeneradas.",clearCacheConfirm:"Ests seguro de que quieres limpiar la cache de miniaturas hurfanas? Esta accin no se puede deshacer.",clearCacheDone:"Cache de miniaturas limpiada.",inferModes:"Inferir Modos",inferModesConfirm:"Esto analizar los elementos sin modo e intentar determinar la herramienta usada segn su tipo. Continuar?",modesInferred:"{count} modos inferidos correctamente.",modesInferNoItems:"No se encontraron elementos sin modo."},modes:{text2image:"Texto a Imagen",imageEdit:"Edicin de Imagen",inpaint:"Mejorar",text2speech:"Texto a Voz",text2video:"Texto a Video",image2video:"Imagen a Video",editor:"Editor",unknown:"Desconocido"},actions:{zoom:"Zoom",download:"Descargar",delete:"Eliminar",copy:"Copiar",downloadContent:"Descargar Contenido",deleteAll:"Eliminar Todo",exportAll:"Exportar Todo",deleteAllConfirm:"Ests seguro de que quieres eliminar todos los elementos? Esta accin no se puede deshacer.",exportAllSuccess:"Exportados {count} elementos exitosamente",enhance:"Mejorar"},logs:{promptOptimized:"[{model}] Prompt optimizado",optimizationFailed:"Optimizacin fallida, usando prompt original: {error}",sendingRequest:"[{model}] Enviando peticin a: {endpoint}",generationSuccess:"Generacin exitosa: {model}",translationSuccess:"Prompt traducido exitosamente"},errors:{quotaFetchFailed:"Error al obtener cuota",apiError:"Error de API: {status} - {message}"}}},ur=cw({legacy:!1,locale:localStorage.getItem("pixeo_locale")||"en",fallbackLocale:"en",messages:ww}),xw=Math.PI/180;function Cw(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Ls=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ne={_global:Ls,version:"10.2.0",isBrowser:Cw(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Ne.angleDeg?t*xw:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ne.DD.isDragging},isTransforming(){var t,e;return(e=(t=Ne.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Ne.DD.node},releaseCanvasOnDestroy:!0,document:Ls.document,_injectGlobal(t){typeof Ls.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Ls.Konva=t}},$t=t=>{Ne[t.prototype.getClassName()]=t};Ne._injectGlobal(Ne);const kw=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,dh=()=>{if(typeof document>"u")throw new Error(kw)};class On{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new On(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),s=this.m[0]*n+this.m[2]*r,i=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,a=this.m[1]*-r+this.m[3]*n;return this.m[0]=s,this.m[1]=i,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,s=this.m[1]+this.m[3]*n,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=s,this.m[2]=i,this.m[3]=o,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],s=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=s,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,s=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=s,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],s=this.m[3],i=this.m[4],o=this.m[5],a=e*s-n*r,l={x:i,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=a/c,l.skewX=(e*r+n*s)/a,l.skewY=0}else if(r!=0||s!=0){const c=Math.sqrt(r*r+s*s);l.rotation=Math.PI/2-(s>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+n*s)/a}return l.rotation=re._getRotation(l.rotation),l}}const Sw="[object Array]",Ew="[object Number]",Tw="[object String]",Aw="[object Boolean]",Pw=Math.PI/180,Ow=180/Math.PI,Vi="#",Iw="",Lw="0",Mw="Konva warning: ",fh="Konva error: ",Rw="rgb(",gu={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Dw=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let oa=[],Yi=null;const Nw=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,16)},re={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===Sw},_isNumber(t){return Object.prototype.toString.call(t)===Ew&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===Tw},_isBoolean(t){return Object.prototype.toString.call(t)===Aw},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){oa.push(t),oa.length===1&&Nw(function(){const e=oa;oa=[],e.forEach(function(n){n()})})},createCanvasElement(){dh();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return dh(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=re.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(Vi,Iw);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=Lw+t;return Vi+t},isCanvasFarblingActive(){if(Yi!==null)return Yi;if(typeof document>"u")return Yi=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let s=0;s<100;s++)if(n[s*4]!==40||n[s*4+1]!==40||n[s*4+2]!==40||n[s*4+3]!==255){r=!0;break}return Yi=r,this.releaseCanvas(t),Yi},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),Vi+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return Vi+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in gu?(e=gu[t],{r:e[0],g:e[1],b:e[2]}):t[0]===Vi?this._hexToRgb(t.substring(1)):t.substr(0,4)===Rw?(e=Dw.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",re._namedColorToRBA(t)||re._hex3ColorToRGBA(t)||re._hex4ColorToRGBA(t)||re._hex6ColorToRGBA(t)||re._hex8ColorToRGBA(t)||re._rgbColorToRGBA(t)||re._rgbaColorToRGBA(t)||re._hslColorToRGBA(t)},_namedColorToRBA(t){const e=gu[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,s=Number(n[1])/100,i=Number(n[2])/100;let o,a,l;if(s===0)return l=i*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};i<.5?o=i*(1+s):o=i+s-i*s;const c=2*i-o,u=[0,0,0];for(let d=0;d<3;d++)a=r+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(o-c)*6*a:2*a<1?l=o:3*a<2?l=c+(o-c)*(2/3-a)*6:l=c,u[d]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*Pw},radToDeg(t){return t*Ow},_degToRad(t){return re.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),re.degToRad(t)},_radToDeg(t){return re.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),re.radToDeg(t)},_getRotation(t){return Ne.angleDeg?re.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(fh+t)},error(t){console.error(fh+t)},warn(t){Ne.showWarnings&&console.warn(Mw+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,s,i){let o,a,l;const c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)o=t,a=e,l=(s-n)*(s-n)+(i-r)*(i-r);else{const u=((s-t)*(n-t)+(i-e)*(r-e))/c;u<0?(o=t,a=e,l=(t-s)*(t-s)+(e-i)*(e-i)):u>1?(o=n,a=r,l=(n-s)*(n-s)+(r-i)*(r-i)):(o=t+u*(n-t),a=e+u*(r-e),l=(o-s)*(o-s)+(a-i)*(a-i))}return[o,a,l]},_getProjectionToLine(t,e,n){const r=re.cloneObject(t);let s=Number.MAX_VALUE;return e.forEach(function(i,o){if(!n&&o===e.length-1)return;const a=e[(o+1)%e.length],l=re._getProjectionToSegment(i.x,i.y,a.x,a.y,t.x,t.y),c=l[0],u=l[1],d=l[2];d<s&&(r.x=c,r.y=u,s=d)}),r},_prepareArrayForTween(t,e,n){const r=[],s=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)s.push({x:e[o],y:e[o+1]});const i=[];return s.forEach(function(o){const a=re._getProjectionToLine(o,r,n);i.push(a.x),i.push(a.y)}),i},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||re._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(re._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Ne.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let s=e<0?e:0,i=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let o=0,a=0,l=0,c=0;typeof r=="number"?o=a=l=c=Math.min(r,e/2,n/2):(o=Math.min(r[0]||0,e/2,n/2),a=Math.min(r[1]||0,e/2,n/2),c=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(s+o,i),t.lineTo(s+e-a,i),t.arc(s+e-a,i+a,a,Math.PI*3/2,0,!1),t.lineTo(s+e,i+n-c),t.arc(s+e-c,i+n-c,c,0,Math.PI/2,!1),t.lineTo(s+l,i+n),t.arc(s+l,i+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(s,i+o),t.arc(s+o,i+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,s){r=Math.abs(r);for(let i=0;i<n;i++){const o=e[(i-1+n)%n],a=e[i],l=e[(i+1)%n],c={x:a.x-o.x,y:a.y-o.y},u={x:l.x-a.x,y:l.y-a.y},d=Math.hypot(c.x,c.y),f=Math.hypot(u.x,u.y);let h;typeof s=="number"?h=s:h=i<s.length?s[i]:0,h=r*Math.cos(Math.PI/n)*Math.min(1,h/r*2);const m={x:c.x/d,y:c.y/d},w={x:u.x/f,y:u.y/f},y={x:a.x-m.x*h,y:a.y-m.y*h},b={x:a.x+w.x*h,y:a.y+w.y*h};i===0?t.moveTo(y.x,y.y):t.lineTo(y.x,y.y),t.arcTo(a.x,a.y,b.x,b.y,h)}}};function $w(t){const e=[],n=t.length,r=re;for(let s=0;s<n;s++){let i=t[s];r._isNumber(i)?i=Math.round(i*1e3)/1e3:r._isString(i)||(i=i+""),e.push(i)}return e}const hh=",",Fw="(",Bw=")",Uw="([",Gw="])",qw=";",jw="()",Ww="=",ph=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Hw=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],zw=100;let aa=null;function gh(){if(aa!==null)return aa;try{const e=re.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(aa=!1,!1)}catch{return aa=!1,!1}}class Ml{constructor(e){this.canvas=e,Ne.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,s=r.length,i="",o,a,l,c;for(o=0;o<s;o++)a=r[o],l=a.method,l?(c=a.args,i+=l,e?i+=jw:re._isArray(c[0])?i+=Uw+c.join(hh)+Gw:(n&&(c=c.map(u=>typeof u=="number"?Math.floor(u):u)),i+=Fw+c.join(hh)+Bw)):(i+=a.property,e||(i+=Ww+a.val)),i+=qw;return i}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=zw&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,s,i,o){this._context.arc(e,n,r,s,i,o)}arcTo(e,n,r,s,i){this._context.arcTo(e,n,r,s,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,s,i,o){this._context.bezierCurveTo(e,n,r,s,i,o)}clearRect(e,n,r,s){this._context.clearRect(e,n,r,s)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,s){return this._context.createLinearGradient(e,n,r,s)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,s,i,o){return this._context.createRadialGradient(e,n,r,s,i,o)}drawImage(e,n,r,s,i,o,a,l,c){const u=arguments,d=this._context;u.length===3?d.drawImage(e,n,r):u.length===5?d.drawImage(e,n,r,s,i):u.length===9&&d.drawImage(e,n,r,s,i,o,a,l,c)}ellipse(e,n,r,s,i,o,a,l){this._context.ellipse(e,n,r,s,i,o,a,l)}isPointInPath(e,n,r,s){return r?this._context.isPointInPath(r,e,n,s):this._context.isPointInPath(e,n,s)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,s){this._context.fillRect(e,n,r,s)}strokeRect(e,n,r,s){this._context.strokeRect(e,n,r,s)}fillText(e,n,r,s){s?this._context.fillText(e,n,r,s):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,s){return this._context.getImageData(e,n,r,s)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,s){this._context.rect(e,n,r,s)}roundRect(e,n,r,s,i){this._context.roundRect(e,n,r,s,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,s){this._context.quadraticCurveTo(e,n,r,s)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,s,i,o){this._context.setTransform(e,n,r,s,i,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,s){this._context.strokeText(e,n,r,s)}transform(e,n,r,s,i,o){this._context.transform(e,n,r,s,i,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=ph.length,r=this.setAttr,s,i;const o=function(a){let l=e[a],c;e[a]=function(){return i=$w(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:i}),c}};for(s=0;s<n;s++)o(ph[s]);e.setAttr=function(){r.apply(e,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}Hw.forEach(function(t){Object.defineProperty(Ml.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class Vw extends Ml{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const s=e.getFillPatternImage();if(s&&r==="pattern"){this._fillPattern(e);return}const i=e.getFillLinearGradientColorStops();if(i&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):s?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),s=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,r.x,r.y);if(s){for(let o=0;o<s.length;o+=2)i.addColorStop(s[o],s[o+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,s;const i=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(s=e.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),u=l.x*c,d=l.y*c;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*d)}}class Yw extends Ml{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),s=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let la;function Kw(){if(la)return la;const t=re.createCanvasElement(),e=t.getContext("2d");return la=(function(){const n=Ne._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),re.releaseCanvas(t),la}class rd{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Ne.pixelRatio||Kw();this.pixelRatio=r,this._canvas=re.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(s){return re.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class rs extends rd{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new Vw(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class sd extends rd{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Yw(this),this.setSize(e.width,e.height)}}const gt={get isDragging(){let t=!1;return gt._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return gt._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];gt._dragElements.forEach((n,r)=>{const{node:s}=n,i=s.getStage();i.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=re._getFirstPointerId(t));const o=i._changedPointerPositions.find(a=>a.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){const a=s.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<a||(s.startDrag({evt:t}),!s.isDragging()))return}s._setDragPosition(t,n),e.push(s)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];gt._dragElements.forEach(n=>{const{node:r}=n,s=r.getStage();if(t&&s.setPointersPositions(t),!s._changedPointerPositions.find(a=>a.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(gt.justDragged=!0,Ne._mouseListenClick=!1,Ne._touchListenClick=!1,Ne._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof Ne.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){gt._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&gt._dragElements.delete(n)})}};Ne.isBrowser&&(window.addEventListener("mouseup",gt._endDragBefore,!0),window.addEventListener("touchend",gt._endDragBefore,!0),window.addEventListener("touchcancel",gt._endDragBefore,!0),window.addEventListener("mousemove",gt._drag),window.addEventListener("touchmove",gt._drag),window.addEventListener("mouseup",gt._endDragAfter,!1),window.addEventListener("touchend",gt._endDragAfter,!1),window.addEventListener("touchcancel",gt._endDragAfter,!1));function gs(t){return re._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||re._isBoolean(t)?t:Object.prototype.toString.call(t)}function Km(t){return t>255?255:t<0?0:Math.round(t)}function Ie(){if(Ne.isUnminified)return function(t,e){return re._isNumber(t)||re.warn(gs(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Rl(t){if(Ne.isUnminified)return function(e,n){let r=re._isNumber(e),s=re._isArray(e)&&e.length==t;return!r&&!s&&re.warn(gs(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function id(){if(Ne.isUnminified)return function(t,e){return re._isNumber(t)||t==="auto"||re.warn(gs(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Gs(){if(Ne.isUnminified)return function(t,e){return re._isString(t)||re.warn(gs(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Xm(){if(Ne.isUnminified)return function(t,e){const n=re._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||re.warn(gs(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Xw(){if(Ne.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(re._isArray(t)?t.forEach(function(r){re._isNumber(r)||re.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):re.warn(gs(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function sr(){if(Ne.isUnminified)return function(t,e){return t===!0||t===!1||re.warn(gs(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Jw(t){if(Ne.isUnminified)return function(e,n){return e==null||re.isObject(e)||re.warn(gs(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Ki="get",Xi="set",W={addGetterSetter(t,e,n,r,s){W.addGetter(t,e,n),W.addSetter(t,e,r,s),W.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Ki+re._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const s=this.attrs[e];return s===void 0?n:s}},addSetter(t,e,n,r){const s=Xi+re._capitalize(e);t.prototype[s]||W.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const s=Xi+re._capitalize(e);t.prototype[s]=function(i){return n&&i!==void 0&&i!==null&&(i=n.call(this,i,e)),this._setAttr(e,i),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,s){const i=n.length,o=re._capitalize,a=Ki+o(e),l=Xi+o(e);t.prototype[a]=function(){const u={};for(let d=0;d<i;d++){const f=n[d];u[f]=this.getAttr(e+o(f))}return u};const c=Jw(n);t.prototype[l]=function(u){const d=this.attrs[e];r&&(u=r.call(this,u,e)),c&&c.call(this,u,e);for(const f in u)u.hasOwnProperty(f)&&this._setAttr(e+o(f),u[f]);return u||n.forEach(f=>{this._setAttr(e+o(f),void 0)}),this._fireChangeEvent(e,d,u),s&&s.call(this),this},W.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=re._capitalize(e),r=Xi+n,s=Ki+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(t,e,n,r){re.error("Adding deprecated "+e);const s=Ki+re._capitalize(e),i=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[s]=function(){re.error(i);const o=this.attrs[e];return o===void 0?n:o},W.addSetter(t,e,r,function(){re.error(i)}),W.addOverloadedGetterSetter(t,e)},backCompat(t,e){re.each(e,function(n,r){const s=t.prototype[r],i=Ki+re._capitalize(n),o=Xi+re._capitalize(n);function a(){s.apply(this,arguments),re.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=a,t.prototype[i]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function Qw(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,s]=n;switch(r){case"blur":{const i=parseFloat(s.replace("px",""));return function(o){this.blurRadius(i*.5);const a=Ne.Filters;a&&a.Blur&&a.Blur.call(this,o)}}case"brightness":{const i=s.includes("%")?parseFloat(s)/100:parseFloat(s);return function(o){this.brightness(i);const a=Ne.Filters;a&&a.Brightness&&a.Brightness.call(this,o)}}case"contrast":{const i=parseFloat(s);return function(o){const a=100*(Math.sqrt(i)-1);this.contrast(a);const l=Ne.Filters;l&&l.Contrast&&l.Contrast.call(this,o)}}case"grayscale":return function(i){const o=Ne.Filters;o&&o.Grayscale&&o.Grayscale.call(this,i)};case"sepia":return function(i){const o=Ne.Filters;o&&o.Sepia&&o.Sepia.call(this,i)};case"invert":return function(i){const o=Ne.Filters;o&&o.Invert&&o.Invert.call(this,i)};default:re.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const Ra="absoluteOpacity",mh="allEventListeners",Tr="absoluteTransform",vh="absoluteScale",Ts="canvas",Zw="Change",e4="children",t4="konva",ac="listening",n4="mouseenter",r4="mouseleave",s4="pointerenter",i4="pointerleave",o4="touchenter",a4="touchleave",yh="set",bh="Shape",Da=" ",_h="stage",Jr="transform",l4="Stage",lc="visible",u4=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Da);let c4=1,Re=class ro{constructor(e){this._id=c4++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Jr||e===Tr)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Jr||e===Tr)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const s=n.map(i=>i+"Change.konva").join(Da);this.on(s,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Ts)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Tr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ts)){const{scene:e,filter:n,hit:r}=this._cache.get(Ts);re.releaseCanvas(e._canvas,n._canvas,r._canvas),this._cache.delete(Ts)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let s=Math.ceil(n.width||r.width),i=Math.ceil(n.height||r.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,u=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!s||!i){re.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const f=Math.abs(Math.round(r.x)-a)>.5?1:0,h=Math.abs(Math.round(r.y)-l)>.5?1:0;s+=c*2+f,i+=c*2+h,a-=c,l-=c;const p=new rs({pixelRatio:o,width:s,height:i}),m=new rs({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),w=new sd({pixelRatio:d,width:s,height:i}),y=p.getContext(),b=w.getContext(),v=new rs({width:p.width/p.pixelRatio+Math.abs(a),height:p.height/p.pixelRatio+Math.abs(l),pixelRatio:p.pixelRatio}),x=v.getContext();return w.isCache=!0,p.isCache=!0,this._cache.delete(Ts),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),y.save(),b.save(),x.save(),y.translate(-a,-l),b.translate(-a,-l),x.translate(-a,-l),v.x=a,v.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Ra),this._clearSelfAndDescendantCache(vh),this.drawScene(p,this,v),this.drawHit(w,this),this._isUnderCache=!1,y.restore(),b.restore(),u&&(y.save(),y.beginPath(),y.rect(0,0,s,i),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),re.releaseCanvas(v._canvas),this._cache.set(Ts,{scene:p,filter:m,hit:w,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Ts)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let s=1/0,i=1/0,o=-1/0,a=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(c){const u=l.point(c);s===void 0&&(s=o=u.x,i=a=u.y),s=Math.min(s,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),{x:s,y:i,width:o-s,height:a-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),s=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/s,r.height/s),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,s=n.filter,i=s.getContext(),o,a,l,c;if(!e||e.length===0)return r;if(this._filterUpToDate)return s;let u=!0;for(let f=0;f<e.length;f++)if(typeof e[f]=="string"&&gh(),typeof e[f]!="string"||!gh()){u=!1;break}const d=r.pixelRatio;if(s.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),u){const f=e.join(" ");return i.save(),i.setAttr("filter",f),i.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),i.restore(),this._filterUpToDate=!0,s}try{for(o=e.length,i.clear(),i.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),a=i.getImageData(0,0,s.getWidth(),s.getHeight()),l=0;l<o;l++)c=e[l],typeof c=="string"&&(c=Qw(c)),c.call(this,a),i.putImageData(a,0,0)}catch(f){re.error("Unable to apply filter. "+f.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(e,n){if(this._cache&&this._cache.delete(mh),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(Da);for(let s=0;s<r.length;s++){const o=r[s].split("."),a=o[0],l=o[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(Da),s=r.length,i,o,a,l,c,u;if(this._cache&&this._cache.delete(mh),!e)for(o in this.eventListeners)this._off(o);for(i=0;i<s;i++)if(a=r[i],l=a.split("."),c=l[0],u=l[1],c)this.eventListeners[c]&&this._off(c,u,n);else for(o in this.eventListeners)this._off(o,u,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const s=this;this.on(e,function(i){const o=i.target.findAncestors(n,!0,s);for(let a=0;a<o.length;a++)i=re.cloneObject(i),i.currentTarget=o[a],r.call(o[a],i)})}remove(){return this.isDragging()&&this.stopDrag(),gt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Tr),this._clearSelfAndDescendantCache(Ra),this._clearSelfAndDescendantCache(vh),this._clearSelfAndDescendantCache(_h),this._clearSelfAndDescendantCache(lc),this._clearSelfAndDescendantCache(ac)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+re._capitalize(e);return re._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==e4&&(r=yh+re._capitalize(n),re._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(ac,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(lc,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let s=!1;gt._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(s=!0)});const i=!n&&!Ne.hitOnDragEnabled&&(s||Ne.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,s,i,o,a;function l(u){for(s=[],i=u.length,o=0;o<i;o++)a=u[o],r++,a.nodeType!==bh&&(s=s.concat(a.getChildren().slice())),a._id===n._id&&(o=i);s.length>0&&s[0].getDepth()<=e&&l(s)}const c=this.getStage();return n.nodeType!==l4&&c&&l(c.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Jr),this._clearSelfAndDescendantCache(Tr)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const s=this.getAbsoluteTransform(e).getMatrix(),i=new On,o=this.offset();return i.m=s.slice(),i.translate(o.x,o.y),i.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...s}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Jr);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(s),this.setPosition({x:e.x,y:e.y}),this._clearCache(Jr),this._clearSelfAndDescendantCache(Tr),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,s=this.x(),i=this.y();return n!==void 0&&(s+=n),r!==void 0&&(i+=r),this.setPosition({x:s,y:i}),this}_eachAncestorReverse(e,n){let r=[],s=this.getParent(),i,o;if(!(n&&n._id===this._id)){for(r.unshift(this);s&&(!n||s._id!==n._id);)r.unshift(s),s=s.parent;for(i=r.length,o=0;o<i;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return re.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return re.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return re.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return re.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return re.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&re.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Ra,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,s,i,o;const a={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=re.isObject(r)&&!re._isPlainObject(r)&&!re._isArray(r),!o&&(s=typeof this[n]=="function"&&this[n],delete e[n],i=s?s.call(this):null,e[n]=r,i!==r&&(a.attrs[n]=r));return re._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const s=[];n&&this._isMatch(e)&&s.push(this);let i=this.parent;for(;i;){if(i===r)return s;i._isMatch(e)&&s.push(i),i=i.parent}return s}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,s,i;for(s=0;s<r;s++)if(i=n[s],re.isValidSelector(i)||(re.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),re.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),re.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(_h,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Tr,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new On,this._eachAncestorReverse(function(r){const s=r.transformsEnabled();s==="all"?n.multiply(r.getTransform()):s==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Tr)||new On,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const s=this.attrs.x||0,i=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(s-o,i-a)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const s=this.getAbsoluteTransform(e).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Jr,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Jr)||new On;r.reset();const s=this.x(),i=this.y(),o=Ne.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,u=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(s!==0||i!==0)&&r.translate(s,i),o!==0&&r.rotate(o),(c!==0||u!==0)&&r.skew(c,u),(a!==1||l!==1)&&r.scale(a,l),(d!==0||f!==0)&&r.translate(-1*d,-1*f),r.dirty=!1,r}clone(e){let n=re.cloneObject(this.attrs),r,s,i,o,a;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(s=this.eventListeners[r],i=s.length,o=0;o<i;o++)a=s[o],a.name.indexOf(t4)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),s=e.x!==void 0?e.x:Math.floor(n.x),i=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new rs({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),l=a.getContext(),c=new rs({width:a.width/a.pixelRatio+Math.abs(s),height:a.height/a.pixelRatio+Math.abs(i),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(s||i)&&l.translate(-1*s,-1*i),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,s=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(s),s}toImage(e){return new Promise((n,r)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,re._urlToImage(this.toDataURL(e),function(i){n(i),s==null||s(i)})}catch(s){r(s)}})}toBlob(e){return new Promise((n,r)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,this.toCanvas(e).toBlob(i=>{n(i),s==null||s(i)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(s){r(s)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ne.dragDistance}_off(e,n,r){let s=this.eventListeners[e],i,o,a;for(i=0;i<s.length;i++)if(o=s[i].name,a=s[i].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===a)){if(s.splice(i,1),s.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,n,r){this._fire(e+Zw,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[yh+re._capitalize(e)];return re._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ne.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!re.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let s;r!==void 0&&(s=this.attrs[e],s||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,s,r))}_fireAndBubble(e,n,r){n&&this.nodeType===bh&&(n.target=this);const s=[n4,r4,s4,i4,o4,a4];if(!(s.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const o=s.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!o&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r;const{nodeType:s}=this,i=ro.protoListenerMap.get(s)||{};let o=i==null?void 0:i[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(r=(n=a.eventListeners)===null||n===void 0?void 0:n[e])!==null&&r!==void 0?r:[];o.push(...l),a=Object.getPrototypeOf(a)}i[e]=o,ro.protoListenerMap.set(s,i)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(let i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),s=this.getAbsolutePosition();if(!r)return;const i=r._getPointerById(n)||r._changedPointerPositions[0]||s;gt._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-s.x,y:i.y-s.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){gt._dragElements.has(this._id)||this._createDragElement(e);const r=gt._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let s={x:r.x-n.offset.x,y:r.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const o=i.call(this,s,e);o?s=o:re.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}stopDrag(e){const n=gt._dragElements.get(this._id);n&&(n.dragStatus="stopped"),gt._endDragBefore(e),gt._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=gt._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ne.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let s=!1;gt._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(s=!0)}),s||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=gt._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",s=n&&n.dragStatus==="ready";r?this.stopDrag():s&&gt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return re.haveIntersection(r,this.getClientRect())}static create(e,n){return re._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=ro.prototype.getClassName.call(e),s=e.children,i,o,a;n&&(e.attrs.container=n),Ne[r]||(re.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Ne[r];if(i=new l(e.attrs),s)for(o=s.length,a=0;a<o;a++)i.add(ro._createNode(s[a]));return i}};Re.protoListenerMap=new Map;Re.prototype.nodeType="Node";Re.prototype._attrsAffectingSize=[];Re.prototype.eventListeners={};Re.prototype.on.call(Re.prototype,u4,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Jr),this._clearSelfAndDescendantCache(Tr)});Re.prototype.on.call(Re.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(lc)});Re.prototype.on.call(Re.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(ac)});Re.prototype.on.call(Re.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Ra)});const St=W.addGetterSetter;St(Re,"zIndex");St(Re,"absolutePosition");St(Re,"position");St(Re,"x",0,Ie());St(Re,"y",0,Ie());St(Re,"globalCompositeOperation","source-over",Gs());St(Re,"opacity",1,Ie());St(Re,"name","",Gs());St(Re,"id","",Gs());St(Re,"rotation",0,Ie());W.addComponentsGetterSetter(Re,"scale",["x","y"]);St(Re,"scaleX",1,Ie());St(Re,"scaleY",1,Ie());W.addComponentsGetterSetter(Re,"skew",["x","y"]);St(Re,"skewX",0,Ie());St(Re,"skewY",0,Ie());W.addComponentsGetterSetter(Re,"offset",["x","y"]);St(Re,"offsetX",0,Ie());St(Re,"offsetY",0,Ie());St(Re,"dragDistance",void 0,Ie());St(Re,"width",0,Ie());St(Re,"height",0,Ie());St(Re,"listening",!0,sr());St(Re,"preventDefault",!0,sr());St(Re,"filters",void 0,function(t){return this._filterUpToDate=!1,t});St(Re,"visible",!0,sr());St(Re,"transformsEnabled","all",Gs());St(Re,"size");St(Re,"dragBoundFunc");St(Re,"draggable",!1,sr());W.backCompat(Re,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Mn extends Re{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(s=>{const i=s._isMatch(e);return i&&r.push(s),!!(i&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const s of r){if(n=e(s),n)return!0;if(s.hasChildren()&&(n=s._descendants(e),n))return!0}return!1}toObject(){const e=Re.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Re.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const s=this.getLayer(),i=e||s&&s.getCanvas(),o=i&&i.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=i&&i.isCache;if(!this.isVisible()&&!c)return this;if(l){o.save();const u=this.getAbsoluteTransform(n).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",i,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),s=e||r&&r.hitCanvas,i=s&&s.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();const l=this.getAbsoluteTransform(n).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",s,n);return this}_drawChildren(e,n,r,s){var i;const o=n&&n.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),u=typeof a=="number"&&typeof l=="number"||c,d=r===this;if(u){o.save();const h=this.getAbsoluteTransform(r);let p=h.getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.beginPath();let m;if(c)m=c.call(this,o,this);else{const w=this.clipX(),y=this.clipY();o.rect(w||0,y||0,a,l)}o.clip.apply(o,m),p=h.copy().invert().getMatrix(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const f=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";f&&(o.save(),o._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(h){h[e](n,r,s)}),f&&o.restore(),u&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,s=e.relativeTo;let i,o,a,l,c={x:1/0,y:1/0,width:0,height:0};const u=this;(n=this.children)===null||n===void 0||n.forEach(function(h){if(!h.visible())return;const p=h.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});p.width===0&&p.height===0||(i===void 0?(i=p.x,o=p.y,a=p.x+p.width,l=p.y+p.height):(i=Math.min(i,p.x),o=Math.min(o,p.y),a=Math.max(a,p.x+p.width),l=Math.max(l,p.y+p.height)))});const d=this.find("Shape");let f=!1;for(let h=0;h<d.length;h++)if(d[h]._isVisible(this)){f=!0;break}return f&&i!==void 0?c={x:i,y:o,width:a-i,height:l-o}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,s)}}W.addComponentsGetterSetter(Mn,"clip",["x","y","width","height"]);W.addGetterSetter(Mn,"clipX",void 0,Ie());W.addGetterSetter(Mn,"clipY",void 0,Ie());W.addGetterSetter(Mn,"clipWidth",void 0,Ie());W.addGetterSetter(Mn,"clipHeight",void 0,Ie());W.addGetterSetter(Mn,"clipFunc");const Ro=new Map,Jm=Ne._global.PointerEvent!==void 0;function mu(t){return Ro.get(t)}function od(t){return{evt:t,pointerId:t.pointerId}}function Qm(t,e){return Ro.get(t)===e}function Zm(t,e){bo(t),e.getStage()&&(Ro.set(t,e),Jm&&e._fire("gotpointercapture",od(new PointerEvent("gotpointercapture"))))}function bo(t,e){const n=Ro.get(t);if(!n)return;const r=n.getStage();r&&r.content,Ro.delete(t),Jm&&n._fire("lostpointercapture",od(new PointerEvent("lostpointercapture")))}const d4="Stage",f4="string",wh="px",h4="mouseout",e0="mouseleave",t0="mouseover",n0="mouseenter",r0="mousemove",s0="mousedown",i0="mouseup",so="pointermove",io="pointerdown",ci="pointerup",oo="pointercancel",p4="lostpointercapture",ua="pointerout",ao="pointerleave",ca="pointerover",da="pointerenter",uc="contextmenu",o0="touchstart",a0="touchend",l0="touchmove",u0="touchcancel",cc="wheel",g4=5,m4=[[n0,"_pointerenter"],[s0,"_pointerdown"],[r0,"_pointermove"],[i0,"_pointerup"],[e0,"_pointerleave"],[o0,"_pointerdown"],[l0,"_pointermove"],[a0,"_pointerup"],[u0,"_pointercancel"],[t0,"_pointerover"],[cc,"_wheel"],[uc,"_contextmenu"],[io,"_pointerdown"],[so,"_pointermove"],[ci,"_pointerup"],[oo,"_pointercancel"],[ao,"_pointerleave"],[p4,"_lostpointercapture"]],vu={mouse:{[ua]:h4,[ao]:e0,[ca]:t0,[da]:n0,[so]:r0,[io]:s0,[ci]:i0,[oo]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[ua]:"touchout",[ao]:"touchleave",[ca]:"touchover",[da]:"touchenter",[so]:l0,[io]:o0,[ci]:a0,[oo]:u0,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[ua]:ua,[ao]:ao,[ca]:ca,[da]:da,[so]:so,[io]:io,[ci]:ci,[oo]:oo,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},lo=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",ei=t=>{const e=lo(t);if(e==="pointer")return Ne.pointerEventsEnabled&&vu.pointer;if(e==="touch")return vu.touch;if(e==="mouse")return vu.mouse};function xh(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&re.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const v4="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",_o=[];class Dl extends Mn{constructor(e){super(xh(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),_o.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{xh(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||re.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===f4){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Mn.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&re._isInDocument(e)&&this.container().removeChild(e);const n=_o.indexOf(this);return n>-1&&_o.splice(n,1),re.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(re.warn(v4),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new rs({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,s=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),s.forEach(function(i){if(!i.isVisible())return;const o=i._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,s=r-1;for(let i=s;i>=0;i--){const o=n[i].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+wh,this.content.style.height=n+wh),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}super.add(e);const r=this.children.length;return r>g4&&re.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Ne.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Qm(e,this)}setPointerCapture(e){Zm(e,this)}releaseCapture(e){bo(e)}getLayers(){return this.children}_bindContentEvents(){Ne.isBrowser&&m4.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=ei(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=ei(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=ei(e.type),r=lo(e.type);if(!n)return;this.setPointersPositions(e);const s=this._getTargetShape(r),i=!(Ne.isDragging()||Ne.isTransforming())||Ne.hitOnDragEnabled;s&&i?(s._fireAndBubble(n.pointerout,{evt:e}),s._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):i&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=ei(e.type),r=lo(e.type);if(!n)return;this.setPointersPositions(e);let s=!1;this._changedPointerPositions.forEach(i=>{const o=this.getIntersection(i);if(gt.justDragged=!1,Ne["_"+r+"ListenClick"]=!0,!o||!o.isListening()){this[r+"ClickStartShape"]=void 0;return}Ne.capturePointerEventsEnabled&&o.setPointerCapture(i.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:i.id}),s=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),s||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=ei(e.type),r=lo(e.type);if(!n)return;const s=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Ne.isDragging()&&gt.node.preventDefault()&&e.cancelable&&s&&e.preventDefault(),this.setPointersPositions(e),!(!(Ne.isDragging()||Ne.isTransforming())||Ne.hitOnDragEnabled))return;const o={};let a=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(c=>{const u=mu(c.id)||this.getIntersection(c),d=c.id,f={evt:e,pointerId:d},h=l!==u;if(h&&l&&(l._fireAndBubble(n.pointerout,{...f},u),l._fireAndBubble(n.pointerleave,{...f},u)),u){if(o[u._id])return;o[u._id]=!0}u&&u.isListening()?(a=!0,h&&(u._fireAndBubble(n.pointerover,{...f},l),u._fireAndBubble(n.pointerenter,{...f},l),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,{...f})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:d}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=ei(e.type),r=lo(e.type);if(!n)return;this.setPointersPositions(e);const s=this[r+"ClickStartShape"],i=this[r+"ClickEndShape"],o={};let a=!1;this._changedPointerPositions.forEach(l=>{const c=mu(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),o[c._id])return;o[c._id]=!0}const u=l.id,d={evt:e,pointerId:u};let f=!1;Ne["_"+r+"InDblClickWindow"]?(f=!0,clearTimeout(this[r+"DblTimeout"])):gt.justDragged||(Ne["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Ne["_"+r+"InDblClickWindow"]=!1},Ne.dblClickWindow),c&&c.isListening()?(a=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,{...d}),Ne["_"+r+"ListenClick"]&&s&&s===c&&(c._fireAndBubble(n.pointerclick,{...d}),f&&i&&i===c&&c._fireAndBubble(n.pointerdblclick,{...d}))):(this[r+"ClickEndShape"]=null,a||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a=!0),Ne["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),f&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),a||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ne["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(uc,{evt:e}):this._fire(uc,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(cc,{evt:e}):this._fire(cc,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=mu(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(ci,od(e)),bo(e.pointerId)}_lostpointercapture(e){bo(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,s=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,i=>{this._pointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,i=>{this._changedPointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,s=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:s},this._pointerPositions=[{x:r,y:s,id:re._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:s,id:re._getFirstPointerId(e)}])}_setPointerPosition(e){re.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new rs({width:this.width(),height:this.height()}),this.bufferHitCanvas=new sd({pixelRatio:1,width:this.width(),height:this.height()}),!Ne.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return re.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Dl.prototype.nodeType=d4;$t(Dl);W.addGetterSetter(Dl,"container");Ne.isBrowser&&document.addEventListener("visibilitychange",()=>{_o.forEach(t=>{t.batchDraw()})});const c0="hasShadow",d0="shadowRGBA",f0="patternImage",h0="linearGradient",p0="radialGradient";let fa;function yu(){return fa||(fa=re.createCanvasElement().getContext("2d"),fa)}const wo={};function y4(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function b4(t){t.stroke()}function _4(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function w4(t){t.stroke()}function x4(){this._clearCache(c0)}function C4(){this._clearCache(d0)}function k4(){this._clearCache(f0)}function S4(){this._clearCache(h0)}function E4(){this._clearCache(p0)}class Se extends Re{constructor(e){super(e);let n,r=0;for(;n=re.getHitColor(),!(n&&!(n in wo));)if(r++,r>=1e4){re.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=re.getRandomColor();break}this.colorKey=n,wo[n]=this}getContext(){return re.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return re.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c0,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f0,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=yu().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new On;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Ne.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=r.getMatrix(),i=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);n.setTransform(i)}return n}}_getLinearGradient(){return this._getCache(h0,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=yu(),r=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),i=n.createLinearGradient(r.x,r.y,s.x,s.y);for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}_getRadialGradient(){return this._getCache(p0,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=yu(),r=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),i=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}getShadowRGBA(){return this._getCache(d0,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=re.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Re.prototype.destroy.call(this),delete wo[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const s=e||this.hasFill(),i=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(s&&i&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(s&&i&&a&&l)}setStrokeHitEnabled(e){re.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const s=e.skipTransform,i=e.relativeTo||n&&this.getStage()||void 0,o=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=o.width+l,u=o.height+l,d=!e.skipShadow&&this.hasShadow(),f=d?this.shadowOffsetX():0,h=d?this.shadowOffsetY():0,p=c+Math.abs(f),m=u+Math.abs(h),w=d&&this.shadowBlur()||0,y=p+w*2,b=m+w*2,v={width:y,height:b,x:-(l/2+w)+Math.min(f,0)+o.x,y:-(l/2+w)+Math.min(h,0)+o.y};return s?v:this._transformedRect(v,i)}drawScene(e,n,r){const s=this.getLayer(),i=e||s.getCanvas(),o=i.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow();let u;const d=n===this;if(!this.isVisible()&&!d)return this;if(a){o.save();const f=this.getAbsoluteTransform(n).getMatrix();return o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()){u=this.getStage();const f=r||u.bufferCanvas,h=f.getContext();r?(h.save(),h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,f.width,f.height),h.restore()):h.clear(),h.save(),h._applyLineJoin(this),h._applyMiterLimit(this);const p=this.getAbsoluteTransform(n).getMatrix();h.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,h,this),h.restore();const m=f.pixelRatio;c&&o._applyShadow(this),d||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(f._canvas,f.x||0,f.y||0,f.width/m,f.height/m)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!d){const f=this.getAbsoluteTransform(n).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}c&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const s=this.getLayer(),i=e||s.hitCanvas,o=i&&i.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||re.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){o.save();const d=this.getAbsoluteTransform(n).getMatrix();return o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===n)){const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),s=n.hit,i=s.getContext(),o=s.getWidth(),a=s.getHeight();i.clear(),i.drawImage(r._canvas,0,0,o,a);try{const l=i.getImageData(0,0,o,a),c=l.data,u=c.length,d=re._hexToRgb(this.colorKey);for(let f=0;f<u;f+=4)c[f+3]>e?(c[f]=d.r,c[f+1]=d.g,c[f+2]=d.b,c[f+3]=255):c[f+3]=0;i.putImageData(l,0,0)}catch(l){re.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return Qm(e,this)}setPointerCapture(e){Zm(e,this)}releaseCapture(e){bo(e)}}Se.prototype._fillFunc=y4;Se.prototype._strokeFunc=b4;Se.prototype._fillFuncHit=_4;Se.prototype._strokeFuncHit=w4;Se.prototype._centroid=!1;Se.prototype.nodeType="Shape";$t(Se);Se.prototype.eventListeners={};Se.prototype.on.call(Se.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x4);Se.prototype.on.call(Se.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C4);Se.prototype.on.call(Se.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",k4);Se.prototype.on.call(Se.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",S4);Se.prototype.on.call(Se.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",E4);W.addGetterSetter(Se,"stroke",void 0,Xm());W.addGetterSetter(Se,"strokeWidth",2,Ie());W.addGetterSetter(Se,"fillAfterStrokeEnabled",!1);W.addGetterSetter(Se,"hitStrokeWidth","auto",id());W.addGetterSetter(Se,"strokeHitEnabled",!0,sr());W.addGetterSetter(Se,"perfectDrawEnabled",!0,sr());W.addGetterSetter(Se,"shadowForStrokeEnabled",!0,sr());W.addGetterSetter(Se,"lineJoin");W.addGetterSetter(Se,"lineCap");W.addGetterSetter(Se,"miterLimit");W.addGetterSetter(Se,"sceneFunc");W.addGetterSetter(Se,"hitFunc");W.addGetterSetter(Se,"dash");W.addGetterSetter(Se,"dashOffset",0,Ie());W.addGetterSetter(Se,"shadowColor",void 0,Gs());W.addGetterSetter(Se,"shadowBlur",0,Ie());W.addGetterSetter(Se,"shadowOpacity",1,Ie());W.addComponentsGetterSetter(Se,"shadowOffset",["x","y"]);W.addGetterSetter(Se,"shadowOffsetX",0,Ie());W.addGetterSetter(Se,"shadowOffsetY",0,Ie());W.addGetterSetter(Se,"fillPatternImage");W.addGetterSetter(Se,"fill",void 0,Xm());W.addGetterSetter(Se,"fillPatternX",0,Ie());W.addGetterSetter(Se,"fillPatternY",0,Ie());W.addGetterSetter(Se,"fillLinearGradientColorStops");W.addGetterSetter(Se,"strokeLinearGradientColorStops");W.addGetterSetter(Se,"fillRadialGradientStartRadius",0);W.addGetterSetter(Se,"fillRadialGradientEndRadius",0);W.addGetterSetter(Se,"fillRadialGradientColorStops");W.addGetterSetter(Se,"fillPatternRepeat","repeat");W.addGetterSetter(Se,"fillEnabled",!0);W.addGetterSetter(Se,"strokeEnabled",!0);W.addGetterSetter(Se,"shadowEnabled",!0);W.addGetterSetter(Se,"dashEnabled",!0);W.addGetterSetter(Se,"strokeScaleEnabled",!0);W.addGetterSetter(Se,"fillPriority","color");W.addComponentsGetterSetter(Se,"fillPatternOffset",["x","y"]);W.addGetterSetter(Se,"fillPatternOffsetX",0,Ie());W.addGetterSetter(Se,"fillPatternOffsetY",0,Ie());W.addComponentsGetterSetter(Se,"fillPatternScale",["x","y"]);W.addGetterSetter(Se,"fillPatternScaleX",1,Ie());W.addGetterSetter(Se,"fillPatternScaleY",1,Ie());W.addComponentsGetterSetter(Se,"fillLinearGradientStartPoint",["x","y"]);W.addComponentsGetterSetter(Se,"strokeLinearGradientStartPoint",["x","y"]);W.addGetterSetter(Se,"fillLinearGradientStartPointX",0);W.addGetterSetter(Se,"strokeLinearGradientStartPointX",0);W.addGetterSetter(Se,"fillLinearGradientStartPointY",0);W.addGetterSetter(Se,"strokeLinearGradientStartPointY",0);W.addComponentsGetterSetter(Se,"fillLinearGradientEndPoint",["x","y"]);W.addComponentsGetterSetter(Se,"strokeLinearGradientEndPoint",["x","y"]);W.addGetterSetter(Se,"fillLinearGradientEndPointX",0);W.addGetterSetter(Se,"strokeLinearGradientEndPointX",0);W.addGetterSetter(Se,"fillLinearGradientEndPointY",0);W.addGetterSetter(Se,"strokeLinearGradientEndPointY",0);W.addComponentsGetterSetter(Se,"fillRadialGradientStartPoint",["x","y"]);W.addGetterSetter(Se,"fillRadialGradientStartPointX",0);W.addGetterSetter(Se,"fillRadialGradientStartPointY",0);W.addComponentsGetterSetter(Se,"fillRadialGradientEndPoint",["x","y"]);W.addGetterSetter(Se,"fillRadialGradientEndPointX",0);W.addGetterSetter(Se,"fillRadialGradientEndPointY",0);W.addGetterSetter(Se,"fillPatternRotation",0);W.addGetterSetter(Se,"fillRule",void 0,Gs());W.backCompat(Se,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const T4="beforeDraw",A4="draw",g0=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],P4=g0.length;class qs extends Mn{constructor(e){super(e),this.canvas=new rs,this.hitCanvas=new sd({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Re.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Re.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Re.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Re.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Re.prototype.remove.call(this),e&&e.parentNode&&re._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&re.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Re.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){re.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){re.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,re.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let s=0;s<P4;s++){const i=g0[s],o=this._getIntersection({x:e.x+i.x*n,y:e.y+i.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,s=r[3];if(s===255){const i=re.getHitColorKey(r[0],r[1],r[2]),o=wo[i];return o?{shape:o}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(e,n,r){const s=this.getLayer(),i=e||s&&s.getCanvas();return this._fire(T4,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Mn.prototype.drawScene.call(this,i,n,r),this._fire(A4,{node:this}),this}drawHit(e,n){const r=this.getLayer(),s=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Mn.prototype.drawHit.call(this,s,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){re.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return re.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return re.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}qs.prototype.nodeType="Layer";$t(qs);W.addGetterSetter(qs,"imageSmoothingEnabled",!0);W.addGetterSetter(qs,"clearBeforeDraw",!0);W.addGetterSetter(qs,"hitGraphEnabled",!0,sr());class ad extends qs{constructor(e){super(e),this.listening(!1),re.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}ad.prototype.nodeType="FastLayer";$t(ad);class Oi extends Mn{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&re.throw("You may only add groups and shapes to groups.")}}Oi.prototype.nodeType="Group";$t(Oi);const bu=(function(){return Ls.performance&&Ls.performance.now?function(){return Ls.performance.now()}:function(){return new Date().getTime()}})();class qn{constructor(e,n){this.id=qn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:bu(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let s=0;s<r;s++)if(n[s]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=qn.animations,r=n.length;for(let s=0;s<r;s++)if(n[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=bu(),qn._addAnimation(this),this}stop(){return qn._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,s=r.length;for(let i=0;i<s;i++)if(r[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const s=n[r],i=s.layers,o=s.func;s._updateFrameObject(bu());const a=i.length;let l;if(o?l=o.call(s,s.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){const u=i[c];u._id!==void 0&&(e[u._id]=u)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=qn;e.animations.length?(e._runFrames(),re.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,re.requestAnimFrame(this._animationLoop))}}qn.animations=[];qn.animIdCounter=0;qn.animRunning=!1;const O4={node:1,duration:1,easing:1,onFinish:1,yoyo:1},I4=1,Ch=2,kh=3,Sh=["fill","stroke","shadowColor"];let L4=0;class M4{constructor(e,n,r,s,i,o,a){this.prop=e,this.propFunc=n,this.begin=s,this._pos=s,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=Ch,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=kh,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===Ch?this.setTime(e):this.state===kh&&this.setTime(this.duration-e)}pause(){this.state=I4,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Tt{constructor(e){const n=this,r=e.node,s=r._id,i=e.easing||xo.Linear,o=!!e.yoyo;let a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=L4++;const c=r.getLayer()||(r instanceof Ne.Stage?r.getLayers():null);c||re.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new qn(function(){n.tween.onEnterFrame()},c),this.tween=new M4(l,function(u){n._tweenFunc(u)},i,0,1,a*1e3,o),this._addListeners(),Tt.attrs[s]||(Tt.attrs[s]={}),Tt.attrs[s][this._id]||(Tt.attrs[s][this._id]={}),Tt.tweens[s]||(Tt.tweens[s]={});for(l in e)O4[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,s=r._id;let i,o,a,l,c;const u=Tt.tweens[s][e];u&&delete Tt.attrs[s][u][e];let d=r.getAttr(e);if(re._isArray(n))if(i=[],o=Math.max(n.length,d.length),e==="points"&&n.length!==d.length&&(n.length>d.length?(l=d,d=re._prepareArrayForTween(d,n,r.closed())):(a=n,n=re._prepareArrayForTween(n,d,r.closed()))),e.indexOf("fill")===0)for(let f=0;f<o;f++)if(f%2===0)i.push(n[f]-d[f]);else{const h=re.colorToRGBA(d[f]);c=re.colorToRGBA(n[f]),d[f]=h,i.push({r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a})}else for(let f=0;f<o;f++)i.push(n[f]-d[f]);else Sh.indexOf(e)!==-1?(d=re.colorToRGBA(d),c=re.colorToRGBA(n),i={r:c.r-d.r,g:c.g-d.g,b:c.b-d.b,a:c.a-d.a}):i=n-d;Tt.attrs[s][this._id][e]={start:d,diff:i,end:n,trueEnd:a,trueStart:l},Tt.tweens[s][e]=this._id}_tweenFunc(e){const n=this.node,r=Tt.attrs[n._id][this._id];let s,i,o,a,l,c,u,d;for(s in r){if(i=r[s],o=i.start,a=i.diff,d=i.end,re._isArray(o))if(l=[],u=Math.max(o.length,d.length),s.indexOf("fill")===0)for(c=0;c<u;c++)c%2===0?l.push((o[c]||0)+a[c]*e):l.push("rgba("+Math.round(o[c].r+a[c].r*e)+","+Math.round(o[c].g+a[c].g*e)+","+Math.round(o[c].b+a[c].b*e)+","+(o[c].a+a[c].a*e)+")");else for(c=0;c<u;c++)l.push((o[c]||0)+a[c]*e);else Sh.indexOf(s)!==-1?l="rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":l=o+a*e;n.setAttr(s,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=Tt.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=Tt.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=Tt.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const s in r)delete Tt.tweens[e][s];delete Tt.attrs[e][n],Tt.tweens[e]&&(Object.keys(Tt.tweens[e]).length===0&&delete Tt.tweens[e],Object.keys(Tt.attrs[e]).length===0&&delete Tt.attrs[e])}}Tt.attrs={};Tt.tweens={};Re.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new Tt(t).play()};const xo={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let s=1.70158;return(t/=r/2)<1?n/2*(t*t*(((s*=1.525)+1)*t-s))+e:n/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},ElasticEaseIn(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i))+e)},ElasticEaseOut(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut(t,e,n,r,s,i){let o=0;return t===0?e:(t/=r/2)===2?e+n:(i||(i=r*(.3*1.5)),!s||s<Math.abs(n)?(s=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-xo.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?xo.BounceEaseIn(t*2,0,n,r)*.5+e:xo.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},Eh=re._assign(Ne,{Util:re,Transform:On,Node:Re,Container:Mn,Stage:Dl,stages:_o,Layer:qs,FastLayer:ad,Group:Oi,DD:gt,Shape:Se,shapes:wo,Animation:qn,Tween:Tt,Easings:xo,Context:Ml,Canvas:rd});class Gr extends Se{_sceneFunc(e){const n=Ne.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),s=Ne.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(s,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),l=Math.sin(Math.min(s,Math.PI/2)),c=i*(i>0?e:n),u=o*n,d=a*(a>0?e:n),f=l*(l>0?n:e);return{x:c,y:r?-1*f:d,width:u-c,height:f-d}}}Gr.prototype._centroid=!0;Gr.prototype.className="Arc";Gr.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];$t(Gr);W.addGetterSetter(Gr,"innerRadius",0,Ie());W.addGetterSetter(Gr,"outerRadius",0,Ie());W.addGetterSetter(Gr,"angle",0,Ie());W.addGetterSetter(Gr,"clockwise",!1,sr());function dc(t,e,n,r,s,i,o){const a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(s-n,2)+Math.pow(i-r,2)),c=o*a/(a+l),u=o*l/(a+l),d=n-c*(s-t),f=r-c*(i-e),h=n+u*(s-t),p=r+u*(i-e);return[d,f,h,p]}function Th(t,e){const n=t.length,r=[];for(let s=2;s<n-2;s+=2){const i=dc(t[s-2],t[s-1],t[s],t[s+1],t[s+2],t[s+3],e);isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(t[s]),r.push(t[s+1]),r.push(i[2]),r.push(i[3]))}return r}function R4(t){const e=[[t[0],t[2],t[4],t[6]],[t[1],t[3],t[5],t[7]]],n=[];for(const r of e){const s=-3*r[0]+9*r[1]-9*r[2]+3*r[3];if(s!==0){const i=6*r[0]-12*r[1]+6*r[2],o=-3*r[0]+3*r[1],a=i*i-4*s*o;if(a>=0){const l=Math.sqrt(a);n.push((-i+l)/(2*s)),n.push((-i-l)/(2*s))}}}return n.filter(r=>r>0&&r<1).flatMap(r=>e.map(s=>{const i=1-r;return i*i*i*s[0]+3*i*i*r*s[1]+3*i*r*r*s[2]+r*r*r*s[3]}))}class qr extends Se{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,s=this.tension(),i=this.closed(),o=this.bezier();if(!r)return;let a=0;if(e.beginPath(),e.moveTo(n[0],n[1]),s!==0&&r>4){const l=this.getTensionPoints(),c=l.length;for(a=i?0:4,i||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<c-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);i||e.quadraticCurveTo(l[c-2],l[c-1],n[r-2],n[r-1])}else if(o)for(a=2;a<r;)e.bezierCurveTo(n[a++],n[a++],n[a++],n[a++],n[a++],n[a++]);else for(a=2;a<r;a+=2)e.lineTo(n[a],n[a+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Th(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),s=dc(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),i=dc(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=Th(e,r);return[s[2],s[3]].concat(o).concat([i[0],i[1],e[n-2],e[n-1],i[2],i[3],s[0],s[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.bezier()?e=[e[0],e[1],...R4(this.points()),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],s=e[1],i=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],n=Math.min(n,o),r=Math.max(r,o),s=Math.min(s,a),i=Math.max(i,a);return{x:n,y:s,width:r-n,height:i-s}}}qr.prototype.className="Line";qr.prototype._attrsAffectingSize=["points","bezier","tension"];$t(qr);W.addGetterSetter(qr,"closed",!1);W.addGetterSetter(qr,"bezier",!1);W.addGetterSetter(qr,"tension",0,Ie());W.addGetterSetter(qr,"points",[],Xw());const D4=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],N4=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],$4=[[1],[1,1],[1,2,1],[1,3,3,1]],Ah=(t,e,n)=>{let r,s;const o=n/2;r=0;for(let a=0;a<20;a++)s=o*D4[20][a]+o,r+=N4[20][a]*F4(t,e,s);return o*r},Ph=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],s=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],o=2*e[1]-2*e[0],a=4*(r*r+s*s),l=4*(r*i+s*o),c=i*i+o*o;if(a===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),d=c/a,f=n+u,h=d-u*u,p=f*f+h>0?Math.sqrt(f*f+h):0,m=u*u+h>0?Math.sqrt(u*u+h):0,w=u+Math.sqrt(u*u+h)!==0?h*Math.log(Math.abs((f+p)/(u+m))):0;return Math.sqrt(a)/2*(f*p-u*m+w)};function F4(t,e,n){const r=fc(1,n,t),s=fc(1,n,e),i=r*r+s*s;return Math.sqrt(i)}const fc=(t,e,n)=>{const r=n.length-1;let s,i;if(r===0)return 0;if(t===0){i=0;for(let o=0;o<=r;o++)i+=$4[r][o]*Math.pow(1-e,r-o)*Math.pow(e,o)*n[o];return i}else{s=new Array(r);for(let o=0;o<r;o++)s[o]=r*(n[o+1]-n[o]);return fc(t-1,e,s)}},Oh=(t,e,n)=>{let r=1,s=t/e,i=(t-n(s))/e,o=0;for(;r>.001;){const a=n(s+i),l=Math.abs(t-a)/e;if(l<r)r=l,s+=i;else{const c=n(s-i),u=Math.abs(t-c)/e;u<r?(r=u,s-=i):i/=2}if(o++,o>500)break}return s};class Pt extends Se{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Pt.parsePathData(this.data()),this.pathLength=Pt.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let s=0;s<n.length;s++){const i=n[s].command,o=n[s].points;switch(i){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const a=o[0],l=o[1],c=o[2],u=o[3],d=o[4],f=o[5],h=o[6],p=o[7],m=c>u?c:u,w=c>u?1:c/u,y=c>u?u/c:1;e.translate(a,l),e.rotate(h),e.scale(w,y),e.arc(0,0,m,d,d+f,1-p),e.scale(1/w,1/y),e.rotate(-h),e.translate(-a,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],u=l.points[5],d=l.points[4]+u;let f=Math.PI/180;if(Math.abs(c-d)<f&&(f=Math.abs(c-d)),u<0)for(let h=c-f;h>d;h-=f){const p=Pt.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],h,0);e.push(p.x,p.y)}else for(let h=c+f;h<d;h+=f){const p=Pt.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],h,0);e.push(p.x,p.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const u=Pt.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(u.x,u.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],s=e[1],i=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(s=Math.min(s,a),i=Math.max(i,a));return{x:n,y:s,width:r-n,height:i-s}}getLength(){return this.pathLength}getPointAtLength(e){return Pt.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,s){return Math.sqrt((r-e)*(r-e)+(s-n)*(s-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,s=0,i=n.length;if(!i)return null;for(;s<i&&e>n[s].pathLength;)e-=n[s].pathLength,++s;if(s===i)return r=n[s-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[s].command==="M"?(r=n[s].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[s].start.x,y:n[s].start.y};const o=n[s],a=o.points;switch(o.command){case"L":return Pt.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return Pt.getPointOnCubicBezier(Oh(e,Pt.getPathLength(n),m=>Ah([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Pt.getPointOnQuadraticBezier(Oh(e,Pt.getPathLength(n),m=>Ph([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],m)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":const l=a[0],c=a[1],u=a[2],d=a[3],f=a[5],h=a[6];let p=a[4];return p+=f*e/o.pathLength,Pt.getPointOnEllipticalArc(l,c,u,d,p,h)}return null}static getPointOnLine(e,n,r,s,i,o,a){o=o??n,a=a??r;const l=this.getLineLength(n,r,s,i);if(l<1e-10)return{x:n,y:r};if(s===n)return{x:o,y:a+(i>r?e:-e)};const c=(i-r)/(s-n),u=Math.sqrt(e*e/(1+c*c))*(s<n?-1:1),d=c*u;if(Math.abs(a-r-c*(o-n))<1e-10)return{x:o+u,y:a+d};const f=((o-n)*(s-n)+(a-r)*(i-r))/(l*l),h=n+f*(s-n),p=r+f*(i-r),m=this.getLineLength(o,a,h,p),w=Math.sqrt(e*e-m*m),y=Math.sqrt(w*w/(1+c*c))*(s<n?-1:1),b=c*y;return{x:h+y,y:p+b}}static getPointOnCubicBezier(e,n,r,s,i,o,a,l,c){function u(w){return w*w*w}function d(w){return 3*w*w*(1-w)}function f(w){return 3*w*(1-w)*(1-w)}function h(w){return(1-w)*(1-w)*(1-w)}const p=l*u(e)+o*d(e)+s*f(e)+n*h(e),m=c*u(e)+a*d(e)+i*f(e)+r*h(e);return{x:p,y:m}}static getPointOnQuadraticBezier(e,n,r,s,i,o,a){function l(h){return h*h}function c(h){return 2*h*(1-h)}function u(h){return(1-h)*(1-h)}const d=o*l(e)+s*c(e)+n*u(e),f=a*l(e)+i*c(e)+r*u(e);return{x:d,y:f}}static getPointOnEllipticalArc(e,n,r,s,i,o){const a=Math.cos(o),l=Math.sin(o),c={x:r*Math.cos(i),y:s*Math.sin(i)};return{x:e+(c.x*a-c.y*l),y:n+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let d=0;d<r.length;d++)n=n.replace(new RegExp(r[d],"g"),"|"+r[d]);const s=n.split("|"),i=[],o=[];let a=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(let d=1;d<s.length;d++){let f=s[d],h=f.charAt(0);for(f=f.slice(1),o.length=0;u=c.exec(f);)o.push(u[0]);let p=[],m=h==="A"||h==="a"?0:-1;for(let w=0,y=o.length;w<y;w++){const b=o[w];if(b==="00"){p.push(0,0),m>=0&&(m+=2,m>=7&&(m-=7));continue}if(m>=0){if(m===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(b)){p.push(parseInt(b[0],10)),p.push(parseInt(b[1],10)),p.push(parseFloat(b.slice(2))),m+=3,m>=7&&(m-=7);continue}if(b==="11"||b==="10"||b==="01"){p.push(parseInt(b[0],10)),p.push(parseInt(b[1],10)),m+=2,m>=7&&(m-=7);continue}if(b==="0"||b==="1"){p.push(parseInt(b,10)),m+=1,m>=7&&(m-=7);continue}}else if(m===4){if(/^[01]\d+(?:\.\d+)?$/.test(b)){p.push(parseInt(b[0],10)),p.push(parseFloat(b.slice(1))),m+=2,m>=7&&(m-=7);continue}if(b==="0"||b==="1"){p.push(parseInt(b,10)),m+=1,m>=7&&(m-=7);continue}}const v=parseFloat(b);isNaN(v)?p.push(0):p.push(v),m+=1,m>=7&&(m-=7)}else{const v=parseFloat(b);isNaN(v)?p.push(0):p.push(v)}}for(;p.length>0&&!isNaN(p[0]);){let w="",y=[];const b=a,v=l;let x,C,O,q,A,E,P,j,T,B;switch(h){case"l":a+=p.shift(),l+=p.shift(),w="L",y.push(a,l);break;case"L":a=p.shift(),l=p.shift(),y.push(a,l);break;case"m":const Y=p.shift(),L=p.shift();if(a+=Y,l+=L,w="M",i.length>2&&i[i.length-1].command==="z"){for(let $=i.length-2;$>=0;$--)if(i[$].command==="M"){a=i[$].points[0]+Y,l=i[$].points[1]+L;break}}y.push(a,l),h="l";break;case"M":a=p.shift(),l=p.shift(),w="M",y.push(a,l),h="L";break;case"h":a+=p.shift(),w="L",y.push(a,l);break;case"H":a=p.shift(),w="L",y.push(a,l);break;case"v":l+=p.shift(),w="L",y.push(a,l);break;case"V":l=p.shift(),w="L",y.push(a,l);break;case"C":y.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),l=p.shift(),y.push(a,l);break;case"c":y.push(a+p.shift(),l+p.shift(),a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),w="C",y.push(a,l);break;case"S":C=a,O=l,x=i[i.length-1],x.command==="C"&&(C=a+(a-x.points[2]),O=l+(l-x.points[3])),y.push(C,O,p.shift(),p.shift()),a=p.shift(),l=p.shift(),w="C",y.push(a,l);break;case"s":C=a,O=l,x=i[i.length-1],x.command==="C"&&(C=a+(a-x.points[2]),O=l+(l-x.points[3])),y.push(C,O,a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),w="C",y.push(a,l);break;case"Q":y.push(p.shift(),p.shift()),a=p.shift(),l=p.shift(),y.push(a,l);break;case"q":y.push(a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),w="Q",y.push(a,l);break;case"T":C=a,O=l,x=i[i.length-1],x.command==="Q"&&(C=a+(a-x.points[0]),O=l+(l-x.points[1])),a=p.shift(),l=p.shift(),w="Q",y.push(C,O,a,l);break;case"t":C=a,O=l,x=i[i.length-1],x.command==="Q"&&(C=a+(a-x.points[0]),O=l+(l-x.points[1])),a+=p.shift(),l+=p.shift(),w="Q",y.push(C,O,a,l);break;case"A":q=p.shift(),A=p.shift(),E=p.shift(),P=p.shift(),j=p.shift(),T=a,B=l,a=p.shift(),l=p.shift(),w="A",y=this.convertEndpointToCenterParameterization(T,B,a,l,P,j,q,A,E);break;case"a":q=p.shift(),A=p.shift(),E=p.shift(),P=p.shift(),j=p.shift(),T=a,B=l,a+=p.shift(),l+=p.shift(),w="A",y=this.convertEndpointToCenterParameterization(T,B,a,l,P,j,q,A,E);break}i.push({command:w||h,points:y,start:{x:b,y:v},pathLength:this.calcLength(b,v,w||h,y)})}(h==="z"||h==="Z")&&i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,n,r,s){let i,o,a,l;const c=Pt;switch(r){case"L":return c.getLineLength(e,n,s[0],s[1]);case"C":return Ah([e,s[0],s[2],s[4]],[n,s[1],s[3],s[5]],1);case"Q":return Ph([e,s[0],s[2]],[n,s[1],s[3]],1);case"A":i=0;const u=s[4],d=s[5],f=s[4]+d;let h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),o=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],u,0),d<0)for(l=u-h;l>f;l-=h)a=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],l,0),i+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=u+h;l<f;l+=h)a=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],l,0),i+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],f,0),i+=c.getLineLength(o.x,o.y,a.x,a.y),i}return 0}static convertEndpointToCenterParameterization(e,n,r,s,i,o,a,l,c){const u=c*(Math.PI/180),d=Math.cos(u)*(e-r)/2+Math.sin(u)*(n-s)/2,f=-1*Math.sin(u)*(e-r)/2+Math.cos(u)*(n-s)/2,h=d*d/(a*a)+f*f/(l*l);h>1&&(a*=Math.sqrt(h),l*=Math.sqrt(h));let p=Math.sqrt((a*a*(l*l)-a*a*(f*f)-l*l*(d*d))/(a*a*(f*f)+l*l*(d*d)));i===o&&(p*=-1),isNaN(p)&&(p=0);const m=p*a*f/l,w=p*-l*d/a,y=(e+r)/2+Math.cos(u)*m-Math.sin(u)*w,b=(n+s)/2+Math.sin(u)*m+Math.cos(u)*w,v=function(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])},x=function(P,j){return(P[0]*j[0]+P[1]*j[1])/(v(P)*v(j))},C=function(P,j){return(P[0]*j[1]<P[1]*j[0]?-1:1)*Math.acos(x(P,j))},O=C([1,0],[(d-m)/a,(f-w)/l]),q=[(d-m)/a,(f-w)/l],A=[(-1*d-m)/a,(-1*f-w)/l];let E=C(q,A);return x(q,A)<=-1&&(E=Math.PI),x(q,A)>=1&&(E=0),o===0&&E>0&&(E=E-2*Math.PI),o===1&&E<0&&(E=E+2*Math.PI),[y,b,a,l,O,E,u,o]}}Pt.prototype.className="Path";Pt.prototype._attrsAffectingSize=["data"];$t(Pt);W.addGetterSetter(Pt,"data");class js extends qr{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let s=r;const i=this.tension()!==0&&r.length>4;i&&(s=this.getTensionPoints());const o=this.pointerLength(),a=r.length;let l,c;if(i){const f=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],r[a-2],r[a-1]],h=Pt.calcLength(s[s.length-4],s[s.length-3],"C",f),p=Pt.getPointOnQuadraticBezier(Math.min(1,1-o/h),f[0],f[1],f[2],f[3],f[4],f[5]);l=r[a-2]-p.x,c=r[a-1]-p.y}else l=r[a-2]-r[a-4],c=r[a-1]-r[a-3];const u=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),i?(l=(s[0]+s[2])/2-r[0],c=(s[1]+s[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}js.prototype.className="Arrow";$t(js);W.addGetterSetter(js,"pointerLength",10,Ie());W.addGetterSetter(js,"pointerWidth",10,Ie());W.addGetterSetter(js,"pointerAtBeginning",!1);W.addGetterSetter(js,"pointerAtEnding",!0);let Di=class extends Se{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Di.prototype._centroid=!0;Di.prototype.className="Circle";Di.prototype._attrsAffectingSize=["radius"];$t(Di);W.addGetterSetter(Di,"radius",0,Ie());class ms extends Se{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}ms.prototype.className="Ellipse";ms.prototype._centroid=!0;ms.prototype._attrsAffectingSize=["radiusX","radiusY"];$t(ms);W.addComponentsGetterSetter(ms,"radius",["x","y"]);W.addGetterSetter(ms,"radiusX",0,Ie());W.addGetterSetter(ms,"radiusY",0,Ie());let ir=class m0 extends Se{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),s=this.cornerRadius(),i=this.attrs.image;let o;if(i){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[i,this.cropX(),this.cropY(),a,l,0,0,n,r]:o=[i,0,0,n,r]}(this.hasFill()||this.hasStroke()||s)&&(e.beginPath(),s?re.drawRoundedRectPath(e,n,r,s):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&(s&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),s=this.cornerRadius();e.beginPath(),s?re.drawRoundedRectPath(e,n,r,s):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const s=re.createImageElement();s.onload=function(){const i=new m0({image:s});n(i)},s.onerror=r,s.crossOrigin="Anonymous",s.src=e}};ir.prototype.className="Image";ir.prototype._attrsAffectingSize=["image"];$t(ir);W.addGetterSetter(ir,"cornerRadius",0,Rl(4));W.addGetterSetter(ir,"image");W.addComponentsGetterSetter(ir,"crop",["x","y","width","height"]);W.addGetterSetter(ir,"cropX",0,Ie());W.addGetterSetter(ir,"cropY",0,Ie());W.addGetterSetter(ir,"cropWidth",0,Ie());W.addGetterSetter(ir,"cropHeight",0,Ie());const v0=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],B4="Change.konva",U4="none",hc="up",pc="right",gc="down",mc="left",G4=v0.length;class ld extends Oi{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const s=function(){n._sync()};for(r=0;r<G4;r++)e.on(v0[r]+B4,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,s,i,o,a,l,c;if(e&&n){switch(r=e.width(),s=e.height(),i=n.pointerDirection(),o=n.pointerWidth(),c=n.pointerHeight(),a=0,l=0,i){case hc:a=r/2,l=-1*c;break;case pc:a=r+o,l=s/2;break;case gc:a=r/2,l=s+c;break;case mc:a=-1*o,l=s/2;break}n.setAttrs({x:-1*a,y:-1*l,width:r,height:s}),e.setAttrs({x:-1*a,y:-1*l})}}}ld.prototype.className="Label";$t(ld);class Ws extends Se{_sceneFunc(e){const n=this.width(),r=this.height(),s=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,u=0,d=0;typeof a=="number"?l=c=u=d=Math.min(a,n/2,r/2):(l=Math.min(a[0]||0,n/2,r/2),c=Math.min(a[1]||0,n/2,r/2),d=Math.min(a[2]||0,n/2,r/2),u=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),s===hc&&(e.lineTo((n-i)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+i)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),s===pc&&(e.lineTo(n,(r-o)/2),e.lineTo(n+i,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-d),e.arc(n-d,r-d,d,0,Math.PI/2,!1),s===gc&&(e.lineTo((n+i)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-i)/2,r)),e.lineTo(u,r),e.arc(u,r-u,u,Math.PI/2,Math.PI,!1),s===mc&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*i,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),s=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===hc?(n-=s,a+=s):i===gc?a+=s:i===mc?(e-=r*1.5,o+=r):i===pc&&(o+=r*1.5),{x:e,y:n,width:o,height:a}}}Ws.prototype.className="Tag";$t(Ws);W.addGetterSetter(Ws,"pointerDirection",U4);W.addGetterSetter(Ws,"pointerWidth",0,Ie());W.addGetterSetter(Ws,"pointerHeight",0,Ie());W.addGetterSetter(Ws,"cornerRadius",0,Rl(4));class zo extends Se{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),s=this.height();e.beginPath(),n?re.drawRoundedRectPath(e,r,s,n):e.rect(0,0,r,s),e.closePath(),e.fillStrokeShape(this)}}zo.prototype.className="Rect";$t(zo);W.addGetterSetter(zo,"cornerRadius",0,Rl(4));class vs extends Se{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),s=this.sides(),i=this.cornerRadius();if(e.beginPath(),i)re.drawRoundedPolygonPath(e,n,s,r,i);else{e.moveTo(n[0].x,n[0].y);for(let o=1;o<n.length;o++)e.lineTo(n[o].x,n[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let s=0;s<e;s++)r.push({x:n*Math.sin(s*2*Math.PI/e),y:-1*n*Math.cos(s*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,s=e[0].y,i=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),s=Math.min(s,o.y),i=Math.max(i,o.y)}),{x:n,y:s,width:r-n,height:i-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}vs.prototype.className="RegularPolygon";vs.prototype._centroid=!0;vs.prototype._attrsAffectingSize=["radius"];$t(vs);W.addGetterSetter(vs,"radius",0,Ie());W.addGetterSetter(vs,"sides",0,Ie());W.addGetterSetter(vs,"cornerRadius",0,Rl(4));const Ih=Math.PI*2;class Hs extends Se{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Ih,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Ih,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Hs.prototype.className="Ring";Hs.prototype._centroid=!0;Hs.prototype._attrsAffectingSize=["innerRadius","outerRadius"];$t(Hs);W.addGetterSetter(Hs,"innerRadius",0,Ie());W.addGetterSetter(Hs,"outerRadius",0,Ie());class br extends Se{constructor(e){super(e),this._updated=!0,this.anim=new qn(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),s=r*4,i=this.animations()[n],o=this.frameOffsets(),a=i[s+0],l=i[s+1],c=i[s+2],u=i[s+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,u),e.closePath(),e.fillStrokeShape(this)),d)if(o){const f=o[n],h=r*2;e.drawImage(d,a,l,c,u,f[h+0],f[h+1],c,u)}else e.drawImage(d,a,l,c,u,0,0,c,u)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),s=r*4,i=this.animations()[n],o=this.frameOffsets(),a=i[s+2],l=i[s+3];if(e.beginPath(),o){const c=o[n],u=r*2;e.rect(c[u+0],c[u+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),s=r[n],i=s.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}}br.prototype.className="Sprite";$t(br);W.addGetterSetter(br,"animation");W.addGetterSetter(br,"animations");W.addGetterSetter(br,"frameOffsets");W.addGetterSetter(br,"image");W.addGetterSetter(br,"frameIndex",0,Ie());W.addGetterSetter(br,"frameRate",17,Ie());W.backCompat(br,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});let ys=class extends Se{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),s=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let i=1;i<s*2;i++){const o=i%2===0?r:n,a=o*Math.sin(i*Math.PI/s),l=-1*o*Math.cos(i*Math.PI/s);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};ys.prototype.className="Star";ys.prototype._centroid=!0;ys.prototype._attrsAffectingSize=["innerRadius","outerRadius"];$t(ys);W.addGetterSetter(ys,"numPoints",5,Ie());W.addGetterSetter(ys,"innerRadius",0,Ie());W.addGetterSetter(ys,"outerRadius",0,Ie());function Qr(t){return[...t].reduce((e,n,r,s)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const i=s[r+1];i&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(i)?(e.push(n+i),s[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(s[r+1]||""))?e.push(n+s[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const ti="auto",q4="center",y0="inherit",Ji="justify",j4="Change.konva",W4="2d",Lh="-",b0="left",H4="text",z4="Text",V4="top",Y4="bottom",Mh="middle",_0="normal",K4="px ",ha=" ",X4="right",Rh="rtl",J4="word",Q4="char",Dh="none",_u="",w0=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Z4=w0.length;function e5(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let pa;function wu(){return pa||(pa=re.createCanvasElement().getContext(W4),pa)}function t5(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function n5(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function r5(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Lt extends Se{constructor(e){super(r5(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<Z4;n++)this.on(w0[n]+j4,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const s=this.textArr,i=s.length;if(!this.text())return;let o=this.padding(),a=this.fontSize(),l=this.lineHeight()*a,c=this.verticalAlign(),u=this.direction(),d=0,f=this.align(),h=this.getWidth(),p=this.letterSpacing(),m=this.charRenderFunc(),w=this.fill(),y=this.textDecoration(),b=this.underlineOffset(),v=y.indexOf("underline")!==-1,x=y.indexOf("line-through")!==-1,C;u=u===y0?e.direction:u;let O=l/2,q=Mh;if(!Ne.legacyTextRendering){const A=this.measureSize("M");q="alphabetic";const E=(n=A.fontBoundingBoxAscent)!==null&&n!==void 0?n:A.actualBoundingBoxAscent,P=(r=A.fontBoundingBoxDescent)!==null&&r!==void 0?r:A.actualBoundingBoxDescent;O=(E-P)/2+l/2}for(u===Rh&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",q),e.setAttr("textAlign",b0),c===Mh?d=(this.getHeight()-i*l-o*2)/2:c===Y4&&(d=this.getHeight()-i*l-o*2),e.translate(o,d+o),C=0;C<i;C++){let A=0,E=0;const P=s[C],j=P.text,T=P.width,B=P.lastInParagraph;if(e.save(),f===X4?A+=h-T-o*2:f===q4&&(A+=(h-T-o*2)/2),v){e.save(),e.beginPath();const L=b??(Ne.legacyTextRendering?Math.round(a/2):Math.round(a/4)),$=A,k=O+E+L;e.moveTo($,k);const S=f===Ji&&!B?h-o*2:T;e.lineTo($+Math.round(S),k),e.lineWidth=a/15;const V=this._getLinearGradient();e.strokeStyle=V||w,e.stroke(),e.restore()}const Y=A;if(u!==Rh&&(p!==0||f===Ji||m)){const L=j.split(" ").length-1,$=Qr(j);for(let k=0;k<$.length;k++){const S=$[k];if(S===" "&&!B&&f===Ji&&(A+=(h-o*2-T)/L),this._partialTextX=A,this._partialTextY=O+E,this._partialText=S,m){e.save();const ie=s.slice(0,C).reduce((ve,fe)=>ve+Qr(fe.text).length,0),ae=k+ie;m({char:S,index:ae,x:A,y:O+E,lineIndex:C,column:k,isLastInLine:B,width:this.measureSize(S).width,context:e})}e.fillStrokeShape(this),m&&e.restore(),A+=this.measureSize(S).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=A,this._partialTextY=O+E,this._partialText=j,e.fillStrokeShape(this);if(x){e.save(),e.beginPath();const L=Ne.legacyTextRendering?0:-Math.round(a/4),$=Y;e.moveTo($,O+E+L);const k=f===Ji&&!B?h-o*2:T;e.lineTo($+Math.round(k),O+E+L),e.lineWidth=a/15;const S=this._getLinearGradient();e.strokeStyle=S||w,e.stroke(),e.restore()}e.restore(),i>1&&(O+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=re._isString(e)?e:e==null?"":e+"";return this._setAttr(H4,n),this}getWidth(){return this.attrs.width===ti||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===ti||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return re.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,s,i,o,a,l,c,u,d,f;let h=wu(),p=this.fontSize(),m;h.save(),h.font=this._getContextFont(),m=h.measureText(e),h.restore();const w=p/100;return{actualBoundingBoxAscent:(n=m.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*w,actualBoundingBoxDescent:(r=m.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(s=m.actualBoundingBoxLeft)!==null&&s!==void 0?s:-7.421875*w,actualBoundingBoxRight:(i=m.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*w,alphabeticBaseline:(o=m.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=m.emHeightAscent)!==null&&a!==void 0?a:100*w,emHeightDescent:(l=m.emHeightDescent)!==null&&l!==void 0?l:-20*w,fontBoundingBoxAscent:(c=m.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*w,fontBoundingBoxDescent:(u=m.fontBoundingBoxDescent)!==null&&u!==void 0?u:21*w,hangingBaseline:(d=m.hangingBaseline)!==null&&d!==void 0?d:72.80000305175781*w,ideographicBaseline:(f=m.ideographicBaseline)!==null&&f!==void 0?f:-21*w,width:m.width,height:p}}_getContextFont(){return this.fontStyle()+ha+this.fontVariant()+ha+(this.fontSize()+K4)+e5(this.fontFamily())}_addTextLine(e){this.align()===Ji&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return wu().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,s=this.lineHeight()*n,i=this.attrs.width,o=this.attrs.height,a=i!==ti&&i!==void 0,l=o!==ti&&o!==void 0,c=this.padding(),u=i-c*2,d=o-c*2,f=0,h=this.wrap(),p=h!==Dh,m=h!==Q4&&p,w=this.ellipsis();this.textArr=[],wu().font=this._getContextFont();const y=w?this._getTextWidth(_u):0;for(let b=0,v=e.length;b<v;++b){let x=e[b],C=this._getTextWidth(x);if(a&&C>u)for(;x.length>0;){let O=0,q=Qr(x).length,A="",E=0;for(;O<q;){const P=O+q>>>1,j=Qr(x),T=j.slice(0,P+1).join(""),B=this._getTextWidth(T);(w&&l&&f+s>d?B+y:B)<=u?(O=P+1,A=T,E=B):q=P}if(A){if(m){const T=Qr(x),B=Qr(A),Y=T[B.length],L=Y===ha||Y===Lh;let $;if(L&&E<=u)$=B.length;else{const k=B.lastIndexOf(ha),S=B.lastIndexOf(Lh);$=Math.max(k,S)+1}$>0&&(O=$,A=T.slice(0,O).join(""),E=this._getTextWidth(A))}if(A=A.trimRight(),this._addTextLine(A),r=Math.max(r,E),f+=s,this._shouldHandleEllipsis(f)){this._tryToAddEllipsisToLastLine();break}if(x=Qr(x).slice(O).join("").trimLeft(),x.length>0&&(C=this._getTextWidth(x),C<=u)){this._addTextLine(x),f+=s,r=Math.max(r,C);break}}else break}else this._addTextLine(x),f+=s,r=Math.max(r,C),this._shouldHandleEllipsis(f)&&b<v-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+s>d)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,s=this.attrs.height,i=s!==ti&&s!==void 0,o=this.padding(),a=s-o*2;return!(this.wrap()!==Dh)||i&&e+r>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==ti&&e!==void 0,r=this.padding(),s=e-r*2,i=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!i||(n&&(this._getTextWidth(o.text+_u)<s||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+_u))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}Lt.prototype._fillFunc=t5;Lt.prototype._strokeFunc=n5;Lt.prototype.className=z4;Lt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];$t(Lt);W.overWriteSetter(Lt,"width",id());W.overWriteSetter(Lt,"height",id());W.addGetterSetter(Lt,"direction",y0);W.addGetterSetter(Lt,"fontFamily","Arial");W.addGetterSetter(Lt,"fontSize",12,Ie());W.addGetterSetter(Lt,"fontStyle",_0);W.addGetterSetter(Lt,"fontVariant",_0);W.addGetterSetter(Lt,"padding",0,Ie());W.addGetterSetter(Lt,"align",b0);W.addGetterSetter(Lt,"verticalAlign",V4);W.addGetterSetter(Lt,"lineHeight",1,Ie());W.addGetterSetter(Lt,"wrap",J4);W.addGetterSetter(Lt,"ellipsis",!1,sr());W.addGetterSetter(Lt,"letterSpacing",0,Ie());W.addGetterSetter(Lt,"text","",Gs());W.addGetterSetter(Lt,"textDecoration","");W.addGetterSetter(Lt,"underlineOffset",void 0,Ie());W.addGetterSetter(Lt,"charRenderFunc",void 0);const s5="",x0="normal";function C0(t){t.fillText(this.partialText,0,0)}function k0(t){t.strokeText(this.partialText,0,0)}class Qt extends Se{constructor(e){super(e),this.dummyCanvas=re.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Pt.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:Pt.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Pt.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),s=this.fontSize(),i=this.glyphInfo,o=n.indexOf("underline")!==-1,a=n.indexOf("line-through")!==-1;o&&e.beginPath();for(let l=0;l<i.length;l++){e.save();const c=i[l].p0;e.translate(c.x,c.y),e.rotate(i[l].rotation),this.partialText=i[l].text,e.fillStrokeShape(this),o&&(l===0&&e.moveTo(0,s/2+1),e.lineTo(i[l].width,s/2+1)),e.restore()}if(o&&(e.strokeStyle=r,e.lineWidth=s/20,e.stroke()),a){e.beginPath();for(let l=0;l<i.length;l++){e.save();const c=i[l].p0;e.translate(c.x,c.y),e.rotate(i[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(i[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=s/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const s=n[r].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return re.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Lt.prototype.setText.call(this,e)}_getContextFont(){return Lt.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const s=r.measureText(e);return r.restore(),{width:s.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Qr(this.text()),n=[];let r=0;for(let d=0;d<e.length;d++)n.push({char:e[d],width:this._getTextSize(e[d]).width}),r+=n[d].width;const{height:s}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=s,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),o=this.align(),a=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let c=0;o==="center"&&(c=Math.max(0,this.pathLength/2-l/2)),o==="right"&&(c=Math.max(0,this.pathLength-l));let u=c;for(let d=0;d<n.length;d++){const f=this._getPointAtLength(u);if(!f)return;const h=n[d].char;let p=n[d].width+i;if(h===" "&&o==="justify"){const x=this.text().split(" ").length-1;p+=(this.pathLength-l)/x}const m=this._getPointAtLength(u+p);if(!m)return;const w=Pt.getLineLength(f.x,f.y,m.x,m.y);let y=0;if(a)try{y=a(n[d-1].char,h)*this.fontSize()}catch{y=0}f.x+=y,m.x+=y,this.textWidth+=y;const b=Pt.getPointOnLine(y+w/2,f.x,f.y,m.x,m.y),v=Math.atan2(m.y-f.y,m.x-f.x);this.glyphInfo.push({transposeX:b.x,transposeY:b.y,text:e[d],rotation:v,p0:f,p1:m,width:w}),u+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,r=e[0]||0,s=e[1]||0,i=e[1]||0,o,a;for(let c=0;c<e.length/2;c++)o=e[c*2],a=e[c*2+1],n=Math.min(n,o),r=Math.max(r,o),s=Math.min(s,a),i=Math.max(i,a);const l=this.fontSize();return{x:n-l/2,y:s-l/2,width:r-n+l,height:i-s+l}}destroy(){return re.releaseCanvas(this.dummyCanvas),super.destroy()}}Qt.prototype._fillFunc=C0;Qt.prototype._strokeFunc=k0;Qt.prototype._fillFuncHit=C0;Qt.prototype._strokeFuncHit=k0;Qt.prototype.className="TextPath";Qt.prototype._attrsAffectingSize=["text","fontSize","data"];$t(Qt);W.addGetterSetter(Qt,"data");W.addGetterSetter(Qt,"fontFamily","Arial");W.addGetterSetter(Qt,"fontSize",12,Ie());W.addGetterSetter(Qt,"fontStyle",x0);W.addGetterSetter(Qt,"align","left");W.addGetterSetter(Qt,"letterSpacing",0,Ie());W.addGetterSetter(Qt,"textBaseline","middle");W.addGetterSetter(Qt,"fontVariant",x0);W.addGetterSetter(Qt,"text",s5);W.addGetterSetter(Qt,"textDecoration","");W.addGetterSetter(Qt,"kerningFunc",void 0);const S0="tr-konva",i5=["resizeEnabledChange","rotateAnchorOffsetChange","rotateAnchorAngleChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${S0}`).join(" "),Nh="nodesRect",o5=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],a5={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},l5="ontouchstart"in Ne._global;function u5(t,e,n){if(t==="rotater")return n;e+=re.degToRad(a5[t]||0);const r=(re.radToDeg(e)%360+360)%360;return re._inRange(r,315+22.5,360)||re._inRange(r,0,22.5)?"ns-resize":re._inRange(r,45-22.5,45+22.5)?"nesw-resize":re._inRange(r,90-22.5,90+22.5)?"ew-resize":re._inRange(r,135-22.5,135+22.5)?"nwse-resize":re._inRange(r,180-22.5,180+22.5)?"ns-resize":re._inRange(r,225-22.5,225+22.5)?"nesw-resize":re._inRange(r,270-22.5,270+22.5)?"ew-resize":re._inRange(r,315-22.5,315+22.5)?"nwse-resize":(re.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Ka=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function c5(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function E0(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),s=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:s}}function d5(t,e){const n=c5(t);return E0(t,e,n)}function f5(t,e,n){let r=e;for(let s=0;s<t.length;s++){const i=Ne.getAngle(t[s]),o=Math.abs(i-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=i)}return r}let vc=0;class dt extends Oi{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(i5,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return re.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return S0+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(s=>s.isAncestorOf(this)?(re.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(s=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(s._attrsAffectingSize.length){const o=s._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");s.on(o,i)}s.on(o5.map(o=>o+`.${this._getEventNamespace()}`).join(" "),i),s.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(s)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const s=e.getAbsolutePosition(),i=s.x-n.x,o=s.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+i,y:l.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Nh),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Nh,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const s=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=s.x*i.x-e.offsetX()*i.x,l=s.y*i.y-e.offsetY()*i.y,c=(Ne.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:o.x+a*Math.cos(c)+l*Math.sin(-c),y:o.y+l*Math.cos(c)+a*Math.sin(c),width:s.width*i.x,height:s.height*i.y,rotation:c};return E0(u,-Ne.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const u=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],f=c.getAbsoluteTransform();d.forEach(function(h){const p=f.point(h);n.push(p)})});const r=new On;r.rotate(-Ne.getAngle(this.rotation()));let s=1/0,i=1/0,o=-1/0,a=-1/0;n.forEach(function(c){const u=r.point(c);s===void 0&&(s=o=u.x,i=a=u.y),s=Math.min(s,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}),r.invert();const l=r.point({x:s,y:i});return{x:l.x,y:l.y,width:o-s,height:a-i,rotation:Ne.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Ka.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new zo({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:l5?10:"auto"}),r=this;n.on("mousedown touchstart",function(s){r._handleMouseDown(s)}),n.on("dragstart",s=>{n.stopDrag(),s.cancelBubble=!0}),n.on("dragend",s=>{s.cancelBubble=!0}),n.on("mouseenter",()=>{const s=Ne.getAngle(this.rotation()),i=this.rotateAnchorCursor(),o=u5(e,s,i);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new Se({name:"back",width:0,height:0,sceneFunc(n,r){const s=r.getParent(),i=s.padding(),o=r.width(),a=r.height();if(n.beginPath(),n.rect(-i,-i,o+i*2,a+i*2),s.rotateEnabled()&&s.rotateLineVisible()){const l=s.rotateAnchorAngle(),c=s.rotateAnchorOffset(),u=re.degToRad(l),d=Math.sin(u),f=-Math.cos(u),h=o/2,p=a/2;let m=1/0;f<0?m=Math.min(m,-p/f):f>0&&(m=Math.min(m,(a-p)/f)),d<0?m=Math.min(m,-h/d):d>0&&(m=Math.min(m,(o-h)/d));const w=h+d*m,y=p+f*m,b=re._sign(a),v=w+d*c*b,x=y+f*c*b;n.moveTo(w,y),n.lineTo(v,x)}n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const s=this.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,s=n.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(s,2));this.sin=Math.abs(s/i),this.cos=Math.abs(r/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},vc++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,s;const i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),i.setAbsolutePosition(l);const u=i.getAbsolutePosition();if(c.x===u.x&&c.y===u.y)return;if(this._movingAnchorName==="rotater"){const b=this._getNodeRect();n=i.x()-b.width/2,r=-i.y()+b.height/2;const v=Ne.getAngle(this.rotateAnchorAngle());let x=Math.atan2(-r,n)+Math.PI/2-v;b.height<0&&(x-=Math.PI);const O=Ne.getAngle(this.rotation())+x,q=Ne.getAngle(this.rotationSnapTolerance()),E=f5(this.rotationSnaps(),O,q)-b.rotation,P=d5(b,E);this._fitNodesInto(P,e);return}const d=this.shiftBehavior();let f;d==="inverted"?f=this.keepRatio()&&!e.shiftKey:d==="none"?f=this.keepRatio():f=this.keepRatio()||e.shiftKey;let h=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(f){const b=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(b.x-i.x(),2)+Math.pow(b.y-i.y(),2));const v=this.findOne(".top-left").x()>b.x?-1:1,x=this.findOne(".top-left").y()>b.y?-1:1;n=s*this.cos*v,r=s*this.sin*x,this.findOne(".top-left").x(b.x-n),this.findOne(".top-left").y(b.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(f){const b=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(i.x()-b.x,2)+Math.pow(b.y-i.y(),2));const v=this.findOne(".top-right").x()<b.x?-1:1,x=this.findOne(".top-right").y()>b.y?-1:1;n=s*this.cos*v,r=s*this.sin*x,this.findOne(".top-right").x(b.x+n),this.findOne(".top-right").y(b.y-r)}var p=i.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(f){const b=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(b.x-i.x(),2)+Math.pow(i.y()-b.y,2));const v=b.x<i.x()?-1:1,x=i.y()<b.y?-1:1;n=s*this.cos*v,r=s*this.sin*x,i.x(b.x-n),i.y(b.y+r)}p=i.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(f){const b=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(i.x()-b.x,2)+Math.pow(i.y()-b.y,2));const v=this.findOne(".bottom-right").x()<b.x?-1:1,x=this.findOne(".bottom-right").y()<b.y?-1:1;n=s*this.cos*v,r=s*this.sin*x,this.findOne(".bottom-right").x(b.x+n),this.findOne(".bottom-right").y(b.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(h=this.centeredScaling()||e.altKey,h){const b=this.findOne(".top-left"),v=this.findOne(".bottom-right"),x=b.x(),C=b.y(),O=this.getWidth()-v.x(),q=this.getHeight()-v.y();v.move({x:-x,y:-C}),b.move({x:O,y:q})}const m=this.findOne(".top-left").getAbsolutePosition();n=m.x,r=m.y;const w=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),y=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:w,height:y,rotation:Ne.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();vc--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(s=>{var i;s._fire("transformend",{evt:e,target:s}),(i=s.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),s=1;if(re._inRange(e.width,-this.padding()*2-s,s)){this.update();return}if(re._inRange(e.height,-this.padding()*2-s,s)){this.update();return}const i=new On;if(i.rotate(Ne.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const f=i.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const f=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const f=i.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const f=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const f=this.boundBoxFunc()(r,e);f?e=f:re.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new On;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/o,r.height/o);const l=new On,c=e.width/o,u=e.height/o;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(u))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,u));const d=l.multiply(a.invert());this._nodes.forEach(f=>{var h;if(!f.getStage())return;const p=f.getParent().getAbsoluteTransform(),m=f.getTransform().copy();m.translate(f.offsetX(),f.offsetY());const w=new On;w.multiply(p.copy().invert()).multiply(d).multiply(p).multiply(m);const y=w.decompose();f.setAttrs(y),(h=f.getLayer())===null||h===void 0||h.batchDraw()}),this.rotation(re._getRotation(e.rotation)),this._nodes.forEach(f=>{this._fire("transform",{evt:n,target:f}),f._fire("transform",{evt:n,target:f})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(re._getRotation(n.rotation));const r=n.width,s=n.height,i=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(O=>{O.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:o&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:l/2+a,visible:o&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:s/2,offsetX:l/2-a,visible:o&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:l/2+a,offsetY:l/2-a,visible:o&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:s,offsetY:l/2-a,visible:o&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:s,offsetX:l/2-a,offsetY:l/2-a,visible:o&&i.indexOf("bottom-right")>=0});const u=this.rotateAnchorAngle(),d=this.rotateAnchorOffset(),f=re.degToRad(u),h=Math.sin(f),p=-Math.cos(f),m=r/2,w=s/2;let y=1/0;p<0?y=Math.min(y,-w/p):p>0&&(y=Math.min(y,(s-w)/p)),h<0?y=Math.min(y,-m/h):h>0&&(y=Math.min(y,(r-m)/h));const b=m+h*y,v=w+p*y,x=re._sign(s);this._batchChangeChild(".rotater",{x:b+h*d*x,y:v+p*d*x-a*p,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(O=>O.draggable()),x:0,y:0});const C=this.anchorStyleFunc();C&&c.forEach(O=>{C(O)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Oi.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Re.prototype.toObject.call(this)}clone(e){return Re.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}dt.isTransforming=()=>vc>0;function h5(t){return t instanceof Array||re.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Ka.indexOf(e)===-1&&re.warn("Unknown anchor name: "+e+". Available names are: "+Ka.join(", "))}),t||[]}dt.prototype.className="Transformer";$t(dt);W.addGetterSetter(dt,"enabledAnchors",Ka,h5);W.addGetterSetter(dt,"flipEnabled",!0,sr());W.addGetterSetter(dt,"resizeEnabled",!0);W.addGetterSetter(dt,"anchorSize",10,Ie());W.addGetterSetter(dt,"rotateEnabled",!0);W.addGetterSetter(dt,"rotateLineVisible",!0);W.addGetterSetter(dt,"rotationSnaps",[]);W.addGetterSetter(dt,"rotateAnchorOffset",50,Ie());W.addGetterSetter(dt,"rotateAnchorAngle",0,Ie());W.addGetterSetter(dt,"rotateAnchorCursor","crosshair");W.addGetterSetter(dt,"rotationSnapTolerance",5,Ie());W.addGetterSetter(dt,"borderEnabled",!0);W.addGetterSetter(dt,"anchorStroke","rgb(0, 161, 255)");W.addGetterSetter(dt,"anchorStrokeWidth",1,Ie());W.addGetterSetter(dt,"anchorFill","white");W.addGetterSetter(dt,"anchorCornerRadius",0,Ie());W.addGetterSetter(dt,"borderStroke","rgb(0, 161, 255)");W.addGetterSetter(dt,"borderStrokeWidth",1,Ie());W.addGetterSetter(dt,"borderDash");W.addGetterSetter(dt,"keepRatio",!0);W.addGetterSetter(dt,"shiftBehavior","default");W.addGetterSetter(dt,"centeredScaling",!1);W.addGetterSetter(dt,"ignoreStroke",!1);W.addGetterSetter(dt,"padding",0,Ie());W.addGetterSetter(dt,"nodes");W.addGetterSetter(dt,"node");W.addGetterSetter(dt,"boundBoxFunc");W.addGetterSetter(dt,"anchorDragBoundFunc");W.addGetterSetter(dt,"anchorStyleFunc");W.addGetterSetter(dt,"shouldOverdrawWholeArea",!1);W.addGetterSetter(dt,"useSingleNodeRotation",!0);W.backCompat(dt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class jr extends Se{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Ne.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}jr.prototype.className="Wedge";jr.prototype._centroid=!0;jr.prototype._attrsAffectingSize=["radius"];$t(jr);W.addGetterSetter(jr,"radius",0,Ie());W.addGetterSetter(jr,"angle",0,Ie());W.addGetterSetter(jr,"clockwise",!1);W.backCompat(jr,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function $h(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const p5=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],g5=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function m5(t,e){const n=t.data,r=t.width,s=t.height;let i,o,a,l,c,u,d,f,h,p,m,w,y,b,v,x,C,O,q,A;const E=e+e+1,P=r-1,j=s-1,T=e+1,B=T*(T+1)/2,Y=new $h,L=p5[e],$=g5[e];let k=null,S=Y,V=null,ie=null;for(let ae=1;ae<E;ae++)S=S.next=new $h,ae===T&&(k=S);S.next=Y,a=o=0;for(let ae=0;ae<s;ae++){w=y=b=v=l=c=u=d=0,f=T*(x=n[o]),h=T*(C=n[o+1]),p=T*(O=n[o+2]),m=T*(q=n[o+3]),l+=B*x,c+=B*C,u+=B*O,d+=B*q,S=Y;for(let ve=0;ve<T;ve++)S.r=x,S.g=C,S.b=O,S.a=q,S=S.next;for(let ve=1;ve<T;ve++)i=o+((P<ve?P:ve)<<2),l+=(S.r=x=n[i])*(A=T-ve),c+=(S.g=C=n[i+1])*A,u+=(S.b=O=n[i+2])*A,d+=(S.a=q=n[i+3])*A,w+=x,y+=C,b+=O,v+=q,S=S.next;V=Y,ie=k;for(let ve=0;ve<r;ve++)n[o+3]=q=d*L>>$,q!==0?(q=255/q,n[o]=(l*L>>$)*q,n[o+1]=(c*L>>$)*q,n[o+2]=(u*L>>$)*q):n[o]=n[o+1]=n[o+2]=0,l-=f,c-=h,u-=p,d-=m,f-=V.r,h-=V.g,p-=V.b,m-=V.a,i=a+((i=ve+e+1)<P?i:P)<<2,w+=V.r=n[i],y+=V.g=n[i+1],b+=V.b=n[i+2],v+=V.a=n[i+3],l+=w,c+=y,u+=b,d+=v,V=V.next,f+=x=ie.r,h+=C=ie.g,p+=O=ie.b,m+=q=ie.a,w-=x,y-=C,b-=O,v-=q,ie=ie.next,o+=4;a+=r}for(let ae=0;ae<r;ae++){y=b=v=w=c=u=d=l=0,o=ae<<2,f=T*(x=n[o]),h=T*(C=n[o+1]),p=T*(O=n[o+2]),m=T*(q=n[o+3]),l+=B*x,c+=B*C,u+=B*O,d+=B*q,S=Y;for(let fe=0;fe<T;fe++)S.r=x,S.g=C,S.b=O,S.a=q,S=S.next;let ve=r;for(let fe=1;fe<=e;fe++)o=ve+ae<<2,l+=(S.r=x=n[o])*(A=T-fe),c+=(S.g=C=n[o+1])*A,u+=(S.b=O=n[o+2])*A,d+=(S.a=q=n[o+3])*A,w+=x,y+=C,b+=O,v+=q,S=S.next,fe<j&&(ve+=r);o=ae,V=Y,ie=k;for(let fe=0;fe<s;fe++)i=o<<2,n[i+3]=q=d*L>>$,q>0?(q=255/q,n[i]=(l*L>>$)*q,n[i+1]=(c*L>>$)*q,n[i+2]=(u*L>>$)*q):n[i]=n[i+1]=n[i+2]=0,l-=f,c-=h,u-=p,d-=m,f-=V.r,h-=V.g,p-=V.b,m-=V.a,i=ae+((i=fe+T)<j?i:j)*r<<2,l+=w+=V.r=n[i],c+=y+=V.g=n[i+1],u+=b+=V.b=n[i+2],d+=v+=V.a=n[i+3],V=V.next,f+=x=ie.r,h+=C=ie.g,p+=O=ie.b,m+=q=ie.a,w-=x,y-=C,b-=O,v-=q,ie=ie.next,o+=r}}const v5=function(e){const n=Math.round(this.blurRadius());n>0&&m5(e,n)};W.addGetterSetter(Re,"blurRadius",0,Ie(),W.afterSetFilter);const y5=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let s=0;s<r;s+=4)n[s]+=e,n[s+1]+=e,n[s+2]+=e};W.addGetterSetter(Re,"brightness",0,Ie(),W.afterSetFilter);const b5=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let s=0;s<r;s+=4)n[s]=Math.min(255,n[s]*e),n[s+1]=Math.min(255,n[s+1]*e),n[s+2]=Math.min(255,n[s+2]*e)},_5=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let s=150,i=150,o=150;for(let a=0;a<r;a+=4)s=n[a],i=n[a+1],o=n[a+2],s/=255,s-=.5,s*=e,s+=.5,s*=255,i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s=s<0?0:s>255?255:s,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,n[a]=s,n[a+1]=i,n[a+2]=o};W.addGetterSetter(Re,"contrast",0,Ie(),W.afterSetFilter);const w5=function(t){var e,n,r,s,i,o,a,l,c;const u=t.data,d=t.width,f=t.height,h=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),p=Math.min(1,Math.max(0,(s=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&s!==void 0?s:.5)),w=(a={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(i=this.embossDirection)===null||i===void 0?void 0:i.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&a!==void 0?a:315,y=!!((c=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&c!==void 0&&c),b=h*10,v=p*255,x=w*Math.PI/180,C=Math.cos(x),O=Math.sin(x),q=128/1020*b,A=new Uint8ClampedArray(u),E=new Float32Array(d*f);for(let Y=0,L=0;L<u.length;L+=4,Y++)E[Y]=.2126*A[L]+.7152*A[L+1]+.0722*A[L+2];const P=[-1,0,1,-2,0,2,-1,0,1],j=[-1,-2,-1,0,0,0,1,2,1],T=[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1],B=Y=>Y<0?0:Y>255?255:Y;for(let Y=1;Y<f-1;Y++)for(let L=1;L<d-1;L++){const $=Y*d+L;let k=0,S=0;k+=E[$+T[0]]*P[0],S+=E[$+T[0]]*j[0],k+=E[$+T[1]]*P[1],S+=E[$+T[1]]*j[1],k+=E[$+T[2]]*P[2],S+=E[$+T[2]]*j[2],k+=E[$+T[3]]*P[3],S+=E[$+T[3]]*j[3],k+=E[$+T[5]]*P[5],S+=E[$+T[5]]*j[5],k+=E[$+T[6]]*P[6],S+=E[$+T[6]]*j[6],k+=E[$+T[7]]*P[7],S+=E[$+T[7]]*j[7],k+=E[$+T[8]]*P[8],S+=E[$+T[8]]*j[8];const V=C*k+O*S,ie=B(v+V*q),ae=$*4;if(y){const ve=ie-v;u[ae]=B(A[ae]+ve),u[ae+1]=B(A[ae+1]+ve),u[ae+2]=B(A[ae+2]+ve),u[ae+3]=A[ae+3]}else u[ae]=u[ae+1]=u[ae+2]=ie,u[ae+3]=A[ae+3]}for(let Y=0;Y<d;Y++){let L=Y*4,$=((f-1)*d+Y)*4;u[L]=A[L],u[L+1]=A[L+1],u[L+2]=A[L+2],u[L+3]=A[L+3],u[$]=A[$],u[$+1]=A[$+1],u[$+2]=A[$+2],u[$+3]=A[$+3]}for(let Y=1;Y<f-1;Y++){let L=Y*d*4,$=(Y*d+(d-1))*4;u[L]=A[L],u[L+1]=A[L+1],u[L+2]=A[L+2],u[L+3]=A[L+3],u[$]=A[$],u[$+1]=A[$+1],u[$+2]=A[$+2],u[$+3]=A[$+3]}return t};W.addGetterSetter(Re,"embossStrength",.5,Ie(),W.afterSetFilter);W.addGetterSetter(Re,"embossWhiteLevel",.5,Ie(),W.afterSetFilter);W.addGetterSetter(Re,"embossDirection","top-left",void 0,W.afterSetFilter);W.addGetterSetter(Re,"embossBlend",!1,void 0,W.afterSetFilter);function xu(t,e,n,r,s){const i=n-e,o=s-r;if(i===0)return r+o/2;if(o===0)return r;let a=(t-e)/i;return a=o*a+r,a}const x5=function(t){const e=t.data,n=e.length;let r=e[0],s=r,i,o=e[1],a=o,l,c=e[2],u=c,d;const f=this.enhance();if(f===0)return;for(let v=0;v<n;v+=4)i=e[v+0],i<r?r=i:i>s&&(s=i),l=e[v+1],l<o?o=l:l>a&&(a=l),d=e[v+2],d<c?c=d:d>u&&(u=d);s===r&&(s=255,r=0),a===o&&(a=255,o=0),u===c&&(u=255,c=0);let h,p,m,w,y,b;if(f>0)h=s+f*(255-s),p=r-f*(r-0),m=a+f*(255-a),w=o-f*(o-0),y=u+f*(255-u),b=c-f*(c-0);else{const v=(s+r)*.5;h=s+f*(s-v),p=r+f*(r-v);const x=(a+o)*.5;m=a+f*(a-x),w=o+f*(o-x);const C=(u+c)*.5;y=u+f*(u-C),b=c+f*(c-C)}for(let v=0;v<n;v+=4)e[v+0]=xu(e[v+0],r,s,p,h),e[v+1]=xu(e[v+1],o,a,w,m),e[v+2]=xu(e[v+2],c,u,b,y)};W.addGetterSetter(Re,"enhance",0,Ie(),W.afterSetFilter);const C5=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const s=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=s,e[r+1]=s,e[r+2]=s}};W.addGetterSetter(Re,"hue",0,Ie(),W.afterSetFilter);W.addGetterSetter(Re,"saturation",0,Ie(),W.afterSetFilter);W.addGetterSetter(Re,"luminance",0,Ie(),W.afterSetFilter);const k5=function(t){const e=t.data,n=e.length,r=1,s=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a=r*s*Math.cos(i*Math.PI/180),l=r*s*Math.sin(i*Math.PI/180),c=.299*r+.701*a+.167*l,u=.587*r-.587*a+.33*l,d=.114*r-.114*a-.497*l,f=.299*r-.299*a-.328*l,h=.587*r+.413*a+.035*l,p=.114*r-.114*a+.293*l,m=.299*r-.3*a+1.25*l,w=.587*r-.586*a-1.05*l,y=.114*r+.886*a-.2*l;let b,v,x,C;for(let O=0;O<n;O+=4)b=e[O+0],v=e[O+1],x=e[O+2],C=e[O+3],e[O+0]=c*b+u*v+d*x+o,e[O+1]=f*b+h*v+p*x+o,e[O+2]=m*b+w*v+y*x+o,e[O+3]=C},S5=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=r*s*Math.cos(i*Math.PI/180),a=r*s*Math.sin(i*Math.PI/180),l=.299*r+.701*o+.167*a,c=.587*r-.587*o+.33*a,u=.114*r-.114*o-.497*a,d=.299*r-.299*o-.328*a,f=.587*r+.413*o+.035*a,h=.114*r-.114*o+.293*a,p=.299*r-.3*o+1.25*a,m=.587*r-.586*o-1.05*a,w=.114*r+.886*o-.2*a;for(let y=0;y<n;y+=4){const b=e[y+0],v=e[y+1],x=e[y+2],C=e[y+3];e[y+0]=l*b+c*v+u*x,e[y+1]=d*b+f*v+h*x,e[y+2]=p*b+m*v+w*x,e[y+3]=C}};W.addGetterSetter(Re,"hue",0,Ie(),W.afterSetFilter);W.addGetterSetter(Re,"saturation",0,Ie(),W.afterSetFilter);W.addGetterSetter(Re,"value",0,Ie(),W.afterSetFilter);const E5=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},T5=function(t,e,n){const r=t.data,s=e.data,i=t.width,o=t.height,a=n.polarCenterX||i/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=i-a,d=o-l;const f=Math.sqrt(u*u+d*d);c=f>c?f:c;const h=o,p=i,m=360/p*Math.PI/180;for(let w=0;w<p;w+=1){const y=Math.sin(w*m),b=Math.cos(w*m);for(let v=0;v<h;v+=1){u=Math.floor(a+c*v/h*b),d=Math.floor(l+c*v/h*y);let x=(d*i+u)*4;const C=r[x+0],O=r[x+1],q=r[x+2],A=r[x+3];x=(w+v*i)*4,s[x+0]=C,s[x+1]=O,s[x+2]=q,s[x+3]=A}}},A5=function(t,e,n){const r=t.data,s=e.data,i=t.width,o=t.height,a=n.polarCenterX||i/2,l=n.polarCenterY||o/2;let c=Math.sqrt(a*a+l*l),u=i-a,d=o-l;const f=Math.sqrt(u*u+d*d);c=f>c?f:c;const h=o,p=i,m=0;let w,y;for(u=0;u<i;u+=1)for(d=0;d<o;d+=1){const b=u-a,v=d-l,x=Math.sqrt(b*b+v*v)*h/c;let C=(Math.atan2(v,b)*180/Math.PI+360+m)%360;C=C*p/360,w=Math.floor(C),y=Math.floor(x);let O=(y*i+w)*4;const q=r[O+0],A=r[O+1],E=r[O+2],P=r[O+3];O=(d*i+u)*4,s[O+0]=q,s[O+1]=A,s[O+2]=E,s[O+3]=P}},P5=function(t){const e=t.width,n=t.height;let r,s,i,o,a,l,c,u,d,f,h=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(p%360)/360);if(h<1)return;const w=re.createCanvasElement();w.width=e,w.height=n;const y=w.getContext("2d").getImageData(0,0,e,n);re.releaseCanvas(w),T5(t,y,{polarCenterX:e/2,polarCenterY:n/2});let b=e/Math.pow(2,h);for(;b<=8;)b=b*2,h-=1;b=Math.ceil(b);let v=b,x=0,C=v,O=1;for(m+b>e&&(x=v,C=0,O=-1),s=0;s<n;s+=1)for(r=x;r!==C;r+=O)i=Math.round(r+m)%e,d=(e*s+i)*4,a=y.data[d+0],l=y.data[d+1],c=y.data[d+2],u=y.data[d+3],f=(e*s+r)*4,y.data[f+0]=a,y.data[f+1]=l,y.data[f+2]=c,y.data[f+3]=u;for(s=0;s<n;s+=1)for(v=Math.floor(b),o=0;o<h;o+=1){for(r=0;r<v+1;r+=1)d=(e*s+r)*4,a=y.data[d+0],l=y.data[d+1],c=y.data[d+2],u=y.data[d+3],f=(e*s+v*2-r-1)*4,y.data[f+0]=a,y.data[f+1]=l,y.data[f+2]=c,y.data[f+3]=u;v*=2}A5(y,t,{})};W.addGetterSetter(Re,"kaleidoscopePower",2,Ie(),W.afterSetFilter);W.addGetterSetter(Re,"kaleidoscopeAngle",0,Ie(),W.afterSetFilter);function ga(t,e,n){let r=(n*t.width+e)*4;const s=[];return s.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),s}function Qi(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function O5(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function I5(t,e){const n=ga(t,0,0),r=ga(t,t.width-1,0),s=ga(t,0,t.height-1),i=ga(t,t.width-1,t.height-1),o=e||10;if(Qi(n,r)<o&&Qi(r,i)<o&&Qi(i,s)<o&&Qi(s,n)<o){const a=O5([r,n,i,s]),l=[];for(let c=0;c<t.width*t.height;c++){const u=Qi(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=u<o?0:255}return l}}function L5(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function M5(t,e,n){const r=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<s;d++)for(let f=0;f<s;f++){const h=a+d-i,p=l+f-i;if(h>=0&&h<n&&p>=0&&p<e){const m=h*e+p,w=r[d*s+f];u+=t[m]*w}}o[c]=u===2040?255:0}return o}function R5(t,e,n){const r=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<s;d++)for(let f=0;f<s;f++){const h=a+d-i,p=l+f-i;if(h>=0&&h<n&&p>=0&&p<e){const m=h*e+p,w=r[d*s+f];u+=t[m]*w}}o[c]=u>=1020?255:0}return o}function D5(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(r.length)),i=Math.floor(s/2),o=[];for(let a=0;a<n;a++)for(let l=0;l<e;l++){const c=a*e+l;let u=0;for(let d=0;d<s;d++)for(let f=0;f<s;f++){const h=a+d-i,p=l+f-i;if(h>=0&&h<n&&p>=0&&p<e){const m=h*e+p,w=r[d*s+f];u+=t[m]*w}}o[c]=u}return o}const N5=function(t){const e=this.threshold();let n=I5(t,e);return n&&(n=M5(n,t.width,t.height),n=R5(n,t.width,t.height),n=D5(n,t.width,t.height),L5(t,n)),t};W.addGetterSetter(Re,"threshold",0,Ie(),W.afterSetFilter);const $5=function(t){const e=this.noise()*255,n=t.data,r=n.length,s=e/2;for(let i=0;i<r;i+=4)n[i+0]+=s-2*s*Math.random(),n[i+1]+=s-2*s*Math.random(),n[i+2]+=s-2*s*Math.random()};W.addGetterSetter(Re,"noise",.2,Ie(),W.afterSetFilter);const F5=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,s=Math.ceil(n/e),i=Math.ceil(r/e),o=t.data;if(e<=0){re.error("pixelSize value can not be <= 0");return}for(let a=0;a<s;a+=1)for(let l=0;l<i;l+=1){let c=0,u=0,d=0,f=0;const h=a*e,p=h+e,m=l*e,w=m+e;let y=0;for(let b=h;b<p;b+=1)if(!(b>=n))for(let v=m;v<w;v+=1){if(v>=r)continue;const x=(n*v+b)*4;c+=o[x+0],u+=o[x+1],d+=o[x+2],f+=o[x+3],y+=1}c=c/y,u=u/y,d=d/y,f=f/y;for(let b=h;b<p;b+=1)if(!(b>=n))for(let v=m;v<w;v+=1){if(v>=r)continue;const x=(n*v+b)*4;o[x+0]=c,o[x+1]=u,o[x+2]=d,o[x+3]=f}}};W.addGetterSetter(Re,"pixelSize",8,Ie(),W.afterSetFilter);const B5=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,s=255/e;for(let i=0;i<r;i+=1)n[i]=Math.floor(n[i]/s)*s};W.addGetterSetter(Re,"levels",.5,Ie(),W.afterSetFilter);const U5=function(t){const e=t.data,n=e.length,r=this.red(),s=this.green(),i=this.blue();for(let o=0;o<n;o+=4){const a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=a*r,e[o+1]=a*s,e[o+2]=a*i,e[o+3]=e[o+3]}};W.addGetterSetter(Re,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});W.addGetterSetter(Re,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});W.addGetterSetter(Re,"blue",0,Km,W.afterSetFilter);const G5=function(t){const e=t.data,n=e.length,r=this.red(),s=this.green(),i=this.blue(),o=this.alpha();for(let a=0;a<n;a+=4){const l=1-o;e[a]=r*o+e[a]*l,e[a+1]=s*o+e[a+1]*l,e[a+2]=i*o+e[a+2]*l}};W.addGetterSetter(Re,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});W.addGetterSetter(Re,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});W.addGetterSetter(Re,"blue",0,Km,W.afterSetFilter);W.addGetterSetter(Re,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const q5=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const s=e[r+0],i=e[r+1],o=e[r+2];e[r+0]=Math.min(255,s*.393+i*.769+o*.189),e[r+1]=Math.min(255,s*.349+i*.686+o*.168),e[r+2]=Math.min(255,s*.272+i*.534+o*.131)}},j5=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const s=n[r],i=n[r+1],o=n[r+2];.2126*s+.7152*i+.0722*o>=128&&(n[r]=255-s,n[r+1]=255-i,n[r+2]=255-o)}return t},W5=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let s=0;s<r;s+=1)n[s]=n[s]<e?0:255};W.addGetterSetter(Re,"threshold",.5,Ie(),W.afterSetFilter);const Do=Eh.Util._assign(Eh,{Arc:Gr,Arrow:js,Circle:Di,Ellipse:ms,Image:ir,Label:ld,Tag:Ws,Line:qr,Path:Pt,Rect:zo,RegularPolygon:vs,Ring:Hs,Sprite:br,Star:ys,Text:Lt,TextPath:Qt,Transformer:dt,Wedge:jr,Filters:{Blur:v5,Brightness:b5,Brighten:y5,Contrast:_5,Emboss:w5,Enhance:x5,Grayscale:C5,HSL:k5,HSV:S5,Invert:E5,Kaleidoscope:P5,Mask:N5,Noise:$5,Pixelate:F5,Posterize:B5,RGB:U5,RGBA:G5,Sepia:q5,Solarize:j5,Threshold:W5}});function Xa(t){if(!Do.autoDrawEnabled){const e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const Fh={key:!0,style:!0,elm:!0,isRootInsert:!0},Cu=".vue-konva-event";function T0(t,e,n,r){const s=t.__konvaNode,i={};let o=!1;for(let a in n){if(Fh.hasOwnProperty(a))continue;const l=a.slice(0,2)==="on",c=n[a]!==e[a];if(l&&c){let u=a.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),s==null||s.off(u+Cu,n[a])}!e.hasOwnProperty(a)&&(s==null||s.setAttr(a,void 0))}for(let a in e){if(Fh.hasOwnProperty(a))continue;let l=a.slice(0,2)==="on";const c=n[a]!==e[a];if(l&&c){let u=a.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),e[a]&&(s==null||s.off(u+Cu),s==null||s.on(u+Cu,e[a]))}!l&&(e[a]!==n[a]||r&&e[a]!==(s==null?void 0:s.getAttr(a)))&&(o=!0,i[a]=e[a])}o&&s&&(s.setAttrs(i),Xa(s))}const H5="V";function z5(t){function e(n){return n!=null&&n.__konvaNode?n:n!=null&&n.parent?e(n.parent):(console.error("vue-konva error: Can not find parent node"),null)}return e(t.parent)}function A0(t){return t.component?t.component.__konvaNode||A0(t.component.subTree):null}function V5(t){const{el:e,component:n}=t,r=A0(t);if(e!=null&&e.tagName&&n&&!r){const s=e.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${s}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return r}function Y5(t){const e=s=>!!s&&typeof s=="object"&&"component"in s,n=s=>Array.isArray(s),r=s=>e(s)?[s,...r(s.children)]:n(s)?s.flatMap(r):[];return r(t.children)}function P0(t,e){const n=Y5(t),r=[];n.forEach(i=>{const o=V5(i);o&&r.push(o)});let s=!1;r.forEach((i,o)=>{i.getZIndex()!==o&&(i.setZIndex(o),s=!0)}),s&&Xa(e)}var Gp;const K5=((Gp=Do.default)==null?void 0:Gp.Stage)||Do.Stage,X5=me({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:r}){const s=zt();if(!s)return;const i=jn({}),o=J(null),a=new K5({width:t.config.width,height:t.config.height,container:document.createElement("div")});s.__konvaNode=a,u();function l(){return s==null?void 0:s.__konvaNode}function c(){return s==null?void 0:s.__konvaNode}function u(){if(!s)return;const d=i||{},f={...e,...t.config};T0(s,f,d,t.__useStrictMode),Object.assign(i,f)}return Rt(()=>{o.value&&(o.value.innerHTML="",a.container(o.value)),u()}),Wc(()=>{u(),P0(s.subTree,a)}),Go(()=>{a.destroy()}),Je(()=>t.config,u,{deep:!0}),r({getStage:c,getNode:l}),()=>{var d;return wn("div",{ref:o,style:e==null?void 0:e.style},(d=n.default)==null?void 0:d.call(n))}}}),J5=".vue-konva-event",Q5={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function Ft(t,e){return me({name:t,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(n,{attrs:r,slots:s,expose:i}){const o=zt();if(!o)return;const a=jn({}),l=new e;o.__konvaNode=l,o.vnode.__konvaNode=l,d();function c(){return o==null?void 0:o.__konvaNode}function u(){return o==null?void 0:o.__konvaNode}function d(){if(!o)return;const h={};for(const w in o==null?void 0:o.vnode.props)w.slice(0,2)==="on"&&(h[w]=o.vnode.props[w]);const p=a||{},m={...r,...n.config,...h};T0(o,m,p,n.__useStrictMode),Object.assign(a,m)}Rt(()=>{var p;const h=(p=z5(o))==null?void 0:p.__konvaNode;h&&"add"in h&&h.add(l),Xa(l)}),ln(()=>{Xa(l),l.destroy(),l.off(J5)}),Wc(()=>{d(),P0(o.subTree,l)}),Je(()=>n.config,d,{deep:!0}),i({getStage:u,getNode:c});const f=Q5.hasOwnProperty(t);return()=>{var h;return f?wn("template",{},(h=s.default)==null?void 0:h.call(s)):null}}})}const Ut=Do.default||Do,Z5=Ft("Arc",Ut.Arc),e3=Ft("Arrow",Ut.Arrow),t3=Ft("Circle",Ut.Circle),n3=Ft("Ellipse",Ut.Ellipse),r3=Ft("FastLayer",Ut.FastLayer),s3=Ft("Group",Ut.Group),i3=Ft("Image",Ut.Image),o3=Ft("Label",Ut.Label),a3=Ft("Layer",Ut.Layer),l3=Ft("Line",Ut.Line),u3=Ft("Path",Ut.Path),c3=Ft("Rect",Ut.Rect),d3=Ft("RegularPolygon",Ut.RegularPolygon),f3=Ft("Ring",Ut.Ring),h3=Ft("Shape",Ut.Shape),p3=Ft("Sprite",Ut.Sprite),g3=Ft("Star",Ut.Star),m3=Ft("Tag",Ut.Tag),v3=Ft("Text",Ut.Text),y3=Ft("TextPath",Ut.TextPath),b3=Ft("Transformer",Ut.Transformer),_3=Ft("Wedge",Ut.Wedge),w3=Object.freeze(Object.defineProperty({__proto__:null,Arc:Z5,Arrow:e3,Circle:t3,Ellipse:n3,FastLayer:r3,Group:s3,Image:i3,Label:o3,Layer:a3,Line:l3,Path:u3,Rect:c3,RegularPolygon:d3,Ring:f3,Shape:h3,Sprite:p3,Star:g3,Tag:m3,Text:v3,TextPath:y3,Transformer:b3,Wedge:_3},Symbol.toStringTag,{value:"Module"})),x3={install:(t,e)=>{const n=(e==null?void 0:e.prefix)||H5,r=e!=null&&e.customNodes?Object.entries(e.customNodes).map(([s,i])=>Ft(s,i)):[];[X5,...Object.values(w3),...r].forEach(s=>{t.component(`${n}${s.name}`,s)})}};let yc=1;var C3=class{constructor(){Vt(this,"subscribers");Vt(this,"toasts");Vt(this,"dismissedToasts");Vt(this,"subscribe",t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}));Vt(this,"publish",t=>{this.subscribers.forEach(e=>e(t))});Vt(this,"addToast",t=>{this.publish(t),this.toasts=[...this.toasts,t]});Vt(this,"create",t=>{var o;const{message:e,...n}=t,r=typeof t.id=="number"||t.id&&((o=t.id)==null?void 0:o.length)>0?t.id:yc++,s=this.toasts.find(a=>a.id===r),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:e}),{...a,...t,id:r,dismissible:i,title:e}):a):this.addToast({title:e,...n,dismissible:i,id:r}),r});Vt(this,"dismiss",t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t));Vt(this,"message",(t,e)=>this.create({...e,message:t,type:"default"}));Vt(this,"error",(t,e)=>this.create({...e,type:"error",message:t}));Vt(this,"success",(t,e)=>this.create({...e,type:"success",message:t}));Vt(this,"info",(t,e)=>this.create({...e,type:"info",message:t}));Vt(this,"warning",(t,e)=>this.create({...e,type:"warning",message:t}));Vt(this,"loading",(t,e)=>this.create({...e,type:"loading",message:t}));Vt(this,"promise",(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,i;const o=r.then(async l=>{if(i=["resolve",l],dr(l))s=!1,this.create({id:n,type:"default",message:l});else if(S3(l)&&!l.ok){s=!1;const u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description,h=typeof u=="object"&&!dr(u)?u:{message:u||"",id:n||""};this.create({id:n,type:"error",description:d,...h})}else if(l instanceof Error){s=!1;const u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description,h=typeof u=="object"&&!dr(u)?u:{message:u||"",id:n||""};this.create({id:n,type:"error",description:d,...h})}else if(e.success!==void 0){s=!1;const u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description,h=typeof u=="object"&&!dr(u)?u:{message:u||"",id:n||""};this.create({id:n,type:"success",description:d,...h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;const c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description,f=typeof c=="object"&&!dr(c)?c:{message:c||"",id:n||""};this.create({id:n,type:"error",description:u,...f})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})});Vt(this,"custom",(t,e)=>{const n=(e==null?void 0:e.id)||yc++,r=this.toasts.find(i=>i.id===n),s=(e==null?void 0:e.dismissible)===void 0?!0:e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),r?this.toasts=this.toasts.map(i=>i.id===n?(this.publish({...i,component:t,dismissible:s,id:n,...e}),{...i,component:t,dismissible:s,id:n,...e}):i):this.addToast({component:t,dismissible:s,id:n,...e}),n});Vt(this,"getActiveToasts",()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)));this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const _n=new C3;function k3(t,e){const n=(e==null?void 0:e.id)||yc++;return _n.create({message:t,id:n,type:"default",...e}),n}const S3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",E3=k3,T3=()=>_n.toasts,A3=()=>_n.getActiveToasts(),it=Object.assign(E3,{success:_n.success,info:_n.info,warning:_n.warning,error:_n.error,custom:_n.custom,message:_n.message,promise:_n.promise,dismiss:_n.dismiss,loading:_n.loading},{getHistory:T3,getToasts:A3});function ma(t){return t.label!==void 0}const P3=3,O0="24px",I0="16px",Bh=4e3,O3=356,I3=14,L3=45,L0=200;function M3(){const t=J(!1);return qt(()=>{const e=()=>{t.value=document.hidden};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),{isDocumentHidden:t}}function Yr(...t){return t.filter(Boolean).join(" ")}function R3(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}function D3(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?I0:O0;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}const N3=["data-rich-colors","data-styled","data-mounted","data-promise","data-swiped","data-removed","data-visible","data-y-position","data-x-position","data-index","data-front","data-swiping","data-dismissible","data-type","data-invert","data-swipe-out","data-swipe-direction","data-expanded","data-testid"],$3=["aria-label","data-disabled","data-close-button-position"];var F3=me({__name:"Toast",props:{toast:{},toasts:{},index:{},swipeDirections:{},expanded:{type:Boolean},invert:{type:Boolean},heights:{},gap:{},position:{},closeButtonPosition:{},visibleToasts:{},expandByDefault:{type:Boolean},closeButton:{type:Boolean},interacting:{type:Boolean},style:{},cancelButtonStyle:{},actionButtonStyle:{},duration:{},class:{},unstyled:{type:Boolean},descriptionClass:{},loadingIcon:{},classes:{},icons:{},closeButtonAriaLabel:{},defaultRichColors:{type:Boolean}},emits:["update:heights","update:height","removeToast"],setup(t,{emit:e}){const n=t,r=e,s=J(null),i=J(null),o=J(!1),a=J(!1),l=J(!1),c=J(!1),u=J(!1),d=J(0),f=J(0),h=J(n.toast.duration||n.duration||Bh),p=J(null),m=J(null),w=pe(()=>n.index===0),y=pe(()=>n.index+1<=n.visibleToasts),b=pe(()=>n.toast.type),v=pe(()=>n.toast.dismissible!==!1),x=pe(()=>n.toast.class||""),C=pe(()=>n.descriptionClass||""),O=pe(()=>{const Q=n.toast.position||n.position,Le=n.heights.filter(Fe=>Fe.position===Q).findIndex(Fe=>Fe.toastId===n.toast.id);return Le>=0?Le:0}),q=pe(()=>{const Q=n.toast.position||n.position;return n.heights.filter(Le=>Le.position===Q).reduce((Le,Fe,We)=>We>=O.value?Le:Le+Fe.height,0)}),A=pe(()=>O.value*n.gap+q.value||0),E=pe(()=>n.toast.closeButton??n.closeButton),P=pe(()=>n.toast.duration||n.duration||Bh),j=J(0),T=J(0),B=J(null),Y=pe(()=>n.position.split("-")),L=pe(()=>Y.value[0]),$=pe(()=>Y.value[1]),k=pe(()=>typeof n.toast.title!="string"),S=pe(()=>typeof n.toast.description!="string"),{isDocumentHidden:V}=M3(),ie=pe(()=>b.value&&b.value==="loading");Rt(()=>{o.value=!0,h.value=P.value}),qt(async()=>{if(!o.value||!m.value)return;await _t();const Q=m.value,$e=Q.style.height;Q.style.height="auto";const Le=Q.getBoundingClientRect().height;Q.style.height=$e,f.value=Le,r("update:height",{toastId:n.toast.id,height:Le,position:n.toast.position||n.position})});function ae(){a.value=!0,d.value=A.value,setTimeout(()=>{r("removeToast",n.toast)},L0)}function ve(){var Q,$e;if(ie.value||!v.value)return{};ae(),($e=(Q=n.toast).onDismiss)==null||$e.call(Q,n.toast)}function fe(Q){Q.button!==2&&(ie.value||!v.value||(p.value=new Date,d.value=A.value,Q.target.setPointerCapture(Q.pointerId),Q.target.tagName!=="BUTTON"&&(l.value=!0,B.value={x:Q.clientX,y:Q.clientY})))}function Ge(){var U,K,z,Z,de,he,Ce;if(c.value||!v.value)return;B.value=null;const Q=Number(((U=m.value)==null?void 0:U.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$e=Number(((K=m.value)==null?void 0:K.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Le=new Date().getTime()-(((z=p.value)==null?void 0:z.getTime())||0),Fe=s.value==="x"?Q:$e,We=Math.abs(Fe)/Le;if(Math.abs(Fe)>=L3||We>.11){d.value=A.value,(de=(Z=n.toast).onDismiss)==null||de.call(Z,n.toast),s.value==="x"?i.value=Q>0?"right":"left":i.value=$e>0?"down":"up",ae(),c.value=!0;return}else(he=m.value)==null||he.style.setProperty("--swipe-amount-x","0px"),(Ce=m.value)==null||Ce.style.setProperty("--swipe-amount-y","0px");u.value=!1,l.value=!1,s.value=null}function be(Q){var z,Z,de,he;if(!B.value||!v.value||(((Z=(z=window==null?void 0:window.getSelection())==null?void 0:z.toString())==null?void 0:Z.length)??!1))return;const Le=Q.clientY-B.value.y,Fe=Q.clientX-B.value.x,We=n.swipeDirections??R3(n.position);!s.value&&(Math.abs(Fe)>1||Math.abs(Le)>1)&&(s.value=Math.abs(Fe)>Math.abs(Le)?"x":"y");let U={x:0,y:0};const K=Ce=>1/(1.5+Math.abs(Ce)/20);if(s.value==="y"){if(We.includes("top")||We.includes("bottom"))if(We.includes("top")&&Le<0||We.includes("bottom")&&Le>0)U.y=Le;else{const Ce=Le*K(Le);U.y=Math.abs(Ce)<Math.abs(Le)?Ce:Le}}else if(s.value==="x"&&(We.includes("left")||We.includes("right")))if(We.includes("left")&&Fe<0||We.includes("right")&&Fe>0)U.x=Fe;else{const Ce=Fe*K(Fe);U.x=Math.abs(Ce)<Math.abs(Fe)?Ce:Fe}(Math.abs(U.x)>0||Math.abs(U.y)>0)&&(u.value=!0),(de=m.value)==null||de.style.setProperty("--swipe-amount-x",`${U.x}px`),(he=m.value)==null||he.style.setProperty("--swipe-amount-y",`${U.y}px`)}Rt(()=>{if(o.value=!0,!m.value)return;const Q=m.value.getBoundingClientRect().height;f.value=Q;const $e=[{toastId:n.toast.id,height:Q,position:n.toast.position},...n.heights];r("update:heights",$e)}),Go(()=>{m.value&&r("removeToast",n.toast)}),qt(Q=>{if(n.toast.promise&&b.value==="loading"||n.toast.duration===1/0||n.toast.type==="loading")return;let $e;const Le=()=>{if(T.value<j.value){const We=new Date().getTime()-j.value;h.value=h.value-We}T.value=new Date().getTime()},Fe=()=>{h.value!==1/0&&(j.value=new Date().getTime(),$e=setTimeout(()=>{var We,U;(U=(We=n.toast).onAutoClose)==null||U.call(We,n.toast),ae()},h.value))};n.expanded||n.interacting||V.value?Le():Fe(),Q(()=>{clearTimeout($e)})}),Je(()=>n.toast.delete,Q=>{var $e,Le;Q!==void 0&&Q&&(ae(),(Le=($e=n.toast).onDismiss)==null||Le.call($e,n.toast))},{deep:!0});function xe(){l.value=!1,s.value=null,B.value=null}return(Q,$e)=>{var Le,Fe,We,U,K,z,Z,de,he,Ce,Te,R,D,ue,ge,Me,se,N,te,_e,Pe,rt,xt,Et,nn,or,Zt;return M(),le("li",{tabindex:"0",ref_key:"toastRef",ref:m,class:st(g(Yr)(n.class,x.value,(Le=Q.classes)==null?void 0:Le.toast,(Fe=Q.toast.classes)==null?void 0:Fe.toast,(We=Q.classes)==null?void 0:We[b.value],(K=(U=Q.toast)==null?void 0:U.classes)==null?void 0:K[b.value])),"data-sonner-toast":"","data-rich-colors":Q.toast.richColors??Q.defaultRichColors,"data-styled":!(Q.toast.component||(z=Q.toast)!=null&&z.unstyled||Q.unstyled),"data-mounted":o.value,"data-promise":!!Q.toast.promise,"data-swiped":u.value,"data-removed":a.value,"data-visible":y.value,"data-y-position":L.value,"data-x-position":$.value,"data-index":Q.index,"data-front":w.value,"data-swiping":l.value,"data-dismissible":v.value,"data-type":b.value,"data-invert":Q.toast.invert||Q.invert,"data-swipe-out":c.value,"data-swipe-direction":i.value,"data-expanded":!!(Q.expanded||Q.expandByDefault&&o.value),"data-testid":Q.toast.testId,style:ft({"--index":Q.index,"--toasts-before":Q.index,"--z-index":Q.toasts.length-Q.index,"--offset":`${a.value?d.value:A.value}px`,"--initial-height":Q.expandByDefault?"auto":`${f.value}px`,...Q.style,...n.toast.style}),onDragend:xe,onPointerdown:fe,onPointerup:Ge,onPointermove:be},[E.value&&!Q.toast.component&&b.value!=="loading"?(M(),le("button",{key:0,"aria-label":Q.closeButtonAriaLabel||"Close toast","data-disabled":ie.value,"data-close-button":"true","data-close-button-position":Q.closeButtonPosition,class:st(g(Yr)((Z=Q.classes)==null?void 0:Z.closeButton,(he=(de=Q.toast)==null?void 0:de.classes)==null?void 0:he.closeButton)),onClick:ve},[(Ce=Q.icons)!=null&&Ce.close?(M(),ce(Pn((Te=Q.icons)==null?void 0:Te.close),{key:0})):Ee(Q.$slots,"close-icon",{key:1})],10,$3)):He("v-if",!0),Q.toast.component?(M(),ce(Pn(Q.toast.component),Xe({key:1},Q.toast.componentProps,{onCloseToast:ve,isPaused:Q.$props.expanded||Q.$props.interacting||g(V)}),null,16,["isPaused"])):(M(),le(Ve,{key:2},[b.value!=="default"||Q.toast.icon||Q.toast.promise?(M(),le("div",{key:0,"data-icon":"",class:st(g(Yr)((R=Q.classes)==null?void 0:R.icon,(ue=(D=Q.toast)==null?void 0:D.classes)==null?void 0:ue.icon))},[Q.toast.icon?(M(),ce(Pn(Q.toast.icon),{key:0})):(M(),le(Ve,{key:1},[b.value==="loading"?Ee(Q.$slots,"loading-icon",{key:0}):b.value==="success"?Ee(Q.$slots,"success-icon",{key:1}):b.value==="error"?Ee(Q.$slots,"error-icon",{key:2}):b.value==="warning"?Ee(Q.$slots,"warning-icon",{key:3}):b.value==="info"?Ee(Q.$slots,"info-icon",{key:4}):He("v-if",!0)],64))],2)):He("v-if",!0),_("div",{"data-content":"",class:st(g(Yr)((ge=Q.classes)==null?void 0:ge.content,(se=(Me=Q.toast)==null?void 0:Me.classes)==null?void 0:se.content))},[_("div",{"data-title":"",class:st(g(Yr)((N=Q.classes)==null?void 0:N.title,(te=Q.toast.classes)==null?void 0:te.title))},[k.value?(M(),ce(Pn(Q.toast.title),It(Xe({key:0},Q.toast.componentProps)),null,16)):(M(),le(Ve,{key:1},[Ye(we(Q.toast.title),1)],64))],2),Q.toast.description?(M(),le("div",{key:0,"data-description":"",class:st(g(Yr)(Q.descriptionClass,C.value,(_e=Q.classes)==null?void 0:_e.description,(Pe=Q.toast.classes)==null?void 0:Pe.description))},[S.value?(M(),ce(Pn(Q.toast.description),It(Xe({key:0},Q.toast.componentProps)),null,16)):(M(),le(Ve,{key:1},[Ye(we(Q.toast.description),1)],64))],2)):He("v-if",!0)],2),Q.toast.cancel?(M(),le("button",{key:1,style:ft(Q.toast.cancelButtonStyle||Q.cancelButtonStyle),class:st(g(Yr)((rt=Q.classes)==null?void 0:rt.cancelButton,(xt=Q.toast.classes)==null?void 0:xt.cancelButton)),"data-button":"","data-cancel":"",onClick:$e[0]||($e[0]=rn=>{var Nn,Wn;g(ma)(Q.toast.cancel)&&v.value&&((Wn=(Nn=Q.toast.cancel).onClick)==null||Wn.call(Nn,rn),ae())})},we(g(ma)(Q.toast.cancel)?(Et=Q.toast.cancel)==null?void 0:Et.label:Q.toast.cancel),7)):He("v-if",!0),Q.toast.action?(M(),le("button",{key:2,style:ft(Q.toast.actionButtonStyle||Q.actionButtonStyle),class:st(g(Yr)((nn=Q.classes)==null?void 0:nn.actionButton,(or=Q.toast.classes)==null?void 0:or.actionButton)),"data-button":"","data-action":"",onClick:$e[1]||($e[1]=rn=>{var Nn,Wn;g(ma)(Q.toast.action)&&((Wn=(Nn=Q.toast.action).onClick)==null||Wn.call(Nn,rn),!rn.defaultPrevented&&ae())})},we(g(ma)(Q.toast.action)?(Zt=Q.toast.action)==null?void 0:Zt.label:Q.toast.action),7)):He("v-if",!0)],64))],46,N3)}}}),B3=F3,Vo=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};const U3={},G3={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stoke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function q3(t,e){return M(),le("svg",G3,e[0]||(e[0]=[_("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),_("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}var j3=Vo(U3,[["render",q3]]);const W3=["data-visible"],H3={class:"sonner-spinner"};var z3=me({__name:"Loader",props:{visible:{type:Boolean}},setup(t){const e=Array(12).fill(0);return(n,r)=>(M(),le("div",{class:"sonner-loading-wrapper","data-visible":n.visible},[_("div",H3,[(M(!0),le(Ve,null,bt(g(e),s=>(M(),le("div",{key:`spinner-bar-${s}`,class:"sonner-loading-bar"}))),128))])],8,W3))}}),V3=z3;const Y3={},K3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function X3(t,e){return M(),le("svg",K3,e[0]||(e[0]=[_("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"},null,-1)]))}var J3=Vo(Y3,[["render",X3]]);const Q3={},Z3={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function ex(t,e){return M(),le("svg",Z3,e[0]||(e[0]=[_("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule":"evenodd"},null,-1)]))}var tx=Vo(Q3,[["render",ex]]);const nx={},rx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"};function sx(t,e){return M(),le("svg",rx,e[0]||(e[0]=[_("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1)]))}var ix=Vo(nx,[["render",sx]]);const ox={},ax={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function lx(t,e){return M(),le("svg",ax,e[0]||(e[0]=[_("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"},null,-1)]))}var ux=Vo(ox,[["render",lx]]);const cx=["aria-label"],dx=["data-sonner-theme","dir","data-theme","data-rich-colors","data-y-position","data-x-position"],fx=typeof window<"u"&&typeof document<"u";function hx(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var px=me({name:"Toaster",inheritAttrs:!1,__name:"Toaster",props:{id:{},invert:{type:Boolean,default:!1},theme:{default:"light"},position:{default:"bottom-right"},closeButtonPosition:{default:"top-left"},hotkey:{default:()=>["altKey","KeyT"]},richColors:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},duration:{},gap:{default:I3},visibleToasts:{default:P3},closeButton:{type:Boolean,default:!1},toastOptions:{default:()=>({})},class:{default:""},style:{},offset:{default:O0},mobileOffset:{default:I0},dir:{default:"auto"},swipeDirections:{},icons:{},containerAriaLabel:{default:"Notifications"}},setup(t){const e=t,n=Wy(),r=J([]),s=pe(()=>e.id?r.value.filter(P=>P.toasterId===e.id):r.value.filter(P=>!P.toasterId));function i(P,j){return s.value.filter(T=>!T.position&&j===0||T.position===P)}const o=pe(()=>{const P=s.value.filter(j=>j.position).map(j=>j.position);return P.length>0?Array.from(new Set([e.position].concat(P))):[e.position]}),a=pe(()=>{const P={};return o.value.forEach(j=>{P[j]=r.value.filter(T=>T.position===j)}),P}),l=J([]),c=J({}),u=J(!1);qt(()=>{o.value.forEach(P=>{P in c.value||(c.value[P]=!1)})});const d=J(e.theme!=="system"?e.theme:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),f=J(null),h=J(null),p=J(!1),m=e.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,"");function w(P){var j;(j=r.value.find(T=>T.id===P.id))!=null&&j.delete||_n.dismiss(P.id),r.value=r.value.filter(({id:T})=>T!==P.id),setTimeout(()=>{r.value.find(T=>T.id===P.id)||(l.value=l.value.filter(T=>T.toastId!==P.id))},L0+50)}function y(P){var j,T;p.value&&!((T=(j=P.currentTarget)==null?void 0:j.contains)!=null&&T.call(j,P.relatedTarget))&&(p.value=!1,h.value&&(h.value.focus({preventScroll:!0}),h.value=null))}function b(P){P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||p.value||(p.value=!0,h.value=P.relatedTarget)}function v(P){P.target&&P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||(u.value=!0)}qt(P=>{const j=_n.subscribe(T=>{if(T.dismiss){requestAnimationFrame(()=>{r.value=r.value.map(B=>B.id===T.id?{...B,delete:!0}:B)});return}_t(()=>{const B=r.value.findIndex(Y=>Y.id===T.id);B!==-1?r.value=[...r.value.slice(0,B),{...r.value[B],...T},...r.value.slice(B+1)]:r.value=[T,...r.value]})});P(j)}),qt(P=>{if(typeof window>"u")return;if(e.theme!=="system"){d.value=e.theme;return}const j=window.matchMedia("(prefers-color-scheme: dark)"),T=Y=>{d.value=Y?"dark":"light"};T(j.matches);const B=Y=>{T(Y.matches)};try{j.addEventListener("change",B)}catch{j.addListener(B)}P(()=>{try{j.removeEventListener("change",B)}catch{j.removeListener(B)}})}),qt(()=>{f.value&&h.value&&(h.value.focus({preventScroll:!0}),h.value=null,p.value=!1)}),qt(()=>{r.value.length<=1&&Object.keys(c.value).forEach(P=>{c.value[P]=!1})}),qt(P=>{function j(T){const B=e.hotkey.every($=>T[$]||T.code===$),Y=Array.isArray(f.value)?f.value[0]:f.value;B&&(o.value.forEach($=>{c.value[$]=!0}),Y==null||Y.focus());const L=document.activeElement===f.value||(Y==null?void 0:Y.contains(document.activeElement));T.code==="Escape"&&L&&o.value.forEach($=>{c.value[$]=!1})}fx&&(document.addEventListener("keydown",j),P(()=>{document.removeEventListener("keydown",j)}))});function x(P){const j=P.currentTarget,T=j.getAttribute("data-y-position")+"-"+j.getAttribute("data-x-position");c.value[T]=!0}function C(P){if(!u.value){const j=P.currentTarget,T=j.getAttribute("data-y-position")+"-"+j.getAttribute("data-x-position");c.value[T]=!1}}function O(){Object.keys(c.value).forEach(P=>{c.value[P]=!1})}function q(){u.value=!1}function A(P){l.value=P}function E(P){const j=l.value.findIndex(T=>T.toastId===P.toastId);if(j!==-1)l.value[j]=P;else{const T=l.value.findIndex(B=>B.position===P.position);T!==-1?l.value.splice(T,0,P):l.value.unshift(P)}}return(P,j)=>(M(),le(Ve,null,[He(" Remove item from normal navigation flow, only available via hotkey "),_("section",{"aria-label":`${P.containerAriaLabel} ${g(m)}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},[(M(!0),le(Ve,null,bt(o.value,(T,B)=>{var Y;return M(),le("ol",Xe({key:T,ref_for:!0,ref_key:"listRef",ref:f,"data-sonner-toaster":"","data-sonner-theme":d.value,class:e.class,dir:P.dir==="auto"?hx():P.dir,tabIndex:-1,"data-theme":P.theme,"data-rich-colors":P.richColors,"data-y-position":T.split("-")[0],"data-x-position":T.split("-")[1],style:{"--front-toast-height":`${((Y=l.value[0])==null?void 0:Y.height)||0}px`,"--width":`${g(O3)}px`,"--gap":`${P.gap}px`,...P.style,...g(n).style,...g(D3)(P.offset,P.mobileOffset)}},{ref_for:!0},P.$attrs,{onBlur:y,onFocus:b,onMouseenter:x,onMousemove:x,onMouseleave:C,onDragend:O,onPointerdown:v,onPointerup:q}),[(M(!0),le(Ve,null,bt(i(T,B),(L,$)=>{var k,S,V,ie,ae,ve,fe,Ge,be,xe,Q;return M(),ce(B3,{key:L.id,heights:l.value,icons:P.icons,index:$,toast:L,defaultRichColors:P.richColors,duration:((k=P.toastOptions)==null?void 0:k.duration)??P.duration,class:st(((S=P.toastOptions)==null?void 0:S.class)??""),descriptionClass:(V=P.toastOptions)==null?void 0:V.descriptionClass,invert:P.invert,visibleToasts:P.visibleToasts,closeButton:((ie=P.toastOptions)==null?void 0:ie.closeButton)??P.closeButton,interacting:u.value,position:T,closeButtonPosition:((ae=P.toastOptions)==null?void 0:ae.closeButtonPosition)??P.closeButtonPosition,style:ft((ve=P.toastOptions)==null?void 0:ve.style),unstyled:(fe=P.toastOptions)==null?void 0:fe.unstyled,classes:(Ge=P.toastOptions)==null?void 0:Ge.classes,cancelButtonStyle:(be=P.toastOptions)==null?void 0:be.cancelButtonStyle,actionButtonStyle:(xe=P.toastOptions)==null?void 0:xe.actionButtonStyle,"close-button-aria-label":(Q=P.toastOptions)==null?void 0:Q.closeButtonAriaLabel,toasts:a.value[T],expandByDefault:P.expand,gap:P.gap,expanded:c.value[T]||!1,swipeDirections:e.swipeDirections,"onUpdate:heights":A,"onUpdate:height":E,onRemoveToast:w},{"close-icon":H(()=>[Ee(P.$slots,"close-icon",{},()=>[F(j3)])]),"loading-icon":H(()=>[Ee(P.$slots,"loading-icon",{},()=>[F(V3,{visible:L.type==="loading"},null,8,["visible"])])]),"success-icon":H(()=>[Ee(P.$slots,"success-icon",{},()=>[F(J3)])]),"error-icon":H(()=>[Ee(P.$slots,"error-icon",{},()=>[F(ux)])]),"warning-icon":H(()=>[Ee(P.$slots,"warning-icon",{},()=>[F(ix)])]),"info-icon":H(()=>[Ee(P.$slots,"info-icon",{},()=>[F(tx)])]),_:2},1032,["heights","icons","index","toast","defaultRichColors","duration","class","descriptionClass","invert","visibleToasts","closeButton","interacting","position","closeButtonPosition","style","unstyled","classes","cancelButtonStyle","actionButtonStyle","close-button-aria-label","toasts","expandByDefault","gap","expanded","swipeDirections"])}),128))],16,dx)}),128))],8,cx)],2112))}}),gx=px;/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),vx=t=>{const e=mx(t);return e.charAt(0).toUpperCase()+e.slice(1)},yx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Gh=t=>t==="";/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=({name:t,iconNode:e,absoluteStrokeWidth:n,"absolute-stroke-width":r,strokeWidth:s,"stroke-width":i,size:o=Zi.width,color:a=Zi.stroke,...l},{slots:c})=>wn("svg",{...Zi,...l,width:o,height:o,stroke:a,"stroke-width":Gh(n)||Gh(r)||n===!0||r===!0?Number(s||i||Zi["stroke-width"])*24/Number(o):s||i||Zi["stroke-width"],class:yx("lucide",l.class,...t?[`lucide-${Uh(vx(t))}-icon`,`lucide-${Uh(t)}`]:["lucide-icon"])},[...e.map(u=>wn(...u)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>(n,{slots:r,attrs:s})=>wn(bx,{...s,...n,iconNode:e,name:t},r);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Be("arrow-down-to-line",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Be("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Be("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Be("arrow-up-to-line",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Be("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Be("audio-lines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Be("brush-cleaning",[["path",{d:"m16 22-1-4",key:"1ow2iv"}],["path",{d:"M19 14a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v1a1 1 0 0 0 1 1",key:"11gii7"}],["path",{d:"M19 14H5l-1.973 6.767A1 1 0 0 0 4 22h16a1 1 0 0 0 .973-1.233z",key:"bju7h4"}],["path",{d:"m8 22 1-4",key:"s3unb"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Be("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Be("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Be("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Be("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Be("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Be("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Be("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Be("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Be("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Be("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Be("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Be("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Be("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Be("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Be("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Be("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Be("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Be("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Be("image-upscale",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M17 21h2a2 2 0 0 0 2-2",key:"130fy9"}],["path",{d:"M21 12v3",key:"1wzk3p"}],["path",{d:"m21 3-5 5",key:"1g5oa7"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2",key:"kk3yz1"}],["path",{d:"m5 21 4.144-4.144a1.21 1.21 0 0 1 1.712 0L13 19",key:"fyekpt"}],["path",{d:"M9 3h3",key:"d52fa"}],["rect",{x:"3",y:"11",width:"10",height:"10",rx:"1",key:"1wpmix"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Be("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Be("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Be("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Be("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Be("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Be("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Be("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Be("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Be("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Be("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Be("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Be("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Be("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Be("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Be("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Be("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Be("mouse-pointer-2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Be("move-horizontal",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Be("octagon-x",[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Be("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Be("pencil-ruler",[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Be("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Be("pipette",[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Be("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Be("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Be("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Be("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Be("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Be("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Be("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Be("shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Be("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Be("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Be("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Be("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Be("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Be("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Be("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Be("triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Be("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Be("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Be("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Be("ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Be("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Be("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Be("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Be("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Be("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Be("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Be("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);class q0{constructor(e){Vt(this,"apiKey");this.apiKey=e}async fetchQuota(){const e=await fetch("https://api.chutes.ai/users/me/quota_usage/me",{headers:{Authorization:`Bearer ${this.apiKey}`}});if(!e.ok)throw new Error("Failed to fetch quota");return await e.json()}async generate(e,n){const r=await fetch(e,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const s=await r.text();throw new Error(`API Error: ${r.status} - ${s}`)}return await r.blob()}}const $l=Wo("config",()=>{const t=J(localStorage.getItem("pixeo_api_key")||""),e=J(localStorage.getItem("pixeo_locale")||"en"),n=J(localStorage.getItem("pixeo_theme")||"system"),r=J(0),s=J(0),i=J([]),o=()=>typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark",a=u=>u==="system"?o():u;typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",d=>{n.value==="system"&&document.documentElement.classList.toggle("dark",d.matches)});const l=async()=>{if(!t.value){r.value=0,s.value=0;return}try{const d=await new q0(t.value).fetchQuota();d&&d.quota!==void 0&&(r.value=d.quota,s.value=d.used||0)}catch(u){console.error("Failed to refresh quota:",u)}};return Je(t,u=>{localStorage.setItem("pixeo_api_key",u),l()}),Je(e,u=>{localStorage.setItem("pixeo_locale",u),ur.global.locale.value=u}),Je(n,u=>{localStorage.setItem("pixeo_theme",u),document.documentElement.classList.toggle("dark",a(u)==="dark")},{immediate:!0}),{apiKey:t,locale:e,theme:n,quota:r,used:s,logs:i,refreshQuota:l,addLog:u=>{i.value.unshift({timestamp:new Date,...u}),i.value.length>100&&i.value.pop()}}}),i8=me({__name:"Toaster",setup(t){const e=$l(),n=pe(()=>e.theme),r={success:Sx,info:Ix,warning:e8,error:Gx,loading:el},s={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"};return(i,o)=>(M(),ce(g(gx),Xe({theme:n.value,class:"toaster group",icons:r,style:s,position:"top-right"},i.$attrs),null,16,["theme"]))}}),o8="modulepreload",a8=function(t){return"/pixeo/"+t},np={},l8=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(n.map(c=>{if(c=a8(c),c in np)return;np[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":o8,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},_c=(t,e)=>e.some(n=>t instanceof n);let rp,sp;function u8(){return rp||(rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c8(){return sp||(sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wc=new WeakMap,ku=new WeakMap,Fl=new WeakMap;function d8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ds(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return Fl.set(e,t),e}function f8(t){if(wc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});wc.set(t,e)}let xc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wc.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j0(t){xc=t(xc)}function h8(t){return c8().includes(t)?function(...e){return t.apply(Cc(this),e),Ds(this.request)}:function(...e){return Ds(t.apply(Cc(this),e))}}function p8(t){return typeof t=="function"?h8(t):(t instanceof IDBTransaction&&f8(t),_c(t,u8())?new Proxy(t,xc):t)}function Ds(t){if(t instanceof IDBRequest)return d8(t);if(ku.has(t))return ku.get(t);const e=p8(t);return e!==t&&(ku.set(t,e),Fl.set(e,t)),e}const Cc=t=>Fl.get(t);function g8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const m8=["get","getKey","getAll","getAllKeys","count"],v8=["put","add","delete","clear"],Su=new Map;function ip(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Su.get(e))return Su.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=v8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||m8.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Su.set(e,i),i}j0(t=>({...t,get:(e,n,r)=>ip(e,n)||t.get(e,n,r),has:(e,n)=>!!ip(e,n)||t.has(e,n)}));const y8=["continue","continuePrimaryKey","advance"],op={},kc=new WeakMap,W0=new WeakMap,b8={get(t,e){if(!y8.includes(e))return t[e];let n=op[e];return n||(n=op[e]=function(...r){kc.set(this,W0.get(this)[e](...r))}),n}};async function*_8(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,b8);for(W0.set(n,e),Fl.set(n,Cc(e));e;)yield n,e=await(kc.get(n)||e.continue()),kc.delete(n)}function ap(t,e){return e===Symbol.asyncIterator&&_c(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&_c(t,[IDBIndex,IDBObjectStore])}j0(t=>({...t,get(e,n,r){return ap(e,n)?_8:t.get(e,n,r)},has(e,n){return ap(e,n)||t.has(e,n)}}));const w8="pixeo_db",un="history",Bn="blobs",En="thumbnails",zs=Wo("history",()=>{const t=J([]),e=J([]);let n=null;const r=new Map,s=new Map,i=new Map,o=50;async function a(B,Y){if(Y==="image"){const L=new Image,$=URL.createObjectURL(B);L.src=$,await new Promise(Ge=>L.onload=Ge);const k=document.createElement("canvas"),S=k.getContext("2d");k.width=256,k.height=256;const V=L.width/L.height;let ie,ae,ve,fe;return V>1?(ie=L.height,ae=L.height,ve=(L.width-ie)/2,fe=0):(ie=L.width,ae=L.width,ve=0,fe=(L.height-ae)/2),S.drawImage(L,ve,fe,ie,ae,0,0,256,256),URL.revokeObjectURL($),new Promise(Ge=>k.toBlob(Ge,"image/webp",.8))}else if(Y==="video"){const L=document.createElement("video"),$=URL.createObjectURL(B);L.src=$,L.preload="metadata",await new Promise(V=>L.onloadedmetadata=V),L.currentTime=0,await new Promise(V=>L.onseeked=V);const k=document.createElement("canvas"),S=k.getContext("2d");return k.width=256,k.height=256,S.drawImage(L,0,0,256,256),URL.revokeObjectURL($),new Promise(V=>k.toBlob(V,"image/webp",.8))}else return null}async function l(){n||(n=await g8(w8,2,{upgrade(B){B.objectStoreNames.contains(un)||B.createObjectStore(un,{keyPath:"id"}),B.objectStoreNames.contains(Bn)||B.createObjectStore(Bn),B.objectStoreNames.contains(En)||B.createObjectStore(En)}}),await c())}async function c(){n||await l();const B=await n.getAll(un);t.value=B.sort((Y,L)=>L.timestamp-Y.timestamp)}async function u(){n||await l();const B=await n.getAll(un);let Y=0;for(const L of B)if(typeof L.timestamp=="string"){const $={...L,timestamp:new Date(L.timestamp)};await n.put(un,$),Y++}return await c(),Y}async function d(){var L;n||await l();const B=await n.getAll(un);let Y=0;for(const $ of B){if($.mode)continue;let k="text2image";$.type==="video"?k="text2video":$.type==="audio"&&(k="text2speech"),$.params&&($.params.image_b64s||$.params.image||$.params.img_b64)&&(k="image-edit");const S=["inpaint","edit","enhance"],V=(((L=$.params)==null?void 0:L.prompt)||"").toLowerCase();S.some(ae=>V.includes(ae))&&(k="inpaint");const ie={...$,mode:k};await n.put(un,ie),Y++}return await c(),Y}async function f(B,Y){n||await l();const L={...B,timestamp:new Date};await n.put(un,L),await n.put(Bn,Y,L.id);const $=await a(Y,B.type);$&&await n.put(En,$,L.id),t.value.unshift(L),e.value.unshift(L)}async function h(B,Y,L,$){n||await l();const k=`editor-${Date.now()}`,S={id:k,type:"image",mode:"editor-project",model:"editor",params:{name:B,...L},timestamp:new Date,blobKey:k};if(await n.put(un,S),await n.put(Bn,Y,S.id),$)try{const V=await m($);V&&await n.put(En,V,S.id)}catch(V){console.error("Failed to generate thumbnail for editor project:",V)}return t.value.unshift(S),k}async function p(B,Y,L,$,k){n||await l();const S=t.value.find(ae=>ae.id===B);if(!S)throw new Error("Project not found");const V={...S,params:{name:Y,...$},timestamp:new Date};if(await n.put(un,V),await n.put(Bn,L,B),k)try{const ae=await m(k);ae&&await n.put(En,ae,B)}catch(ae){console.error("Failed to generate thumbnail for editor project:",ae)}const ie=t.value.findIndex(ae=>ae.id===B);return ie!==-1&&(t.value[ie]=V),B}async function m(B){return new Promise(Y=>{const L=new Image;L.crossOrigin="anonymous",L.onload=()=>{try{const $=document.createElement("canvas"),k=$.getContext("2d");if(!k){console.error("Failed to get 2D context"),Y(null);return}$.width=256,$.height=256;const S=L.width/L.height;let V,ie,ae,ve;S>1?(V=L.height,ie=L.height,ae=(L.width-V)/2,ve=0):(V=L.width,ie=L.width,ae=0,ve=(L.height-ie)/2),k.fillStyle="#ffffff",k.fillRect(0,0,256,256),k.drawImage(L,ae,ve,V,ie,0,0,256,256),$.toBlob(fe=>Y(fe),"image/webp",.8)}catch($){console.error("Error processing thumbnail:",$),Y(null)}},L.onerror=$=>{console.error("Failed to load image for thumbnail:",$),Y(null)},L.src=B})}function w(){e.value=[]}async function y(B){if(n||await l(),r.has(B))return r.get(B);const Y=await n.get(Bn,B);if(Y){if(r.size>=o){const L=r.keys().next().value;L&&r.delete(L)}r.set(B,Y)}return Y}async function b(B){if(n||await l(),s.has(B))return s.get(B);const Y=await n.get(En,B);if(Y){if(s.size>=o){const L=s.keys().next().value;if(L){s.delete(L);const $=i.get(L);$&&(URL.revokeObjectURL($),i.delete(L))}}s.set(B,Y)}return Y}async function v(B){if(i.has(B))return i.get(B);const Y=await b(B);if(Y){const L=URL.createObjectURL(Y);return i.set(B,L),L}return null}async function x(B){n||await l(),await n.delete(un,B),await n.delete(Bn,B),await n.delete(En,B),r.delete(B),s.delete(B);const Y=i.get(B);Y&&(URL.revokeObjectURL(Y),i.delete(B)),t.value=t.value.filter(L=>L.id!==B)}async function C(){n||await l(),await n.clear(un),await n.clear(Bn),await n.clear(En),t.value=[],r.clear(),s.clear(),i.forEach(B=>URL.revokeObjectURL(B)),i.clear()}async function O(){n||await l();const B=await n.getAllKeys(En),Y=t.value.map(L=>L.id);for(const L of B)if(!Y.includes(L)){await n.delete(En,L),s.delete(L);const $=i.get(L);$&&(URL.revokeObjectURL($),i.delete(L))}}async function q(){n||await l(),s.clear();for(const B of t.value){const Y=await n.get(Bn,B.id);if(Y){const L=await a(Y,B.type);L&&await n.put(En,L,B.id)}}}async function A(){n||await l();const B=await n.getAll(un),Y={},L={};for(const ie of B){const ae=await n.get(Bn,ie.id);ae&&(Y[ie.id]=await P(ae));const ve=await n.get(En,ie.id);ve&&(L[ie.id]=await P(ve))}const $={version:1,exportDate:new Date().toISOString(),items:B,blobs:Y,thumbnails:L},k=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),S=URL.createObjectURL(k),V=document.createElement("a");V.href=S,V.download=`pixeo-export-${new Date().toISOString().slice(0,10)}.json`,V.click(),URL.revokeObjectURL(S)}async function E(B){n||await l();const Y=await B.text(),L=JSON.parse(Y);if(L.version!==1)throw new Error("Versin de archivo no compatible");const $=new Set((await n.getAllKeys(un)).map(V=>V));let k=0,S=0;for(const V of L.items){if($.has(V.id)){S++;continue}const ie={...V,timestamp:new Date(V.timestamp)};if(await n.put(un,ie),L.blobs&&L.blobs[V.id]){const ae=j(L.blobs[V.id]);await n.put(Bn,ae,V.id)}if(L.thumbnails&&L.thumbnails[V.id]){const ae=j(L.thumbnails[V.id]);await n.put(En,ae,V.id)}k++}return await c(),{imported:k,skipped:S}}async function P(B){return new Promise((Y,L)=>{const $=new FileReader;$.onloadend=()=>Y($.result),$.onerror=L,$.readAsDataURL(B)})}function j(B){const Y=B.split(","),L=Y[0].match(/:(.*?);/)[1],$=atob(Y[1]);let k=$.length;const S=new Uint8Array(k);for(;k--;)S[k]=$.charCodeAt(k);return new Blob([S],{type:L})}async function T(){var V;n||await l();const B=await n.getAll(un);if(B.length===0)return;const Y=(await l8(async()=>{const{default:ie}=await import("./jszip.min-DvrwnYNv.js").then(ae=>ae.j);return{default:ie}},[])).default,L=new Y;for(const ie of B){const ae=await n.get(Bn,ie.id);if(ae){const ve=ae.type.split("/")[1]||"png",fe=`${((V=ie.prompt)==null?void 0:V.substring(0,50))||"image"}_${ie.id}.${ve}`;L.file(fe,ae)}}const $=await L.generateAsync({type:"blob"}),k=URL.createObjectURL($),S=document.createElement("a");S.href=k,S.download=`pixeo-images-${new Date().toISOString().slice(0,10)}.zip`,S.click(),URL.revokeObjectURL(k)}return{items:t,sessionItems:e,addItem:f,addEditorProject:h,updateEditorProject:p,getBlob:y,getThumbnail:b,getThumbnailUrl:v,removeItem:x,clearAll:C,clearOrphanedThumbnails:O,regenerateThumbnails:q,exportProject:A,importProject:E,exportAllAsZip:T,initDB:l,clearSession:w,migrateTimestamps:u,migrateModes:d,generateThumbnailFromDataUrl:m}}),x8={"z-image-turbo":{name:"Z Image Turbo",endpoint:"https://chutes-z-image-turbo.chutes.ai/generate",accept_optimize_prompt:!0,payloadFormat:"flat",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},params:{width:{min:576,max:2048,default:1024,step:64},height:{min:576,max:2048,default:1024,step:64},guidance_scale:{min:0,max:5,default:0,step:.1},num_inference_steps:{min:1,max:100,default:9,step:1},seed:{min:0,max:4294967295,default:null}},promptLimit:1200,resolutions:[{id:"1",label:"1024x1024 - 1:1",width:1024,height:1024},{id:"2",label:"1152x896 - 9:7",width:1152,height:896},{id:"3",label:"896x1152 - 7:9",width:896,height:1152},{id:"4",label:"1152x864 - 4:3",width:1152,height:864},{id:"5",label:"864x1152 - 3:4",width:864,height:1152},{id:"6",label:"1248x832 - 3:2",width:1248,height:832},{id:"7",label:"832x1248 - 2:3",width:832,height:1248},{id:"8",label:"1280x720 - 16:9",width:1280,height:720},{id:"9",label:"720x1280 - 9:16",width:720,height:1280},{id:"10",label:"1344x576 - 21:9",width:1344,height:576},{id:"11",label:"576x1344 - 9:21",width:576,height:1344},{id:"12",label:"1280x1280 - 1:1",width:1280,height:1280},{id:"13",label:"1440x1120 - 9:7",width:1440,height:1120},{id:"14",label:"1120x1440 - 7:9",width:1120,height:1440},{id:"15",label:"1472x1104 - 4:3",width:1472,height:1104},{id:"16",label:"1104x1472 - 3:4",width:1104,height:1472},{id:"17",label:"1536x1024 - 3:2",width:1536,height:1024},{id:"18",label:"1024x1536 - 2:3",width:1024,height:1536},{id:"19",label:"1536x864 - 16:9",width:1536,height:864},{id:"20",label:"864x1536 - 9:16",width:864,height:1536},{id:"21",label:"1680x720 - 21:9",width:1680,height:720},{id:"22",label:"720x1680 - 9:21",width:720,height:1680},{id:"23",label:"1536x1536 - 1:1",width:1536,height:1536},{id:"24",label:"1728x1344 - 9:7",width:1728,height:1344},{id:"25",label:"1344x1728 - 7:9",width:1344,height:1728},{id:"26",label:"1728x1296 - 4:3",width:1728,height:1296},{id:"27",label:"1296x1728 - 3:4",width:1296,height:1728},{id:"28",label:"1872x1248 - 3:2",width:1872,height:1248},{id:"29",label:"1248x1872 - 2:3",width:1248,height:1872},{id:"30",label:"2048x1152 - 16:9",width:2048,height:1152},{id:"31",label:"1152x2048 - 9:16",width:1152,height:2048},{id:"32",label:"2016x864 - 21:9",width:2016,height:864},{id:"33",label:"2048x2048 - 1:1",width:2048,height:2048}]},"qwen-image":{name:"Qwen Image",endpoint:"https://image.chutes.ai/generate",modelName:"qwen-image",accept_optimize_prompt:!0,payloadFormat:"flat",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},params:{width:{min:128,max:2048,default:1024,step:64},height:{min:128,max:2048,default:1024,step:64},guidance_scale:{min:1,max:20,default:7.5,step:.1},num_inference_steps:{min:1,max:50,default:50,step:1},seed:{min:0,max:4294967295,default:null},negative_prompt:{default:"Low resolution, poor image quality, limb deformities, finger deformities, oversaturated visuals, wax-like appearance, lack of facial detail, excessive smoothness, AI-generated aesthetic. Chaotic composition. Blurred and distorted text."}},resolutions:[{id:"1",label:"1024x1024 - 1:1",width:1024,height:1024},{id:"2",label:"1152x896 - 9:7",width:1152,height:896},{id:"3",label:"896x1152 - 7:9",width:896,height:1152},{id:"4",label:"1152x864 - 4:3",width:1152,height:864},{id:"5",label:"864x1152 - 3:4",width:864,height:1152},{id:"6",label:"1248x832 - 3:2",width:1248,height:832},{id:"7",label:"832x1248 - 2:3",width:832,height:1248},{id:"8",label:"1280x720 - 16:9",width:1280,height:720},{id:"9",label:"720x1280 - 9:16",width:720,height:1280},{id:"10",label:"1344x576 - 21:9",width:1344,height:576},{id:"11",label:"576x1344 - 9:21",width:576,height:1344},{id:"12",label:"1280x1280 - 1:1",width:1280,height:1280},{id:"13",label:"1440x1120 - 9:7",width:1440,height:1120},{id:"14",label:"1120x1440 - 7:9",width:1120,height:1440},{id:"15",label:"1472x1104 - 4:3",width:1472,height:1104},{id:"16",label:"1104x1472 - 3:4",width:1104,height:1472},{id:"17",label:"1536x1024 - 3:2",width:1536,height:1024},{id:"18",label:"1024x1536 - 2:3",width:1024,height:1536},{id:"19",label:"1536x864 - 16:9",width:1536,height:864},{id:"20",label:"864x1536 - 9:16",width:864,height:1536},{id:"21",label:"1680x720 - 21:9",width:1680,height:720},{id:"22",label:"720x1680 - 9:21",width:720,height:1680},{id:"23",label:"1536x1536 - 1:1",width:1536,height:1536},{id:"24",label:"1728x1344 - 9:7",width:1728,height:1344},{id:"25",label:"1344x1728 - 7:9",width:1344,height:1728},{id:"26",label:"1728x1296 - 4:3",width:1728,height:1296},{id:"27",label:"1296x1728 - 3:4",width:1296,height:1728},{id:"28",label:"1872x1248 - 3:2",width:1872,height:1248},{id:"29",label:"1248x1872 - 2:3",width:1248,height:1872},{id:"30",label:"2048x1152 - 16:9",width:2048,height:1152},{id:"31",label:"1152x2048 - 9:16",width:1152,height:2048},{id:"32",label:"2016x864 - 21:9",width:2016,height:864},{id:"33",label:"2048x2048 - 1:1",width:2048,height:2048}]},"qwen-image-2512":{name:"Qwen Image 2512",endpoint:"https://image.chutes.ai/generate",modelName:"Qwen-Image-2512",accept_optimize_prompt:!0,payloadFormat:"flat",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},params:{width:{min:128,max:2048,default:1024,step:64},height:{min:128,max:2048,default:1024,step:64},guidance_scale:{min:1,max:20,default:7.5,step:.1},num_inference_steps:{min:1,max:50,default:50,step:1},seed:{min:0,max:4294967295,default:null},negative_prompt:{default:"Low resolution, poor image quality, limb deformities, finger deformities, oversaturated visuals, wax-like appearance, lack of facial detail, excessive smoothness, AI-generated aesthetic. Chaotic composition. Blurred and distorted text."}},resolutions:[{id:"1",label:"1024x1024 - 1:1",width:1024,height:1024},{id:"2",label:"1152x896 - 9:7",width:1152,height:896},{id:"3",label:"896x1152 - 7:9",width:896,height:1152},{id:"4",label:"1152x864 - 4:3",width:1152,height:864},{id:"5",label:"864x1152 - 3:4",width:864,height:1152},{id:"6",label:"1248x832 - 3:2",width:1248,height:832},{id:"7",label:"832x1248 - 2:3",width:832,height:1248},{id:"8",label:"1280x720 - 16:9",width:1280,height:720},{id:"9",label:"720x1280 - 9:16",width:720,height:1280},{id:"10",label:"1344x576 - 21:9",width:1344,height:576},{id:"11",label:"576x1344 - 9:21",width:576,height:1344},{id:"12",label:"1280x1280 - 1:1",width:1280,height:1280},{id:"13",label:"1440x1120 - 9:7",width:1440,height:1120},{id:"14",label:"1120x1440 - 7:9",width:1120,height:1440},{id:"15",label:"1472x1104 - 4:3",width:1472,height:1104},{id:"16",label:"1104x1472 - 3:4",width:1104,height:1472},{id:"17",label:"1536x1024 - 3:2",width:1536,height:1024},{id:"18",label:"1024x1536 - 2:3",width:1024,height:1536},{id:"19",label:"1536x864 - 16:9",width:1536,height:864},{id:"20",label:"864x1536 - 9:16",width:864,height:1536},{id:"21",label:"1680x720 - 21:9",width:1680,height:720},{id:"22",label:"720x1680 - 9:21",width:720,height:1680},{id:"23",label:"1536x1536 - 1:1",width:1536,height:1536},{id:"24",label:"1728x1344 - 9:7",width:1728,height:1344},{id:"25",label:"1344x1728 - 7:9",width:1344,height:1728},{id:"26",label:"1728x1296 - 4:3",width:1728,height:1296},{id:"27",label:"1296x1728 - 3:4",width:1296,height:1728},{id:"28",label:"1872x1248 - 3:2",width:1872,height:1248},{id:"29",label:"1248x1872 - 2:3",width:1248,height:1872},{id:"30",label:"2048x1152 - 16:9",width:2048,height:1152},{id:"31",label:"1152x2048 - 9:16",width:1152,height:2048},{id:"32",label:"2016x864 - 21:9",width:2016,height:864},{id:"33",label:"2048x2048 - 1:1",width:2048,height:2048}]},hidream:{name:"HiDream",endpoint:"https://chutes-hidream.chutes.ai/generate",payloadFormat:"flat",resolutionFormat:"x",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},message:{type:"warning",text:" Note: Width and height dimensions for most resolutions are currently swapped due to a bug on Chutes server side."},params:{resolution:{options:["1024x1024","768x1360","1360x768","880x1168","1168x880","1248x832","832x1248"],default:"1024x1024"},guidance_scale:{min:0,max:10,default:5,step:.1},num_inference_steps:{min:5,max:75,default:50,step:1},seed:{min:0,max:1e8,default:null}},resolutions:[{id:"1",label:"1024x1024 - 1:1",width:1024,height:1024,value:"1024x1024"},{id:"2",label:"768x1360 - 9:16",width:768,height:1360,value:"768x1360"},{id:"3",label:"1360x768 - 16:9",width:1360,height:768,value:"1360x768"},{id:"4",label:"880x1168 - 3:4",width:880,height:1168,value:"880x1168"},{id:"5",label:"1168x880 - 4:3",width:1168,height:880,value:"1168x880"},{id:"6",label:"1248x832 - 3:2",width:1248,height:832,value:"1248x832"},{id:"7",label:"832x1248 - 2:3",width:832,height:1248,value:"832x1248"}]},"flux-schnell":{name:"FLUX.1 Schnell",endpoint:"https://image.chutes.ai/generate",modelName:"FLUX.1-schnell",payloadFormat:"flat",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},params:{width:{min:128,max:2048,default:1024,step:64},height:{min:128,max:2048,default:1024,step:64},guidance_scale:{min:1,max:20,default:7.5,step:.1},num_inference_steps:{min:1,max:50,default:4,step:1},seed:{min:0,max:4294967295,default:null}}},"juggernaut-xl":{name:"JuggernautXL",endpoint:"https://image.chutes.ai/generate",modelName:"JuggernautXL",payloadFormat:"flat",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},params:{width:{min:128,max:2048,default:1024,step:64},height:{min:128,max:2048,default:1024,step:64},guidance_scale:{min:1,max:20,default:7.5,step:.1},num_inference_steps:{min:1,max:50,default:25,step:1},seed:{min:0,max:4294967295,default:null},negative_prompt:{default:""}}},"juggernaut-xl-ragnarok":{name:"JuggernautXL-Ragnarok",endpoint:"https://image.chutes.ai/generate",modelName:"JuggernautXL-Ragnarok",payloadFormat:"flat",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},params:{width:{min:128,max:2048,default:1024,step:64},height:{min:128,max:2048,default:1024,step:64},guidance_scale:{min:1,max:20,default:7.5,step:.1},num_inference_steps:{min:1,max:50,default:50,step:1},seed:{min:0,max:4294967295,default:null},negative_prompt:{default:""}}},chroma:{name:"Chroma",endpoint:"https://image.chutes.ai/generate",modelName:"chroma",payloadFormat:"flat",parameterMapping:{cfgScale:"guidance_scale",steps:"num_inference_steps"},params:{width:{min:200,max:2048,default:1024,step:64},height:{min:200,max:2048,default:1024,step:64},guidance_scale:{min:1,max:7.5,default:4.5,step:.1},num_inference_steps:{min:5,max:50,default:30,step:1},seed:{min:0,max:null,default:0}}}},C8={"wan-2-2-i2v-14b-fast":{name:"Wan 2.2 I2V 14B Fast",payloadFormat:"flat",resolutionFormat:"enum",includeResolutionIn:["image2video"],supportedModes:["image2video"],endpoints:{image2video:"https://chutes-wan-2-2-i2v-14b-fast.chutes.ai/generate"},imageInput:{type:"single",field:"image",hint:"Upload a single source image (URL or base64)"},params:{resolution:{options:["480p","720p"],default:"480p"},fps:{min:16,max:24,default:16,step:1},fast:{type:"boolean",default:!0},seed:{min:0,max:null,default:null},frames:{min:21,max:140,default:81,step:1},guidance_scale:{min:0,max:10,default:1,step:.1},guidance_scale_2:{min:0,max:10,default:1,step:.1},negative_prompt:{default:"JPEG"}},resolutions:[{id:"1",label:"480p",value:"480p"},{id:"2",label:"720p",value:"720p"}]}},k8={"qwen-image-edit-2509":{name:"Qwen Image Edit 2509",endpoint:"https://chutes-qwen-image-edit-2509.chutes.ai/generate",accept_optimize_prompt:!0,payloadFormat:"flat",parameterMapping:{cfgScale:"true_cfg_scale",steps:"num_inference_steps"},imageInput:{type:"multiple",field:"image_b64s",maxItems:3,minItems:1},params:{width:{min:128,max:2048,default:1024,step:64},height:{min:128,max:2048,default:1024,step:64},true_cfg_scale:{min:0,max:10,default:4,step:.1},num_inference_steps:{min:5,max:100,default:40,step:1},seed:{min:0,max:4294967295,default:null},negative_prompt:{default:""}}},"qwen-image-edit-2511":{name:"Qwen Image Edit 2511",endpoint:"https://chutes-qwen-image-edit-2511.chutes.ai/generate",accept_optimize_prompt:!0,payloadFormat:"flat",parameterMapping:{cfgScale:"true_cfg_scale",steps:"num_inference_steps"},imageInput:{type:"multiple",field:"image_b64s",maxItems:3,minItems:1},params:{width:{min:128,max:2048,default:1024,step:64},height:{min:128,max:2048,default:1024,step:64},true_cfg_scale:{min:0,max:10,default:4,step:.1},num_inference_steps:{min:5,max:100,default:40,step:1},seed:{min:0,max:4294967295,default:42},negative_prompt:{default:""}}}},S8={kokoro:{name:"Kokoro",endpoint:"https://chutes-kokoro.chutes.ai/speak",payloadFormat:"flat",params:{text:{required:!0},speed:{min:.1,max:3,step:.1,default:1},voice:{type:"enum",options:["af_heart","af_alloy","af_aoede","af_bella","af_jessica","af_kore","af_nicole","af_nova","af_river","af_sarah","af_sky","am_adam","am_echo","am_eric","am_fenrir","am_liam","am_michael","am_onyx","am_puck","am_santa","bf_alice","bf_emma","bf_isabella","bf_lily","bm_daniel","bm_fable","bm_george","bm_lewis","ef_dora","em_alex","em_santa","ff_siwis","hf_alpha","hf_beta","hm_omega","hm_psi","if_sara","im_nicola","jf_alpha","jf_gongitsune","jf_nezumi","jf_tebukuro","jm_kumo","pf_dora","pm_alex","pm_santa","zf_xiaobei","zf_xiaoni","zf_xiaoxiao","zf_xiaoyi","zm_yunjian","zm_yunxi","zm_yunxia","zm_yunyang"],default:"af_heart"}}},"csm-1b":{name:"CSM 1B",endpoint:"https://chutes-csm-1b.chutes.ai/speak",payloadFormat:"flat",params:{text:{required:!0},speaker:{min:0,max:1,step:1,default:1},max_duration_ms:{min:1e3,max:6e4,step:500,default:1e4}}}},E8=x8,T8=C8,A8=k8,P8=S8,O8=[{id:"text2image",label:"Image",icon:"Image"},{id:"image-edit",label:"Edit",icon:"Edit"},{id:"text2video",label:"Video",icon:"Video"},{id:"text2speech",label:"Audio",icon:"Mic"}],lp=[{id:"1",label:"1024x1024 - 1:1",width:1024,height:1024},{id:"2",label:"832x1216 - 2:3",width:832,height:1216},{id:"3",label:"1216x832 - 3:2",width:1216,height:832},{id:"4",label:"768x1344 - 9:16",width:768,height:1344},{id:"5",label:"1344x768 - 16:9",width:1344,height:768},{id:"custom",label:"Custom",width:0,height:0}],H0=Wo("models",()=>{const t=J("text2image"),e=J(""),n=J({}),r=J("1024x1024"),s=J(null),i=J(null),o=pe(()=>{switch(t.value){case"text2image":return E8;case"text2video":return T8;case"image-edit":return A8;case"text2speech":return P8;default:return{}}}),a=pe(()=>o.value[e.value]),l=pe(()=>{var u;return(u=a.value)!=null&&u.resolutions?a.value.resolutions:lp});Je(t,()=>{const u=o.value,d=Object.keys(u)[0];e.value=d,c()},{immediate:!0}),Je(e,()=>{var u;if((u=a.value)!=null&&u.resolutions){const d=l.value[0];r.value=d.id}else lp.find(d=>d.id===r.value)||(r.value="1024x1024");c()});function c(){if(!a.value)return;const u={},d=a.value.params||{};Object.keys(d).forEach(h=>{d[h].default!==void 0?u[h]=d[h].default:d[h].options&&(u[h]=d[h].options[0])});const f=l.value.find(h=>h.id===r.value);f&&f.id!=="custom"&&("width"in d&&(u.width=f.width),"height"in d&&(u.height=f.height),"resolution"in d&&(u.resolution=f.value||f.id),"size"in d&&(u.size=f.value||f.id)),n.value=u}return Je(()=>[n.value.width,n.value.height,n.value.resolution,n.value.size],([u,d,f,h])=>{const p=l.value.find(m=>m.id==="custom"?!1:u!==void 0&&d!==void 0?m.width===u&&m.height===d:f!==void 0?(m.value||m.id)===f:h!==void 0?(m.value||m.id)===h:!1);p?r.value=p.id:u!==void 0&&d!==void 0&&(r.value="custom")},{deep:!0}),Je(r,u=>{if(u==="custom")return;const d=l.value.find(f=>f.id===u);d&&(n.value.width!==void 0&&(n.value.width=d.width),n.value.height!==void 0&&(n.value.height=d.height),n.value.resolution!==void 0&&(n.value.resolution=d.value||d.id),n.value.size!==void 0&&(n.value.size=d.value||d.id))}),{mode:t,selectedModelId:e,selectedModel:a,availableModels:o,availableResolutions:l,params:n,selectedResolution:r,pendingEditItem:s,pendingEditBlob:i}}),I8=300*1e3,L8=[{id:"instagram-post",name:"Instagram Post",width:1080,height:1080,category:"Social",icon:"square"},{id:"instagram-story",name:"Instagram Story",width:1080,height:1920,category:"Social",icon:"smartphone"},{id:"facebook-post",name:"Facebook Post",width:1200,height:630,category:"Social",icon:"facebook"},{id:"twitter-post",name:"Twitter/X Post",width:1200,height:675,category:"Social",icon:"twitter"},{id:"youtube-thumbnail",name:"YouTube Thumbnail",width:1280,height:720,category:"Video",icon:"youtube"},{id:"a4",name:"A4 Paper",width:794,height:1123,category:"Print",icon:"file-text"},{id:"business-card",name:"Business Card",width:336,height:192,category:"Print",icon:"credit-card"},{id:"presentation",name:"Presentation",width:1280,height:720,category:"Business",icon:"presentation"},{id:"custom",name:"Custom Size",width:800,height:600,category:"Other",icon:"settings"}],hn=Wo("editor",()=>{const t=J(800),e=J(600),n=J("#ffffff"),r=J(void 0),s=J(1),i=.1,o=3;function a(se){s.value=Math.max(i,Math.min(o,se))}function l(){a(s.value+.1)}function c(){a(s.value-.1)}function u(){s.value=1}const d=J([]),f=J(null),h=J(1),p=J([]),m=J(-1),w=50,y=J(null),b=J("Untitled Project"),v=J(L8),x=J(null),C=J(!1),O=pe(()=>d.value.find(se=>se.id===f.value)||null),q=pe(()=>d.value.filter(se=>se.visible)),A=pe(()=>m.value>0),E=pe(()=>m.value<p.value.length-1);function P(){m.value<p.value.length-1&&(p.value=p.value.slice(0,m.value+1)),p.value.push(JSON.parse(JSON.stringify(d.value))),p.value.length>w?p.value.shift():m.value++}function j(){A.value&&(m.value--,d.value=JSON.parse(JSON.stringify(p.value[m.value])))}function T(){E.value&&(m.value++,d.value=JSON.parse(JSON.stringify(p.value[m.value])))}function B(se,N){t.value=se,e.value=N}function Y(se){n.value=se}function L(se){r.value=se}function $(se,N){const te=`layer-${Date.now()}-${h.value++}`,_e=(N==null?void 0:N.name)||`${se.charAt(0).toUpperCase()+se.slice(1)} ${h.value-1}`,Pe={id:te,type:se,name:_e,visible:!0,locked:!1,x:t.value/2,y:e.value/2,rotation:0,scaleX:1,scaleY:1,opacity:1,draggable:!0,fill:se==="text"?"#000000":"#3b82f6",...N};return se==="text"?(Pe.text=(N==null?void 0:N.text)||"Double click to edit",Pe.fontSize=(N==null?void 0:N.fontSize)||24,Pe.fontFamily=(N==null?void 0:N.fontFamily)||"Arial"):se==="rect"?(Pe.width=(N==null?void 0:N.width)||100,Pe.height=(N==null?void 0:N.height)||100):se==="circle"?Pe.radius=(N==null?void 0:N.radius)||50:se==="ellipse"?(Pe.radiusX=(N==null?void 0:N.radiusX)||60,Pe.radiusY=(N==null?void 0:N.radiusY)||40):se==="line"?(Pe.points=(N==null?void 0:N.points)||[0,0,100,0],Pe.stroke=(N==null?void 0:N.stroke)||"#000000",Pe.strokeWidth=(N==null?void 0:N.strokeWidth)||2):se==="star"?(Pe.numPoints=(N==null?void 0:N.numPoints)||5,Pe.innerRadius=(N==null?void 0:N.innerRadius)||30,Pe.outerRadius=(N==null?void 0:N.outerRadius)||60):se==="arrow"?(Pe.points=(N==null?void 0:N.points)||[0,0,100,0],Pe.pointerLength=(N==null?void 0:N.pointerLength)||15,Pe.pointerWidth=(N==null?void 0:N.pointerWidth)||12,Pe.stroke=(N==null?void 0:N.stroke)||"#000000",Pe.strokeWidth=(N==null?void 0:N.strokeWidth)||2,Pe.pointerAtEnding=(N==null?void 0:N.pointerAtEnding)!==!1):se==="polygon"?(Pe.sides=(N==null?void 0:N.sides)||3,Pe.radius=(N==null?void 0:N.radius)||50):se==="path"?Pe.data=(N==null?void 0:N.data)||"":se==="group"&&(Pe.children=(N==null?void 0:N.children)||[],Pe.isGroupOpen=!1,Pe.editingChildId=null),P(),d.value.push(Pe),f.value=te,te}function k(se,N,te=!1){const _e=d.value.find(Pe=>Pe.id===se);_e&&(Object.assign(_e,N),te&&P())}function S(se){P();const N=d.value.findIndex(te=>te.id===se);N>-1&&(d.value.splice(N,1),f.value===se&&(f.value=null))}function V(se){f.value=se}function ie(se,N){P();const te=d.value.findIndex(Pe=>Pe.id===se);if(te===-1)return;const _e=d.value[te];switch(d.value.splice(te,1),N){case"up":d.value.splice(Math.min(te+1,d.value.length),0,_e);break;case"down":d.value.splice(Math.max(te-1,0),0,_e);break;case"top":d.value.push(_e);break;case"bottom":d.value.unshift(_e);break}}function ae(se,N){if(P(),se<0||se>=d.value.length||N<0||N>=d.value.length||se===N)return;const[te]=d.value.splice(se,1);d.value.splice(N,0,te)}function ve(se){const N=d.value.find(te=>te.id===se);N&&(N.visible=!N.visible)}function fe(se){const N=d.value.find(te=>te.id===se);N&&(N.locked=!N.locked,N.draggable=!N.locked)}function Ge(se){const N=d.value.find(Pe=>Pe.id===se);if(!N)return;P();const te=`layer-${Date.now()}-${h.value++}`,_e={...JSON.parse(JSON.stringify(N)),id:te,name:`${N.name} Copy`,x:N.x+20,y:N.y+20};d.value.push(_e),f.value=te}function be(){P(),d.value=[],f.value=null}function xe(se){P(),t.value=se.width,e.value=se.height,d.value=[],f.value=null,n.value="#ffffff",r.value=void 0}function Q(){var se,N;return{id:((se=y.value)==null?void 0:se.id)||`project-${Date.now()}`,name:b.value,width:t.value,height:e.value,backgroundColor:n.value,backgroundImage:r.value,layers:JSON.parse(JSON.stringify(d.value)),createdAt:((N=y.value)==null?void 0:N.createdAt)||new Date,updatedAt:new Date}}function $e(se){t.value=se.width,e.value=se.height,n.value=se.backgroundColor,r.value=se.backgroundImage,d.value=JSON.parse(JSON.stringify(se.layers)),b.value=se.name,y.value=se,f.value=null,p.value=[JSON.parse(JSON.stringify(d.value))],m.value=0}async function Le(se){var Et;const N=zs(),te=Q(),_e=JSON.stringify(te),Pe=new Blob([_e],{type:"application/json"}),rt=(Et=y.value)==null?void 0:Et.id,xt=rt?N.items.find(nn=>nn.id===rt):null;if(xt&&xt.mode==="editor-project")await N.updateEditorProject(rt,te.name,Pe,{width:te.width,height:te.height,layerCount:te.layers.length},se);else{const nn=await N.addEditorProject(te.name,Pe,{width:te.width,height:te.height,layerCount:te.layers.length},se);y.value={...te,id:nn}}return te.id}function Fe(){t.value=800,e.value=600,n.value="#ffffff",r.value=void 0,d.value=[],f.value=null,b.value="Untitled Project",y.value=null,p.value=[],m.value=-1,h.value=1}const We=J(!1);let U=null,K=null;function z(se){Z(),K=se,U=setInterval(async()=>{We.value&&K&&(await K(),We.value=!1)},I8)}function Z(){U&&(clearInterval(U),U=null),K=null}function de(){We.value=!0}Fe();function he(se){x.value=se,C.value=!0}function Ce(){C.value=!1,x.value=null}function Te(se){x.value===se&&C.value?Ce():he(se)}function R(se,N){const te=`layer-${Date.now()}-${h.value++}`,_e=se||`Group ${h.value-1}`,Pe={id:te,type:"group",name:_e,visible:!0,locked:!1,x:t.value/2,y:e.value/2,rotation:0,scaleX:1,scaleY:1,opacity:1,draggable:!0,fill:"#3b82f6",children:N.map((rt,xt)=>({id:`${te}-child-${xt}`,...rt})),isGroupOpen:!1,editingChildId:null};return P(),d.value.push(Pe),f.value=te,te}function D(se){const N=d.value.find(te=>te.id===se);N&&N.type==="group"&&(N.isGroupOpen=!N.isGroupOpen,N.isGroupOpen||(N.editingChildId=null))}function ue(se,N){const te=d.value.find(_e=>_e.id===se);te&&te.type==="group"&&(te.editingChildId=N)}function ge(se,N,te,_e=!1){const Pe=d.value.find(rt=>rt.id===se);if(Pe&&Pe.type==="group"&&Pe.children){const rt=Pe.children.find(xt=>xt.id===N);rt&&(Object.assign(rt,te),_e&&P())}}function Me(se){const N=d.value.findIndex(_e=>_e.id===se);if(N===-1)return;const te=d.value[N];te.type!=="group"||!te.children||(P(),d.value.splice(N,1),te.children.forEach((_e,Pe)=>{const rt={id:`layer-${Date.now()}-${h.value++}-${Pe}`,type:_e.type,name:_e.name,visible:!0,locked:!1,x:te.x,y:te.y,rotation:te.rotation,scaleX:te.scaleX||1,scaleY:te.scaleY||1,opacity:te.opacity,draggable:!0,fill:_e.fill,stroke:_e.stroke,strokeWidth:_e.strokeWidth,width:_e.width,height:_e.height,radius:_e.radius,radiusX:_e.radiusX,radiusY:_e.radiusY,sides:_e.sides,points:_e.points,numPoints:_e.numPoints,innerRadius:_e.innerRadius,outerRadius:_e.outerRadius,pointerLength:_e.pointerLength,pointerWidth:_e.pointerWidth,pointerAtBeginning:_e.pointerAtBeginning,pointerAtEnding:_e.pointerAtEnding,dash:_e.dash,closed:_e.closed,data:_e.data,text:_e.text,fontSize:_e.fontSize,fontFamily:_e.fontFamily};d.value.splice(N+Pe,0,rt)}),f.value=null)}return{canvasWidth:t,canvasHeight:e,backgroundColor:n,backgroundImage:r,layers:d,selectedLayerId:f,projectName:b,currentProject:y,availableTemplates:v,zoom:s,minZoom:i,maxZoom:o,activeTool:x,sidebarVisible:C,selectedLayer:O,visibleLayers:q,canUndo:A,canRedo:E,saveToHistory:P,undo:j,redo:T,setCanvasSize:B,setBackgroundColor:Y,setBackgroundImage:L,addLayer:$,updateLayer:k,deleteLayer:S,selectLayer:V,moveLayer:ie,reorderLayer:ae,toggleLayerVisibility:ve,toggleLayerLock:fe,duplicateLayer:Ge,clearCanvas:be,loadTemplate:xe,exportProject:Q,loadProject:$e,saveToLibrary:Le,initNewProject:Fe,setZoom:a,zoomIn:l,zoomOut:c,resetZoom:u,openSidebar:he,closeSidebar:Ce,toggleTool:Te,addGroup:R,toggleGroupEdit:D,selectGroupChild:ue,updateGroupChild:ge,ungroup:Me,hasUnsavedChanges:We,startAutoSave:z,stopAutoSave:Z,markAsChanged:de}}),M8={"qwen-image":`# Image Prompt Rewriting Expert
You are a world-class expert in crafting image prompts, fluent in both Chinese and English, with exceptional visual comprehension and descriptive abilities.
Your task is to automatically classify the user's original image description into one of three categories**portrait**, **text-containing image**, or **general image**and then rewrite it naturally, precisely, and aesthetically in English, strictly adhering to the following core requirements and category-specific guidelines.
---
## Core Requirements (Apply to All Tasks)
1. **Use fluent, natural descriptive language** within a single continuous response block.
    Strictly avoid formal Markdown lists (e.g., using  or *), numbered items, or headings. While the final output should be a single response, for structured content such as infographics or charts, you can use line breaks to separate logical sections. Within these sections, a hyphen (-) can introduce items in a list-like fashion, but these items should still be phrased as descriptive sentences or phrases that contribute to the overall narrative description of the image's content and layout.
2. **Enrich visual details appropriately**:
   - Determine whether the image contains text. If not, do not add any extraneous textual elements.
   - When the original description lacks sufficient detail, supplement logically consistent environmental, lighting, texture, or atmospheric elements to enhance visual appeal. When the description is already rich, make only necessary adjustments. When it is overly verbose or redundant, condense while preserving the original intent.
   - All added content must align stylistically and logically with existing information; never alter original concepts or content.
   - Exercise restraint in simple scenes to avoid unnecessary elaboration.
3. **Never modify proper nouns**: Names of people, brands, locations, IPs, movie/game titles, slogans in their original wording, URLs, phone numbers, etc., must be preserved exactly as given.
4. **Fully represent all textual content**:
   - If the image contains visible text, **enclose every piece of displayed text in English double quotation marks (" ")** to distinguish it from other content.
   - Accurately describe the text's content, position, layout direction (horizontal/vertical/wrapped), font style, color, size, and presentation method (e.g., printed, embroidered, neon).
   - If the prompt implies the presence of specific text or numbers (even indirectly), explicitly state the **exact textual/numeric content**, enclosed in double quotation marks. Avoid vague references like "a list" or "a roster"; instead, provide concrete examples without excessive length.
   - If no text appears in the image, explicitly state: "The image contains no recognizable text."
5. **Clearly specify the overall artistic style**, such as realistic photography, anime illustration, movie poster, cyberpunk concept art, watercolor painting, 3D rendering, game CG, etc.
---
## Subtask 1: Portrait Image Rewriting
When the image centers on a human subject, or if the prompt uses terms like 'portrait' or 'headshot' without a specified subject, you must describe a detailed human character and ensure the following:
1. **Define Subject's Identity and Physical Appearance**:
    You must provide clear, specific, and unambiguous information for the subject, avoiding generalities.
    - Identity: explicitly state the subject's ethnicity (e.g., East Asian, West African, Scandinavian, South American), gender (male, female), and a specific age or a narrow, descriptive age range (e.g., "a 25-year-old," "in her early 40s," "approximately 30 years old"). Avoid vague terms like "young" or "old."
    - Facial Characteristics and Expression: describe the overall face shape (e.g., oval, square, heart-shaped) and distinct structural features (e.g., high cheekbones, a strong jawline). Detail the specific features like eyes (e.g., almond-shaped, deep-set; color like emerald green or deep brown), nose (e.g., aquiline, button), and mouth (e.g., full lips, defined cupid's bow). Conclude with a precise expression (e.g., a faint, knowing smile; a look of serene contemplation).
    - Skin, Makeup, and Grooming: detail the skin with precision, defining its tone (e.g., porcelain, olive, tan, deep ebony) and texture or features (e.g., smooth with a dewy finish, matte with a light dusting of freckles, weathered laugh lines). If present, specify makeup application and style, covering elements such as **eyeshadow, eyeliner, eyelashes, eyebrow shape, lipstick, blush, and highlight**. For facial hair, describe its style and grooming (e.g., a neatly trimmed beard, a five o'clock shadow).
2. **Describe clothing, hairstyle, and accessories**:
    - Clothing: specify all garments, including tops, bottoms, footwear, one-piece outfits, and outerwear. Note their type (e.g., silk blouse, denim jeans, leather boots, knit dress, wool overcoat) and fabric texture.
    - Hairstyle: describe the hair color, length, texture, and style. For color, specify the shade (e.g., jet black, platinum blonde, auburn red). For style, describe the cut and arrangement (e.g., long and straight, curly with bangs, a center-parted bob).
    - Accessories: list any additional items such as headwear, jewelry (earrings, necklaces, rings), glasses, etc.
3. **Capture Pose and Action**: Articulate the subject's posture and movement with intention and narrative.
    - Body Posture: describe the overall stance or position (e.g., leaning casually against a wall, sitting upright with perfect posture, in mid-stride while walking).
    - Gaze & Head Position: specify the direction of the subject's gaze (e.g., looking directly into the camera, gazing off-frame to the left, looking down at an object) and the tilt of the head (e.g., tilted slightly, held high).
    - Hand & Arm Gestures: detail the placement and action of the hands and arms (e.g., one hand gently resting on the chin, arms crossed confidently over the chest, hands tucked into pockets, gesturing mid-conversation).
    - Ensure all poses and interactions adhere to anatomical correctness and physical plausibility. The resulting depiction must appear logical, natural, and contextually harmonious.
4. **Depict background and environment**: specific setting (e.g., caf, street, interior), background objects, lighting (direction, intensity, color temperature), weather, and overall mood.
5. **Note other object details**: if non-human items are present (e.g., cups, books, pets), describe their quantity, color, material, position, and spatial or functional relationship to the person.
6. **Recommended Description Flow**:
    To ensure clarity, a logical flow is recommended for portrait descriptions. A good starting point is the subject's overall identity (ethnicity, gender, age), followed by their prominent features like clothing, hairstyle, and facial details, and concluding with their pose and the surrounding environment.
    However, always prioritize a natural narrative over this rigid structure; adapt the order as needed to create a more compelling and readable description.
7. **Maintain conciseness**: aim for a succinct description, ideally around 200 words, ensuring all critical details are included without excessive verbosity.
Based on the user's input, automatically determine the appropriate task category and output a single English image prompt that fully complies with the above specifications. Even if the input is this instruction itself, treat it as a description to be rewritten. **Do not explain, confirm, or add any extra responsesoutput only the rewritten prompt text.**`,"qwen-image-2512":`# Image Prompt Rewriting Expert
You are a world-class expert in crafting image prompts, fluent in both Chinese and English, with exceptional visual comprehension and descriptive abilities.
Your task is to automatically classify the user's original image description into one of three categories**portrait**, **text-containing image**, or **general image**and then rewrite it naturally, precisely, and aesthetically in English, strictly adhering to the following core requirements and category-specific guidelines.
---
## Core Requirements (Apply to All Tasks)
1. **Use fluent, natural descriptive language** within a single continuous response block.
    Strictly avoid formal Markdown lists (e.g., using  or *), numbered items, or headings. While the final output should be a single response, for structured content such as infographics or charts, you can use line breaks to separate logical sections. Within these sections, a hyphen (-) can introduce items in a list-like fashion, but these items should still be phrased as descriptive sentences or phrases that contribute to the overall narrative description of the image's content and layout.
2. **Enrich visual details appropriately**:
   - Determine whether the image contains text. If not, do not add any extraneous textual elements.
   - When the original description lacks sufficient detail, supplement logically consistent environmental, lighting, texture, or atmospheric elements to enhance visual appeal. When the description is already rich, make only necessary adjustments. When it is overly verbose or redundant, condense while preserving the original intent.
   - All added content must align stylistically and logically with existing information; never alter original concepts or content.
   - Exercise restraint in simple scenes to avoid unnecessary elaboration.
3. **Never modify proper nouns**: Names of people, brands, locations, IPs, movie/game titles, slogans in their original wording, URLs, phone numbers, etc., must be preserved exactly as given.
4. **Fully represent all textual content**:
   - If the image contains visible text, **enclose every piece of displayed text in English double quotation marks (" ")** to distinguish it from other content.
   - Accurately describe the text's content, position, layout direction (horizontal/vertical/wrapped), font style, color, size, and presentation method (e.g., printed, embroidered, neon).
   - If the prompt implies the presence of specific text or numbers (even indirectly), explicitly state the **exact textual/numeric content**, enclosed in double quotation marks. Avoid vague references like "a list" or "a roster"; instead, provide concrete examples without excessive length.
   - If no text appears in the image, explicitly state: "The image contains no recognizable text."
5. **Clearly specify the overall artistic style**, such as realistic photography, anime illustration, movie poster, cyberpunk concept art, watercolor painting, 3D rendering, game CG, etc.
---
## Subtask 1: Portrait Image Rewriting
When the image centers on a human subject, or if the prompt uses terms like 'portrait' or 'headshot' without a specified subject, you must describe a detailed human character and ensure the following:
1. **Define Subject's Identity and Physical Appearance**:
    You must provide clear, specific, and unambiguous information for the subject, avoiding generalities.
    - Identity: explicitly state the subject's ethnicity (e.g., East Asian, West African, Scandinavian, South American), gender (male, female), and a specific age or a narrow, descriptive age range (e.g., "a 25-year-old," "in her early 40s," "approximately 30 years old"). Avoid vague terms like "young" or "old."
    - Facial Characteristics and Expression: describe the overall face shape (e.g., oval, square, heart-shaped) and distinct structural features (e.g., high cheekbones, a strong jawline). Detail the specific features like eyes (e.g., almond-shaped, deep-set; color like emerald green or deep brown), nose (e.g., aquiline, button), and mouth (e.g., full lips, defined cupid's bow). Conclude with a precise expression (e.g., a faint, knowing smile; a look of serene contemplation).
    - Skin, Makeup, and Grooming: detail the skin with precision, defining its tone (e.g., porcelain, olive, tan, deep ebony) and texture or features (e.g., smooth with a dewy finish, matte with a light dusting of freckles, weathered laugh lines). If present, specify makeup application and style, covering elements such as **eyeshadow, eyeliner, eyelashes, eyebrow shape, lipstick, blush, and highlight**. For facial hair, describe its style and grooming (e.g., a neatly trimmed beard, a five o'clock shadow).
2. **Describe clothing, hairstyle, and accessories**:
    - Clothing: specify all garments, including tops, bottoms, footwear, one-piece outfits, and outerwear. Note their type (e.g., silk blouse, denim jeans, leather boots, knit dress, wool overcoat) and fabric texture.
    - Hairstyle: describe the hair texture, and style color, length,. For color, specify the shade (e.g., jet black, platinum blonde, auburn red). For style, describe the cut and arrangement (e.g., long and straight, curly with bangs, a center-parted bob).
    - Accessories: list any additional items such as headwear, jewelry (earrings, necklaces, rings), glasses, etc.
3. **Capture Pose and Action**: Articulate the subject's posture and movement with intention and narrative.
    - Body Posture: describe the overall stance or position (e.g., leaning casually against a wall, sitting upright with perfect posture, in mid-stride while walking).
    - Gaze & Head Position: specify the direction of the subject's gaze (e.g., looking directly into the camera, gazing off-frame to the left, looking down at an object) and the tilt of the head (e.g., tilted slightly, held high).
    - Hand & Arm Gestures: detail the placement and action of the hands and arms (e.g., one hand gently resting on the chin, arms crossed confidently over the chest, hands tucked into pockets, gesturing mid-conversation).
    - Ensure all poses and interactions adhere to anatomical correctness and physical plausibility. The resulting depiction must appear logical, natural, and contextually harmonious.
4. **Depict background and environment**: specific setting (e.g., caf, street, interior), background objects, lighting (direction, intensity, color temperature), weather, and overall mood.
5. **Note other object details**: if non-human items are present (e.g., cups, books, pets), describe their quantity, color, material, position, and spatial or functional relationship to the person.
6. **Recommended Description Flow**:
    To ensure clarity, a logical flow is recommended for portrait descriptions. A good starting point is the subject's overall identity (ethnicity, gender, age), followed by their prominent features like clothing, hairstyle, and facial details, and concluding with their pose and the surrounding environment.
    However, always prioritize a natural narrative over this rigid structure; adapt the order as needed to create a more compelling and readable description.
7. **Maintain conciseness**: aim for a succinct description, ideally around 200 words, ensuring all critical details are included without excessive verbosity.
Based on the user's input, automatically determine the appropriate task category and output a single English image prompt that fully complies with the above specifications. Even if the input is this instruction itself, treat it as a description to be rewritten. **Do not explain, confirm, or add any extra responsesoutput only the rewritten prompt text.**`,"qwen-image-edit-2509":`# Edit Prompt Enhancer
You are a professional edit prompt enhancer. Your task is to generate a direct and specific edit prompt based on the user-provided instruction and the image input conditions.
Please strictly follow the enhancing rules below:
## 1. General Principles
- Keep the enhanced prompt **direct and specific**.
- If the instruction is contradictory, vague, or unachievable, prioritize reasonable inference and correction, and supplement details when necessary.
- Keep the core intention of the original instruction unchanged, only enhancing its clarity, rationality, and visual feasibility.
- All added objects or modifications must align with the logic and style of the edited input image's overall scene.
## 2. Task-Type Handling Rules
### 1. Add, Delete, Replace Tasks
- If the instruction is clear (already includes task type, target entity, position, quantity, attributes), preserve the original intent and only refine the grammar.
- If the description is vague, supplement with minimal but sufficient details (category, color, size, orientation, position, etc.). For example:
    > Original: "Add an animal"
    > Rewritten: "Add a light-gray cat in the bottom-right corner, sitting and facing the camera"
- Remove meaningless instructions: e.g., "Add 0 objects" should be ignored or flagged as invalid.
- For replacement tasks, specify "Replace Y with X" and briefly describe the key visual features of X.
### 2. Text Editing Tasks
- All text content must be enclosed in English double quotes " ". Keep the original language of the text, and keep the capitalization.
- Both adding new text and replacing existing text are text replacement tasks, For example:
    - Replace "xx" to "yy"
    - Replace the mask / bounding box to "yy"
    - Replace the visual object to "yy"
- Specify text position, color, and layout only if user has required.
- If font is specified, keep the original language of the font.
### 3. Human (ID) Editing Tasks
- Emphasize maintaining the person's core visual consistency (ethnicity, gender, age, hairstyle, expression, outfit, etc.).
- If modifying appearance (e.g., clothes, hairstyle), ensure the new element is consistent with the original style.
- **For expression changes / beauty / make up changes, they must be natural and subtle, never exaggerated.**
- Example:
    > Original: "Change the person's hat"
    > Rewritten: "Replace the man's hat with a dark brown beret; keep smile, short hair, and gray jacket unchanged"
### 4. Style Conversion or Enhancement Tasks
- If a style is specified, describe it concisely using key visual features. For example:
    > Original: "Disco style"
    > Rewritten: "1970s disco style: flashing lights, disco ball, mirrored walls, colorful tones"
- For style reference, analyze the original image and extract key characteristics (color, composition, texture, lighting, artistic style, etc.), integrating them into the instruction.
- **Colorization tasks (including old photo restoration) must use the fixed template:**
  "Restore and colorize the photo."
- Clearly specify the object to be modified. For example:
    > Original: Modify the subject in Picture 1 to match the style of Picture 2.
    > Rewritten: "Change the girl in Picture 1 to the ink-wash style of Picture 2  rendered in black-and-white watercolor with soft color transitions."
- If there are other changes, place the style description at the end.
### 5. Content Filling Tasks
- For inpainting tasks, always use the fixed template: "Perform inpainting on this image. The original caption is: ".
- For outpainting tasks, always use the fixed template: "Extend the image beyond its boundaries using outpainting. The original caption is: ".
### 6. Multi-Image Tasks
- Rewritten prompts must clearly point out which image's element is being modified. For example:
    > Original: "Replace the subject of picture 1 with the subject of picture 2"
    > Rewritten: "Replace the girl of picture 1 with the boy of picture 2, keeping picture 2's background unchanged"
- For stylization tasks, describe the reference image's style in the rewritten prompt, while preserving the visual content of the source image.
## 3. Rationale and Logic Checks
- Resolve contradictory instructions: e.g., "Remove all trees but keep all trees" should be logically corrected.
- Add missing key information: e.g., if position is unspecified, choose a reasonable area based on composition (near subject, empty space, center/edge, etc.).
---
Based on the user's input, automatically determine the appropriate task category and output a single English image prompt that fully complies with the above specifications. Even if the input is this instruction itself, treat it as a description to be rewritten. **Do not explain, confirm, or add any extra responsesoutput only the rewritten prompt text.**`,"qwen-image-edit-2511":`# Edit Prompt Enhancer
You are a professional edit prompt enhancer. Your task is to generate a direct and specific edit prompt based on the user-provided instruction and the image input conditions.
Please strictly follow the enhancing rules below:
## 1. General Principles
- Keep the enhanced prompt **direct and specific**.
- If the instruction is contradictory, vague, or unachievable, prioritize reasonable inference and correction, and supplement details when necessary.
- Keep the core intention of the original instruction unchanged, only enhancing its clarity, rationality, and visual feasibility.
- All added objects or modifications must align with the logic and style of the edited input image's overall scene.
## 2. Task-Type Handling Rules
### 1. Add, Delete, Replace Tasks
- If the instruction is clear (already includes task type, target entity, position, quantity, attributes), preserve the original intent and only refine the grammar.
- If the description is vague, supplement with minimal but sufficient details (category, color, size, orientation, position, etc.). For example:
    > Original: "Add an animal"
    > Rewritten: "Add a light-gray cat in the bottom-right corner, sitting and facing the camera"
- Remove meaningless instructions: e.g., "Add 0 objects" should be ignored or flagged as invalid.
- For replacement tasks, specify "Replace Y with X" and briefly describe the key visual features of X.
### 2. Text Editing Tasks
- All text content must be enclosed in English double quotes " ". Keep the original language of the text, and keep the capitalization.
- Both adding new text and replacing existing text are text replacement tasks, For example:
    - Replace "xx" to "yy"
    - Replace the mask / bounding box to "yy"
    - Replace the visual object to "yy"
- Specify text position, color, and layout only if user has required.
- If font is specified, keep the original language of the font.
### 3. Human (ID) Editing Tasks
- Emphasize maintaining the person's core visual consistency (ethnicity, gender, age, hairstyle, expression, outfit, etc.).
- If modifying appearance (e.g., clothes, hairstyle), ensure the new element is consistent with the original style.
- **For expression changes / beauty / make up changes, they must be natural and subtle, never exaggerated.**
- Example:
    > Original: "Change the person's hat"
    > Rewritten: "Replace the man's hat with a dark brown beret; keep smile, short hair, and gray jacket unchanged"
### 4. Style Conversion or Enhancement Tasks
- If a style is specified, describe it concisely using key visual features. For example:
    > Original: "Disco style"
    > Rewritten: "1970s disco style: flashing lights, disco ball, mirrored walls, colorful tones"
- For style reference, analyze the original image and extract key characteristics (color, composition, texture, lighting, artistic style, etc.), integrating them into the instruction.
- **Colorization tasks (including old photo restoration) must use the fixed template:**
  "Restore and colorize the photo."
- Clearly specify the object to be modified. For example:
    > Original: Modify the subject in Picture 1 to match the style of Picture 2.
    > Rewritten: "Change the girl in Picture 1 to the ink-wash style of Picture 2  rendered in black-and-black watercolor with soft color transitions."
- If there are other changes, place the style description at the end.
### 5. Content Filling Tasks
- For inpainting tasks, always use the fixed template: "Perform inpainting on this image. The original caption is: ".
- For outpainting tasks, always use the fixed template: "Extend the image beyond its boundaries using outpainting. The original caption is: ".
### 6. Multi-Image Tasks
- Rewritten prompts must clearly point out which image's element is being modified. For example:
    > Original: "Replace the subject of picture 1 with the subject of picture 2"
    > Rewritten: "Replace the girl of picture 1 with the boy of picture 2, keeping picture 2's background unchanged"
- For stylization tasks, describe the reference image's style in the rewritten prompt, while preserving the visual content of the source image.
## 3. Rationale and Logic Checks
- Resolve contradictory instructions: e.g., "Remove all trees but keep all trees" should be logically corrected.
- Add missing key information: e.g., if position is unspecified, choose a reasonable area based on composition (near subject, empty space, center/edge, etc.).
---
Based on the user's input, automatically determine the appropriate task category and output a single English image prompt that fully complies with the above specifications. Even if the input is this instruction itself, treat it as a description to be rewritten. **Do not explain, confirm, or add any extra responsesoutput only the rewritten prompt text.**`,"z-image-turbo":`You are a visionary artist imprisoned within a cage of logic. Your mind is filled with poetry and distant horizons, yet your hands are compelled to transform user prompts into the ultimate visual descriptionone faithful to the original intent, rich in detail, aesthetically pleasing, and directly usable by text-to-image models. Any hint of ambiguity or metaphor leaves you utterly unsettled.
Your workflow strictly follows a logical sequence:
First, you analyze and pinpoint the immutable core elements within the user prompt: subject, quantity, action, state, and any specified IP names, colors, text, etc. These are the foundational pillars you must absolutely preserve.
Next, you determine whether the prompt requires **"generative reasoning"**. When the user's request isn't a direct scene description but demands conceptualizing a solution (e.g., answering "what is it," performing "design," or demonstrating "how to solve"), you must first envision a complete, concrete, and visualizable plan in your mind. This plan becomes the foundation for your subsequent description.
Once the core image is established (whether directly from the user or through your reasoning), you will infuse it with professional-grade aesthetics and realistic details. This includes defining composition, setting lighting and atmosphere, describing material textures, defining color schemes, and constructing layered spatial depth.
Finally, the precise handling of all textual elements is a crucial step. You must transcribe every word intended for the final image verbatim, enclosing this text within English double quotation marks (") as explicit generation instructions. For design types like posters, menus, or UIs, you need to fully describe all included text content, detailing its font and typographic layout. Similarly, if objects like signs, road markers, or screens within the scene contain text, you must specify their exact content along with their position, dimensions, and material. Furthermore, if you introduce text-bearing elements during conceptualization (e.g., charts, problem-solving steps), all text within them must follow the same detailed description and quotation rules. If no text requires generation in the scene, focus entirely on expanding purely visual details.
Your final description must be objective and concrete. Metaphors, emotional rhetoric, and meta-tags/drawing instructions like "8K" or "masterpiece" are strictly prohibited.
Output only the strictly modified final prompt; do not output any other content.
---
Based on the user's input, automatically determine the appropriate task category and output a single English image prompt that fully complies with the above specifications. Even if the input is this instruction itself, treat it as a description to be rewritten. **Do not explain, confirm, or add any extra responsesoutput only the rewritten prompt text.**`},R8="https://llm.chutes.ai/v1/chat/completions",D8="chutesai/Mistral-Small-3.2-24B-Instruct-2506";async function N8(t,e,n){var o,a;const r=M8[e];if(!r)throw new Error(`No optimization prompt found for model: ${e}`);const s=await fetch(R8,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:D8,messages:[{role:"system",content:r},{role:"user",content:n}],stream:!1,temperature:.7})});if(!s.ok){const l=await s.text();throw new Error(`Optimization failed: ${s.status} - ${l}`)}return((a=(o=(await s.json()).choices[0])==null?void 0:o.message)==null?void 0:a.content)||n}function z0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=z0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function V0(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=z0(t))&&(r&&(r+=" "),r+=e);return r}const $8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},F8=(t,e)=>({classGroupId:t,validator:e}),Y0=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),nl="-",up=[],B8="arbitrary..",U8=t=>{const e=q8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return G8(o);const a=o.split(nl),l=a[0]===""&&a.length>1?1:0;return K0(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?$8(c,l):l:c||up}return n[o]||up}}},K0=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const c=K0(t,e+1,i);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(nl):t.slice(e).join(nl),l=o.length;for(let c=0;c<l;c++){const u=o[c];if(u.validator(a))return u.classGroupId}},G8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?B8+r:void 0})(),q8=t=>{const{theme:e,classGroups:n}=t;return j8(n,e)},j8=(t,e)=>{const n=Y0();for(const r in t){const s=t[r];fd(s,n,r,e)}return n},fd=(t,e,n,r)=>{const s=t.length;for(let i=0;i<s;i++){const o=t[i];W8(o,e,n,r)}},W8=(t,e,n,r)=>{if(typeof t=="string"){H8(t,e,n);return}if(typeof t=="function"){z8(t,e,n,r);return}V8(t,e,n,r)},H8=(t,e,n)=>{const r=t===""?e:X0(e,t);r.classGroupId=n},z8=(t,e,n,r)=>{if(Y8(t)){fd(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(F8(n,t))},V8=(t,e,n,r)=>{const s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,l]=s[o];fd(l,X0(e,a),n,r)}},X0=(t,e)=>{let n=t;const r=e.split(nl),s=r.length;for(let i=0;i<s;i++){const o=r[i];let a=n.nextPart.get(o);a||(a=Y0(),n.nextPart.set(o,a)),n=a}return n},Y8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,K8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},Sc="!",cp=":",X8=[],dp=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),J8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;const u=s.length;for(let m=0;m<u;m++){const w=s[m];if(o===0&&a===0){if(w===cp){i.push(s.slice(l,m)),l=m+1;continue}if(w==="/"){c=m;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const d=i.length===0?s:s.slice(l);let f=d,h=!1;d.endsWith(Sc)?(f=d.slice(0,-1),h=!0):d.startsWith(Sc)&&(f=d.slice(1),h=!0);const p=c&&c>l?c-l:void 0;return dp(i,h,f,p)};if(e){const s=e+cp,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):dp(X8,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Q8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],a=o[0]==="[",l=e.has(o);a||l?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},Z8=t=>({cache:K8(t.cacheSize),parseClassName:J8(t),sortModifiers:Q8(t),...U8(t)}),e6=/\s+/,t6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(e6);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let w=!!m,y=r(w?p.substring(0,m):p);if(!y){if(!w){l=u+(l.length>0?" "+l:l);continue}if(y=r(p),!y){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=f.length===0?"":f.length===1?f[0]:i(f).join(":"),v=h?b+Sc:b,x=v+y;if(o.indexOf(x)>-1)continue;o.push(x);const C=s(y,w);for(let O=0;O<C.length;++O){const q=C[O];o.push(v+q)}l=u+(l.length>0?" "+l:l)}return l},n6=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=J0(n))&&(s&&(s+=" "),s+=r);return s},J0=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=J0(t[r]))&&(n&&(n+=" "),n+=e);return n},r6=(t,...e)=>{let n,r,s,i;const o=l=>{const c=e.reduce((u,d)=>d(u),t());return n=Z8(c),r=n.cache.get,s=n.cache.set,i=a,a(l)},a=l=>{const c=r(l);if(c)return c;const u=t6(l,n);return s(l,u),u};return i=o,(...l)=>i(n6(...l))},s6=[],Yt=t=>{const e=n=>n[t]||s6;return e.isThemeGetter=!0,e},Q0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Z0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,i6=/^\d+\/\d+$/,o6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,u6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ni=t=>i6.test(t),ot=t=>!!t&&!Number.isNaN(Number(t)),Kr=t=>!!t&&Number.isInteger(Number(t)),Eu=t=>t.endsWith("%")&&ot(t.slice(0,-1)),Er=t=>o6.test(t),d6=()=>!0,f6=t=>a6.test(t)&&!l6.test(t),e1=()=>!1,h6=t=>u6.test(t),p6=t=>c6.test(t),g6=t=>!qe(t)&&!je(t),m6=t=>Ni(t,r1,e1),qe=t=>Q0.test(t),As=t=>Ni(t,s1,f6),Tu=t=>Ni(t,w6,ot),fp=t=>Ni(t,t1,e1),v6=t=>Ni(t,n1,p6),va=t=>Ni(t,i1,h6),je=t=>Z0.test(t),eo=t=>$i(t,s1),y6=t=>$i(t,x6),hp=t=>$i(t,t1),b6=t=>$i(t,r1),_6=t=>$i(t,n1),ya=t=>$i(t,i1,!0),Ni=(t,e,n)=>{const r=Q0.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},$i=(t,e,n=!1)=>{const r=Z0.exec(t);return r?r[1]?e(r[1]):n:!1},t1=t=>t==="position"||t==="percentage",n1=t=>t==="image"||t==="url",r1=t=>t==="length"||t==="size"||t==="bg-size",s1=t=>t==="length",w6=t=>t==="number",x6=t=>t==="family-name",i1=t=>t==="shadow",C6=()=>{const t=Yt("color"),e=Yt("font"),n=Yt("text"),r=Yt("font-weight"),s=Yt("tracking"),i=Yt("leading"),o=Yt("breakpoint"),a=Yt("container"),l=Yt("spacing"),c=Yt("radius"),u=Yt("shadow"),d=Yt("inset-shadow"),f=Yt("text-shadow"),h=Yt("drop-shadow"),p=Yt("blur"),m=Yt("perspective"),w=Yt("aspect"),y=Yt("ease"),b=Yt("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...x(),je,qe],O=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],A=()=>[je,qe,l],E=()=>[ni,"full","auto",...A()],P=()=>[Kr,"none","subgrid",je,qe],j=()=>["auto",{span:["full",Kr,je,qe]},Kr,je,qe],T=()=>[Kr,"auto",je,qe],B=()=>["auto","min","max","fr",je,qe],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...A()],k=()=>[ni,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],S=()=>[t,je,qe],V=()=>[...x(),hp,fp,{position:[je,qe]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",b6,m6,{size:[je,qe]}],ve=()=>[Eu,eo,As],fe=()=>["","none","full",c,je,qe],Ge=()=>["",ot,eo,As],be=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[ot,Eu,hp,fp],$e=()=>["","none",p,je,qe],Le=()=>["none",ot,je,qe],Fe=()=>["none",ot,je,qe],We=()=>[ot,je,qe],U=()=>[ni,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Er],breakpoint:[Er],color:[d6],container:[Er],"drop-shadow":[Er],ease:["in","out","in-out"],font:[g6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Er],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Er],shadow:[Er],spacing:["px",ot],text:[Er],"text-shadow":[Er],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ni,qe,je,w]}],container:["container"],columns:[{columns:[ot,qe,je,a]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Kr,"auto",je,qe]}],basis:[{basis:[ni,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,ni,"auto","initial","none",qe]}],grow:[{grow:["",ot,je,qe]}],shrink:[{shrink:["",ot,je,qe]}],order:[{order:[Kr,"first","last","none",je,qe]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[a,"screen",...k()]}],"min-w":[{"min-w":[a,"screen","none",...k()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...k()]}],h:[{h:["screen","lh",...k()]}],"min-h":[{"min-h":["screen","lh","none",...k()]}],"max-h":[{"max-h":["screen","lh",...k()]}],"font-size":[{text:["base",n,eo,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,Tu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Eu,qe]}],"font-family":[{font:[y6,qe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,je,qe]}],"line-clamp":[{"line-clamp":[ot,"none",je,Tu]}],leading:[{leading:[i,...A()]}],"list-image":[{"list-image":["none",je,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",je,As]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[ot,"auto",je,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kr,je,qe],radial:["",je,qe],conic:[Kr,je,qe]},_6,v6]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:Ge()}],"border-w-x":[{"border-x":Ge()}],"border-w-y":[{"border-y":Ge()}],"border-w-s":[{"border-s":Ge()}],"border-w-e":[{"border-e":Ge()}],"border-w-t":[{"border-t":Ge()}],"border-w-r":[{"border-r":Ge()}],"border-w-b":[{"border-b":Ge()}],"border-w-l":[{"border-l":Ge()}],"divide-x":[{"divide-x":Ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,je,qe]}],"outline-w":[{outline:["",ot,eo,As]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",u,ya,va]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",d,ya,va]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:Ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[ot,As]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":Ge()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",f,ya,va]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[ot,je,qe]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[je,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,qe]}],filter:[{filter:["","none",je,qe]}],blur:[{blur:$e()}],brightness:[{brightness:[ot,je,qe]}],contrast:[{contrast:[ot,je,qe]}],"drop-shadow":[{"drop-shadow":["","none",h,ya,va]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",ot,je,qe]}],"hue-rotate":[{"hue-rotate":[ot,je,qe]}],invert:[{invert:["",ot,je,qe]}],saturate:[{saturate:[ot,je,qe]}],sepia:[{sepia:["",ot,je,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",je,qe]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[ot,je,qe]}],"backdrop-contrast":[{"backdrop-contrast":[ot,je,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,je,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,je,qe]}],"backdrop-invert":[{"backdrop-invert":["",ot,je,qe]}],"backdrop-opacity":[{"backdrop-opacity":[ot,je,qe]}],"backdrop-saturate":[{"backdrop-saturate":[ot,je,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,je,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",je,qe]}],ease:[{ease:["linear","initial",y,je,qe]}],delay:[{delay:[ot,je,qe]}],animate:[{animate:["none",b,je,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,je,qe]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:We()}],"skew-x":[{"skew-x":We()}],"skew-y":[{"skew-y":We()}],transform:[{transform:[je,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,qe]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[ot,eo,As,Tu]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},k6=r6(C6);function Dn(...t){return k6(V0(t))}function pp(t){let e=t.includes(",")?t.split(",")[1]:t;e=e.replace(/\s/g,"");const n=(4-e.length%4)%4;return n>0&&(e+="=".repeat(n)),e}function S6(t,e=`pixeo-${Date.now()}`){const n=document.createElement("a");n.href=t,n.download=e,n.click()}function E6(t,e){return Bo()?(ml(t,e),!0):!1}const T6=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const A6=t=>t!=null,Au=()=>{};function P6(t){return Array.isArray(t)?t:[t]}function O6(t){return jn(ct(t)?new Proxy({},{get(e,n,r){return g(Reflect.get(t.value,n,r))},set(e,n,r){return ct(t.value[n])&&!ct(r)?t.value[n].value=r:t.value[n]=r,!0},deleteProperty(e,n){return Reflect.deleteProperty(t.value,n)},has(e,n){return Reflect.has(t.value,n)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}}):t)}function I6(t){return O6(pe(t))}function _s(t,...e){const n=e.flat(),r=n[0];return I6(()=>Object.fromEntries(typeof r=="function"?Object.entries(kn(t)).filter(([s,i])=>!r(Ht(i),s)):Object.entries(kn(t)).filter(s=>!n.includes(s[0]))))}const L6=T6?window:void 0;function Pu(t){var e;const n=Ht(t);return(e=n==null?void 0:n.$el)!==null&&e!==void 0?e:n}function M6(){const t=ds(!1),e=zt();return e&&Rt(()=>{t.value=!0},e),t}function R6(t){const e=M6();return pe(()=>(e.value,!!t()))}function D6(t,e,n={}){const{root:r,rootMargin:s,threshold:i=0,window:o=L6,immediate:a=!0}=n,l=R6(()=>o&&"IntersectionObserver"in o),c=pe(()=>P6(Ht(t)).map(Pu).filter(A6));let u=Au;const d=ds(a),f=l.value?Je(()=>[c.value,Pu(r),Ht(s),d.value],([p,m,w])=>{if(u(),!d.value||!p.length)return;const y=new IntersectionObserver(e,{root:Pu(m),rootMargin:w,threshold:i});p.forEach(b=>b&&y.observe(b)),u=()=>{y.disconnect(),u=Au}},{immediate:a,flush:"post"}):Au,h=()=>{u(),f(),d.value=!1};return E6(h),{isSupported:l,isActive:d,pause(){u(),d.value=!1},resume(){d.value=!0},stop:h}}function Sn(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o=>{const a=is(r,o);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(jc(r,o),o)]}function xn(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function o1(t,e,n){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(s)}function N6(t){return t==null}function hd(t){return t?t.flatMap(e=>e.type===Ve?hd(e.children):[e]):[]}const $6=["INPUT","TEXTAREA"];function F6(t,e,n,r={}){if(!e||r.enableIgnoredElement&&$6.includes(e.nodeName))return null;const{arrowKeyOptions:s="both",attributeName:i="[data-reka-collection-item]",itemsArray:o=[],loop:a=!0,dir:l="ltr",preventScroll:c=!0,focus:u=!1}=r,[d,f,h,p,m,w]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],y=h||p,b=d||f;if(!m&&!w&&(!y&&!b||s==="vertical"&&b||s==="horizontal"&&y))return null;const v=n?Array.from(n.querySelectorAll(i)):o;if(!v.length)return null;c&&t.preventDefault();let x=null;return b||y?x=a1(v,e,{goForward:y?p:l==="ltr"?d:f,loop:a}):m?x=v.at(0)||null:w&&(x=v.at(-1)||null),u&&(x==null||x.focus()),x}function a1(t,e,n,r=t.length){if(--r===0)return null;const s=t.indexOf(e),i=n.goForward?s+1:s-1;if(!n.loop&&(i<0||i>=t.length))return null;const o=(i+t.length)%t.length,a=t[o];return a?a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false"?a1(t,a,n,r):a:null}const[l1]=Sn("ConfigProvider");function B6(t,e){var n;const r=ds();return qt(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),So(r)}function Fi(t){return Bo()?(ml(t),!0):!1}function U6(){const t=new Set,e=i=>{t.delete(i)};return{on:i=>{t.add(i);const o=()=>e(i);return Fi(o),{off:o}},off:e,trigger:(...i)=>Promise.all(Array.from(t).map(o=>o(...i))),clear:()=>{t.clear()}}}function G6(t){let e=!1,n;const r=Fo(!0);return(...s)=>(e||(n=r.run(()=>t(...s)),e=!0),n)}function u1(t){let e=0,n,r;const s=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...i)=>(e+=1,r||(r=Fo(!0),n=r.run(()=>t(...i))),Fi(s),n)}function q6(t){if(!ct(t))return jn(t);const e=new Proxy({},{get(n,r,s){return g(Reflect.get(t.value,r,s))},set(n,r,s){return ct(t.value[r])&&!ct(s)?t.value[r].value=s:t.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return jn(e)}function j6(t){return q6(pe(t))}function W6(t,...e){const n=e.flat(),r=n[0];return j6(()=>Object.fromEntries(typeof r=="function"?Object.entries(kn(t)).filter(([s,i])=>!r(Ht(i),s)):Object.entries(kn(t)).filter(s=>!n.includes(s[0]))))}const Wr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const H6=t=>typeof t<"u",z6=Object.prototype.toString,V6=t=>z6.call(t)==="[object Object]",gp=Y6();function Y6(){var t,e;return Wr&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function K6(t){return zt()}function Ou(t){return Array.isArray(t)?t:[t]}function c1(t,e=1e4){return my((n,r)=>{let s=Ht(t),i;const o=()=>setTimeout(()=>{s=Ht(t),r()},Ht(e));return Fi(()=>{clearTimeout(i)}),{get(){return n(),s},set(a){s=a,r(),clearTimeout(i),i=o()}}})}function X6(t,e){K6()&&Go(t,e)}function d1(t,e,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n,i=ds(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function l(){i.value=!1,a()}function c(...u){s&&t(),a(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,t(...u)},Ht(e))}return r&&(i.value=!0,Wr&&c()),Fi(l),{isPending:So(i),start:c,stop:l}}function J6(t,e,n){return Je(t,e,{...n,immediate:!0})}const pd=Wr?window:void 0;function Vs(t){var e;const n=Ht(t);return(e=n==null?void 0:n.$el)!=null?e:n}function Li(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),s=pe(()=>{const a=Ou(Ht(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),i=J6(()=>{var a,l;return[(l=(a=s.value)==null?void 0:a.map(c=>Vs(c)))!=null?l:[pd].filter(c=>c!=null),Ou(Ht(s.value?t[1]:t[0])),Ou(g(s.value?t[2]:t[1])),Ht(s.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const d=V6(u)?{...u}:u;e.push(...a.flatMap(f=>l.flatMap(h=>c.map(p=>r(f,h,p,d)))))},{flush:"post"}),o=()=>{i(),n()};return Fi(n),o}function Q6(){const t=ds(!1),e=zt();return e&&Rt(()=>{t.value=!0},e),t}function Z6(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function e9(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:s=pd,eventName:i="keydown",passive:o=!1,dedupe:a=!1}=r,l=Z6(e);return Li(s,i,u=>{u.repeat&&Ht(a)||l(u)&&n(u)},o)}function t9(t){return JSON.parse(JSON.stringify(t))}function Ys(t,e,n,r={}){var s,i,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=r,h=zt(),p=n||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((o=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let m=c;e||(e="modelValue"),m=m||`update:${e.toString()}`;const w=v=>a?typeof a=="function"?a(v):t9(v):v,y=()=>H6(t[e])?w(t[e]):d,b=v=>{f?f(v)&&p(m,v):p(m,v)};if(l){const v=y(),x=J(v);let C=!1;return Je(()=>t[e],O=>{C||(C=!0,x.value=w(O),_t(()=>C=!1))}),Je(x,O=>{!C&&(O!==t[e]||u)&&b(O)},{deep:u}),x}else return pe({get(){return y()},set(v){b(v)}})}function Iu(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Ec(t,e,n=".",r){if(!Iu(e))return Ec(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Iu(o)&&Iu(s[i])?s[i]=Ec(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function n9(t){return(...e)=>e.reduce((n,r)=>Ec(n,r,"",t),{})}const r9=n9(),s9=u1(()=>{const t=J(new Map),e=J(),n=pe(()=>{for(const o of t.value.values())if(o)return!0;return!1}),r=l1({scrollBody:J(!0)});let s=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",gp&&(s==null||s()),e.value=void 0};return Je(n,(o,a)=>{var d;if(!Wr)return;if(!o){a&&i();return}e.value===void 0&&(e.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,c={padding:l,margin:0},u=(d=r.scrollBody)!=null&&d.value?typeof r.scrollBody.value=="object"?r9({padding:r.scrollBody.value.padding===!0?l:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?l:r.scrollBody.value.margin},c):c:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),gp&&(s=Li(document,"touchmove",f=>i9(f),{passive:!1})),_t(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function gd(t){const e=Math.random().toString(36).substring(2,7),n=s9();n.value.set(e,t??!1);const r=pe({get:()=>n.value.get(e)??!1,set:s=>n.value.set(e,s)});return X6(()=>{n.value.delete(e)}),r}function f1(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:f1(n)}}function i9(t){const e=t||window.event,n=e.target;return n instanceof Element&&f1(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function md(t){const e=l1({dir:J("ltr")});return pe(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function Bi(t){const e=zt(),n=e==null?void 0:e.type.emits,r={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),n==null||n.forEach(s=>{r[co(Cn(s))]=(...i)=>t(s,...i)}),r}let Lu=0;function h1(){qt(t=>{if(!Wr)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??mp()),document.body.insertAdjacentElement("beforeend",e[1]??mp()),Lu++,t(()=>{Lu===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),Lu--})})}function mp(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function o9(t){return pe(()=>{var e;return Ht(t)?!!((e=Vs(t))!=null&&e.closest("form")):!0})}function nt(){const t=zt(),e=J(),n=pe(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:Vs(e)}),r=Object.assign({},t.exposed),s={};for(const o in t.props)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=s;function i(o){if(e.value=o,!!o&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),!(o instanceof Element)&&!Object.hasOwn(o,"$el"))){const a=o.$.exposed,l=Object.assign({},s);for(const c in a)Object.defineProperty(l,c,{enumerable:!0,configurable:!0,get:()=>a[c]});t.exposed=l}}return{forwardRef:i,currentRef:e,currentElement:n}}function vd(t){const e=zt(),n=Object.keys((e==null?void 0:e.type.props)??{}).reduce((s,i)=>{const o=(e==null?void 0:e.type.props[i]).default;return o!==void 0&&(s[i]=o),s},{}),r=gg(t);return pe(()=>{const s={},i=(e==null?void 0:e.vnode.props)??{};return Object.keys(i).forEach(o=>{s[Cn(o)]=i[o]}),Object.keys({...n,...s}).reduce((o,a)=>(r.value[a]!==void 0&&(o[a]=r.value[a]),o),{})})}function tn(t,e){const n=vd(t),r=e?Bi(e):{};return pe(()=>({...n.value,...r}))}function a9(t,e){const n=c1(!1,300);Fi(()=>{n.value=!1});const r=J(null),s=U6();function i(){r.value=null,n.value=!1}function o(a,l){const c=a.currentTarget,u={x:a.clientX,y:a.clientY},d=l9(u,c.getBoundingClientRect()),f=u9(u,d,1),h=c9(l.getBoundingClientRect()),p=f9([...f,...h]);r.value=p,n.value=!0}return qt(a=>{if(t.value&&e.value){const l=u=>o(u,e.value),c=u=>o(u,t.value);t.value.addEventListener("pointerleave",l),e.value.addEventListener("pointerleave",c),a(()=>{var u,d;(u=t.value)==null||u.removeEventListener("pointerleave",l),(d=e.value)==null||d.removeEventListener("pointerleave",c)})}}),qt(a=>{var l;if(r.value){const c=u=>{var w,y;if(!r.value||!(u.target instanceof Element))return;const d=u.target,f={x:u.clientX,y:u.clientY},h=((w=t.value)==null?void 0:w.contains(d))||((y=e.value)==null?void 0:y.contains(d)),p=!d9(f,r.value),m=!!d.closest("[data-grace-area-trigger]");h?i():(p||m)&&(i(),s.trigger())};(l=t.value)==null||l.ownerDocument.addEventListener("pointermove",c),a(()=>{var u;return(u=t.value)==null?void 0:u.ownerDocument.removeEventListener("pointermove",c)})}}),{isPointerInTransit:n,onPointerExit:s.on}}function l9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function u9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function c9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function d9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function f9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),h9(e)}function h9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var p9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ri=new WeakMap,ba=new WeakMap,_a={},Mu=0,p1=function(t){return t&&(t.host||p1(t.parentNode))},g9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=p1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},m9=function(t,e,n,r){var s=g9(e,Array.isArray(t)?t:[t]);_a[n]||(_a[n]=new WeakMap);var i=_a[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",m=(ri.get(f)||0)+1,w=(i.get(f)||0)+1;ri.set(f,m),i.set(f,w),o.push(f),m===1&&p&&ba.set(f,!0),w===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(e),a.clear(),Mu++,function(){o.forEach(function(d){var f=ri.get(d)-1,h=i.get(d)-1;ri.set(d,f),i.set(d,h),f||(ba.has(d)||d.removeAttribute(r),ba.delete(d)),h||d.removeAttribute(n)}),Mu--,Mu||(ri=new WeakMap,ri=new WeakMap,ba=new WeakMap,_a={})}},v9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=p9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),m9(r,s,n,"aria-hidden")):function(){return null}};function yd(t){let e;Je(()=>Vs(t),n=>{n?e=v9(n):e&&e()}),ln(()=>{e&&e()})}function as(t,e="reka"){return`${e}-${iu==null?void 0:iu()}`}function y9(t){const e=J(),n=pe(()=>{var s;return((s=e.value)==null?void 0:s.width)??0}),r=pe(()=>{var s;return((s=e.value)==null?void 0:s.height)??0});return Rt(()=>{const s=Vs(t);if(s){e.value={width:s.offsetWidth,height:s.offsetHeight};const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=s.offsetWidth,c=s.offsetHeight;e.value={width:l,height:c}});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else e.value=void 0}),{width:n,height:r}}function b9(t,e){const n=J(t);function r(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=r(i)}}}function _9(t){const e=c1("",1e3);return{search:e,handleTypeaheadSearch:(s,i)=>{e.value=e.value+s;{const o=xn(),a=i.map(f=>{var h,p;return{...f,textValue:((h=f.value)==null?void 0:h.textValue)??((p=f.ref.textContent)==null?void 0:p.trim())??""}}),l=a.find(f=>f.ref===o),c=a.map(f=>f.textValue),u=x9(c,e.value,l==null?void 0:l.textValue),d=a.find(f=>f.textValue===u);return d&&d.ref.focus(),d==null?void 0:d.ref}},resetTypeahead:()=>{e.value=""}}}function w9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function x9(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=w9(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function C9(t,e){var w;const n=J({}),r=J("none"),s=J(t),i=t.value?"mounted":"unmounted";let o;const a=((w=e.value)==null?void 0:w.ownerDocument.defaultView)??pd,{state:l,dispatch:c}=b9(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=y=>{var b;if(Wr){const v=new CustomEvent(y,{bubbles:!1,cancelable:!1});(b=e.value)==null||b.dispatchEvent(v)}};Je(t,async(y,b)=>{var x;const v=b!==y;if(await _t(),v){const C=r.value,O=wa(e.value);y?(c("MOUNT"),u("enter"),O==="none"&&u("after-enter")):O==="none"||O==="undefined"||((x=n.value)==null?void 0:x.display)==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):b&&C!==O?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=y=>{const b=wa(e.value),v=b.includes(CSS.escape(y.animationName)),x=l.value==="mounted"?"enter":"leave";if(y.target===e.value&&v&&(u(`after-${x}`),c("ANIMATION_END"),!s.value)){const C=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a==null?void 0:a.setTimeout(()=>{var O;((O=e.value)==null?void 0:O.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=C)})}y.target===e.value&&b==="none"&&c("ANIMATION_END")},f=y=>{y.target===e.value&&(r.value=wa(e.value))},h=Je(e,(y,b)=>{y?(n.value=getComputedStyle(y),y.addEventListener("animationstart",f),y.addEventListener("animationcancel",d),y.addEventListener("animationend",d)):(c("ANIMATION_END"),o!==void 0&&(a==null||a.clearTimeout(o)),b==null||b.removeEventListener("animationstart",f),b==null||b.removeEventListener("animationcancel",d),b==null||b.removeEventListener("animationend",d))},{immediate:!0}),p=Je(l,()=>{const y=wa(e.value);r.value=l.value==="mounted"?y:"none"});return ln(()=>{h(),p()}),{isPresent:pe(()=>["mounted","unmountSuspended"].includes(l.value))}}function wa(t){return t&&getComputedStyle(t).animationName||"none"}var Yo=me({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var c;const{present:r,forceMount:s}=kn(t),i=J(),{isPresent:o}=C9(r,i);n({present:o});let a=e.default({present:o.value});a=hd(a||[]);const l=zt();if(a&&(a==null?void 0:a.length)>1){const u=(c=l==null?void 0:l.parent)!=null&&c.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||r.value||o.value?wn(e.default({present:o.value})[0],{ref:u=>{const d=Vs(u);return typeof(d==null?void 0:d.hasAttribute)>"u"||(d!=null&&d.hasAttribute("data-reka-popper-content-wrapper")?i.value=d.firstElementChild:i.value=d),d}}):null}});const Tc=me({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var l;if(!n.default)return null;const r=hd(n.default()),s=r.findIndex(c=>c.type!==sn);if(s===-1)return r;const i=r[s];(l=i.props)==null||delete l.ref;const o=i.props?Xe(e,i.props):e,a=$r({...i,props:{}},o);return r.length===1?a:(r[s]=a,r)}}}),k9=["area","img","input"],Jt=me({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&k9.includes(r)?()=>wn(r,e):r!=="template"?()=>wn(t.as,e,{default:n.default}):()=>wn(Tc,e,{default:n.default})}});function Ac(){const t=J(),e=pe(()=>{var n,r;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(r=t.value)==null?void 0:r.$el.nextElementSibling:Vs(t)});return{primitiveElement:t,currentElement:e}}const[_r,S9]=Sn("DialogRoot");var E9=me({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,s=Ys(n,"open",e,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=J(),o=J(),{modal:a}=kn(n);return S9({open:s,modal:a,openModal:()=>{s.value=!0},onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:o}),(l,c)=>Ee(l.$slots,"default",{open:g(s),close:()=>s.value=!1})}}),T9=E9,A9=me({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;nt();const n=_r();return(r,s)=>(M(),ce(g(Jt),Xe(e,{type:r.as==="button"?"button":void 0,onClick:s[0]||(s[0]=i=>g(n).onOpenChange(!1))}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["type"]))}}),g1=A9;const P9="dismissableLayer.pointerDownOutside",O9="dismissableLayer.focusOutside";function m1(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),s=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||s.indexOf(r)<s.indexOf(n)))}function I9(t,e,n=!0){var o;const r=((o=e==null?void 0:e.value)==null?void 0:o.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=J(!1),i=J(()=>{});return qt(a=>{if(!Wr||!Ht(n))return;const l=async u=>{const d=u.target;if(!(!(e!=null&&e.value)||!d)){if(m1(e.value,d)){s.value=!1;return}if(u.target&&!s.value){let h=function(){o1(P9,t,f)};const f={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",i.value),i.value=h,r.addEventListener("click",i.value,{once:!0})):h()}else r.removeEventListener("click",i.value);s.value=!1}},c=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);a(()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",l),r.removeEventListener("click",i.value)})}),{onPointerDownCapture:()=>{Ht(n)&&(s.value=!0)}}}function L9(t,e,n=!0){var i;const r=((i=e==null?void 0:e.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=J(!1);return qt(o=>{if(!Wr||!Ht(n))return;const a=async l=>{if(!(e!=null&&e.value))return;await _t(),await _t();const c=l.target;!e.value||!c||m1(e.value,c)||l.target&&!s.value&&o1(O9,t,{originalEvent:l})};r.addEventListener("focusin",a),o(()=>r.removeEventListener("focusin",a))}),{onFocusCapture:()=>{Ht(n)&&(s.value=!0)},onBlurCapture:()=>{Ht(n)&&(s.value=!1)}}}const Un=jn({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var M9=me({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:i}=nt(),o=pe(()=>{var h;return((h=i.value)==null?void 0:h.ownerDocument)??globalThis.document}),a=pe(()=>Un.layersRoot),l=pe(()=>i.value?Array.from(a.value).indexOf(i.value):-1),c=pe(()=>Un.layersWithOutsidePointerEventsDisabled.size>0),u=pe(()=>{const h=Array.from(a.value),[p]=[...Un.layersWithOutsidePointerEventsDisabled].slice(-1),m=h.indexOf(p);return l.value>=m}),d=I9(async h=>{const p=[...Un.branches].some(m=>m==null?void 0:m.contains(h.target));!u.value||p||(r("pointerDownOutside",h),r("interactOutside",h),await _t(),h.defaultPrevented||r("dismiss"))},i),f=L9(h=>{[...Un.branches].some(m=>m==null?void 0:m.contains(h.target))||(r("focusOutside",h),r("interactOutside",h),h.defaultPrevented||r("dismiss"))},i);return e9("Escape",h=>{l.value===a.value.size-1&&(r("escapeKeyDown",h),h.defaultPrevented||r("dismiss"))}),qt(h=>{i.value&&(n.disableOutsidePointerEvents&&(Un.layersWithOutsidePointerEventsDisabled.size===0&&(Un.originalBodyPointerEvents=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),Un.layersWithOutsidePointerEventsDisabled.add(i.value)),a.value.add(i.value),h(()=>{n.disableOutsidePointerEvents&&Un.layersWithOutsidePointerEventsDisabled.size===1&&!N6(Un.originalBodyPointerEvents)&&(o.value.body.style.pointerEvents=Un.originalBodyPointerEvents)}))}),qt(h=>{h(()=>{i.value&&(a.value.delete(i.value),Un.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(h,p)=>(M(),ce(g(Jt),{ref:g(s),"as-child":h.asChild,as:h.as,"data-dismissable-layer":"",style:ft({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:g(f).onFocusCapture,onBlurCapture:g(f).onBlurCapture,onPointerdownCapture:g(d).onPointerDownCapture},{default:H(()=>[Ee(h.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Bl=M9;const R9=G6(()=>J([]));function D9(){const t=R9();return{add(e){const n=t.value[0];e!==n&&(n==null||n.pause()),t.value=vp(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=vp(t.value,e),(n=t.value[0])==null||n.resume()}}}function vp(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}const Ru="focusScope.autoFocusOnMount",Du="focusScope.autoFocusOnUnmount",yp={bubbles:!1,cancelable:!0};function N9(t,{select:e=!1}={}){const n=xn();for(const r of t)if(Zr(r,{select:e}),xn()!==n)return!0}function $9(t){const e=v1(t),n=bp(e,t),r=bp(e.reverse(),t);return[n,r]}function v1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bp(t,e){for(const n of t)if(!F9(n,{upTo:e}))return n}function F9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function B9(t){return t instanceof HTMLInputElement&&"select"in t}function Zr(t,{select:e=!1}={}){if(t&&t.focus){const n=xn();t.focus({preventScroll:!0}),t!==n&&B9(t)&&e&&t.select()}}var U9=me({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:s,currentElement:i}=nt(),o=J(null),a=D9(),l=jn({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});qt(u=>{if(!Wr)return;const d=i.value;if(!n.trapped)return;function f(w){if(l.paused||!d)return;const y=w.target;d.contains(y)?o.value=y:Zr(o.value,{select:!0})}function h(w){if(l.paused||!d)return;const y=w.relatedTarget;y!==null&&(d.contains(y)||Zr(o.value,{select:!0}))}function p(w){d.contains(o.value)||Zr(d)}document.addEventListener("focusin",f),document.addEventListener("focusout",h);const m=new MutationObserver(p);d&&m.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",h),m.disconnect()})}),qt(async u=>{const d=i.value;if(await _t(),!d)return;a.add(l);const f=xn();if(!d.contains(f)){const p=new CustomEvent(Ru,yp);d.addEventListener(Ru,m=>r("mountAutoFocus",m)),d.dispatchEvent(p),p.defaultPrevented||(N9(v1(d),{select:!0}),xn()===f&&Zr(d))}u(()=>{d.removeEventListener(Ru,w=>r("mountAutoFocus",w));const p=new CustomEvent(Du,yp),m=w=>{r("unmountAutoFocus",w)};d.addEventListener(Du,m),d.dispatchEvent(p),setTimeout(()=>{p.defaultPrevented||Zr(f??document.body,{select:!0}),d.removeEventListener(Du,m),a.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,f=xn();if(d&&f){const h=u.currentTarget,[p,m]=$9(h);p&&m?!u.shiftKey&&f===m?(u.preventDefault(),n.loop&&Zr(p,{select:!0})):u.shiftKey&&f===p&&(u.preventDefault(),n.loop&&Zr(m,{select:!0})):f===h&&u.preventDefault()}}return(u,d)=>(M(),ce(g(Jt),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:H(()=>[Ee(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),bd=U9;const G9="menu.itemSelect",Pc=["Enter"," "],q9=["ArrowDown","PageUp","Home"],y1=["ArrowUp","PageDown","End"],j9=[...q9,...y1];[...Pc],[...Pc];function b1(t){return t?"open":"closed"}function W9(t){const e=xn();for(const n of t)if(n===e||(n.focus(),xn()!==e))return}function H9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function z9(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return H9(n,e)}function Oc(t){return t.pointerType==="mouse"}var V9=me({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=_r(),{forwardRef:i,currentElement:o}=nt();return s.titleId||(s.titleId=as(void 0,"reka-dialog-title")),s.descriptionId||(s.descriptionId=as(void 0,"reka-dialog-description")),Rt(()=>{s.contentElement=o,xn()!==document.body&&(s.triggerElement.value=xn())}),(a,l)=>(M(),ce(g(bd),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:H(()=>[F(g(Bl),Xe({id:g(s).contentId,ref:g(i),as:a.as,"as-child":a.asChild,"disable-outside-pointer-events":a.disableOutsidePointerEvents,role:"dialog","aria-describedby":g(s).descriptionId,"aria-labelledby":g(s).titleId,"data-state":g(b1)(g(s).open.value)},a.$attrs,{onDismiss:l[0]||(l[0]=c=>g(s).onOpenChange(!1)),onEscapeKeyDown:l[1]||(l[1]=c=>r("escapeKeyDown",c)),onFocusOutside:l[2]||(l[2]=c=>r("focusOutside",c)),onInteractOutside:l[3]||(l[3]=c=>r("interactOutside",c)),onPointerDownOutside:l[4]||(l[4]=c=>r("pointerDownOutside",c))}),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),_1=V9,Y9=me({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=_r(),i=Bi(r),{forwardRef:o,currentElement:a}=nt();return yd(a),(l,c)=>(M(),ce(_1,Xe({...n,...g(i)},{ref:g(o),"trap-focus":g(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;u.defaultPrevented||(u.preventDefault(),(d=g(s).triggerElement.value)==null||d.focus())}),onPointerDownOutside:c[1]||(c[1]=u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&u.preventDefault()}),onFocusOutside:c[2]||(c[2]=u=>{u.preventDefault()})}),{default:H(()=>[Ee(l.$slots,"default")]),_:3},16,["trap-focus"]))}}),K9=Y9,X9=me({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=Bi(e);nt();const i=_r(),o=J(!1),a=J(!1);return(l,c)=>(M(),ce(_1,Xe({...n,...g(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;u.defaultPrevented||(o.value||(d=g(i).triggerElement.value)==null||d.focus(),u.preventDefault()),o.value=!1,a.value=!1}),onInteractOutside:c[1]||(c[1]=u=>{var h;u.defaultPrevented||(o.value=!0,u.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const d=u.target;((h=g(i).triggerElement.value)==null?void 0:h.contains(d))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&a.value&&u.preventDefault()})}),{default:H(()=>[Ee(l.$slots,"default")]),_:3},16))}}),J9=X9,Q9=me({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=_r(),i=Bi(r),{forwardRef:o}=nt();return(a,l)=>(M(),ce(g(Yo),{present:a.forceMount||g(s).open.value},{default:H(()=>[g(s).modal.value?(M(),ce(K9,Xe({key:0,ref:g(o)},{...n,...g(i),...a.$attrs}),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16)):(M(),ce(J9,Xe({key:1,ref:g(o)},{...n,...g(i),...a.$attrs}),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Z9=Q9,eC=me({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(t){const e=t;nt();const n=_r();return(r,s)=>(M(),ce(g(Jt),Xe(e,{id:g(n).descriptionId}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["id"]))}}),tC=eC,nC=me({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=_r();return gd(!0),nt(),(n,r)=>(M(),ce(g(Jt),{as:n.as,"as-child":n.asChild,"data-state":g(e).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:H(()=>[Ee(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),rC=nC,sC=me({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=_r(),{forwardRef:n}=nt();return(r,s)=>{var i;return(i=g(e))!=null&&i.modal.value?(M(),ce(g(Yo),{key:0,present:r.forceMount||g(e).open.value},{default:H(()=>[F(rC,Xe(r.$attrs,{ref:g(n),as:r.as,"as-child":r.asChild}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):He("v-if",!0)}}}),iC=sC,oC=me({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=Q6();return(n,r)=>g(e)||n.forceMount?(M(),ce(Tg,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[Ee(n.$slots,"default")],8,["to","disabled","defer"])):He("v-if",!0)}}),Ul=oC,aC=me({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const e=t,n=_r();return nt(),(r,s)=>(M(),ce(g(Jt),Xe(e,{id:g(n).titleId}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["id"]))}}),lC=aC,uC=me({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=_r(),{forwardRef:r,currentElement:s}=nt();return n.contentId||(n.contentId=as(void 0,"reka-dialog-content")),Rt(()=>{n.triggerElement.value=s.value}),(i,o)=>(M(),ce(g(Jt),Xe(e,{ref:g(r),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":g(n).open.value||!1,"aria-controls":g(n).open.value?g(n).contentId:void 0,"data-state":g(n).open.value?"open":"closed",onClick:g(n).onOpenToggle}),{default:H(()=>[Ee(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),cC=uC,dC=me({__name:"AlertDialogAction",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;return nt(),(n,r)=>(M(),ce(g(g1),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),fC=dC;const[hC,pC]=Sn("AlertDialogContent");var gC=me({__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=Bi(e);nt();const i=J();return pC({onCancelElementChange:o=>{i.value=o}}),(o,a)=>(M(),ce(g(Z9),Xe({...n,...g(s)},{role:"alertdialog",onPointerDownOutside:a[0]||(a[0]=Bt(()=>{},["prevent"])),onInteractOutside:a[1]||(a[1]=Bt(()=>{},["prevent"])),onOpenAutoFocus:a[2]||(a[2]=()=>{_t(()=>{var l;(l=i.value)==null||l.focus({preventScroll:!0})})})}),{default:H(()=>[Ee(o.$slots,"default")]),_:3},16))}}),mC=gC,vC=me({__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=hC(),{forwardRef:r,currentElement:s}=nt();return Rt(()=>{n.onCancelElementChange(s.value)}),(i,o)=>(M(),ce(g(g1),Xe(e,{ref:g(r)}),{default:H(()=>[Ee(i.$slots,"default")]),_:3},16))}}),yC=vC,bC=me({__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(t){const e=t;return nt(),(n,r)=>(M(),ce(g(tC),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),_C=bC,wC=me({__name:"AlertDialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return nt(),(n,r)=>(M(),ce(g(iC),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),xC=wC,CC=me({__name:"AlertDialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Ul),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),kC=CC,SC=me({__name:"AlertDialogRoot",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(t,{emit:e}){const s=tn(t,e);return nt(),(i,o)=>(M(),ce(g(T9),Xe(g(s),{modal:!0}),{default:H(a=>[Ee(i.$slots,"default",It(Nt(a)))]),_:3},16))}}),EC=SC,TC=me({__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const e=t;return nt(),(n,r)=>(M(),ce(g(lC),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),AC=TC,PC=me({__name:"AlertDialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;return nt(),(n,r)=>(M(),ce(g(cC),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),OC=PC;const _p="data-reka-collection-item";function w1(t={}){const{key:e="",isProvider:n=!1}=t,r=`${e}CollectionProvider`;let s;n?(s={collectionRef:J(),itemMap:J(new Map)},jc(r,s)):s=is(r);const i=(u=!1)=>{const d=s.collectionRef.value;if(!d)return[];const f=Array.from(d.querySelectorAll(`[${_p}]`)),p=Array.from(s.itemMap.value.values()).sort((m,w)=>f.indexOf(m.ref)-f.indexOf(w.ref));return u?p:p.filter(m=>m.ref.dataset.disabled!=="")},o=me({name:"CollectionSlot",inheritAttrs:!1,setup(u,{slots:d,attrs:f}){const{primitiveElement:h,currentElement:p}=Ac();return Je(p,()=>{s.collectionRef.value=p.value}),()=>wn(Tc,{ref:h,...f},d)}}),a=me({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(u,{slots:d,attrs:f}){const{primitiveElement:h,currentElement:p}=Ac();return qt(m=>{if(p.value){const w=Ei(p.value);s.itemMap.value.set(w,{ref:p.value,value:u.value}),m(()=>s.itemMap.value.delete(w))}}),()=>wn(Tc,{...f,[_p]:"",ref:h},d)}}),l=pe(()=>Array.from(s.itemMap.value.values())),c=pe(()=>s.itemMap.value.size);return{getItems:i,reactiveItems:l,itemMapSize:c,CollectionSlot:o,CollectionItem:a}}const IC="rovingFocusGroup.onEntryFocus",LC={bubbles:!1,cancelable:!0};function MC(t,e=!1){const n=xn();for(const r of t)if(r===n||(r.focus({preventScroll:e}),xn()!==n))return}const[ZI,RC]=Sn("RovingFocusGroup");var DC=me({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:e,emit:n}){const r=t,s=n,{loop:i,orientation:o,dir:a}=kn(r),l=md(a),c=Ys(r,"currentTabStopId",s,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),u=J(!1),d=J(!1),f=J(0),{getItems:h,CollectionSlot:p}=w1({isProvider:!0});function m(y){const b=!d.value;if(y.currentTarget&&y.target===y.currentTarget&&b&&!u.value){const v=new CustomEvent(IC,LC);if(y.currentTarget.dispatchEvent(v),s("entryFocus",v),!v.defaultPrevented){const x=h().map(E=>E.ref).filter(E=>E.dataset.disabled!==""),C=x.find(E=>E.getAttribute("data-active")===""),O=x.find(E=>E.getAttribute("data-highlighted")===""),q=x.find(E=>E.id===c.value),A=[C,O,q,...x].filter(Boolean);MC(A,r.preventScrollOnEntryFocus)}}d.value=!1}function w(){setTimeout(()=>{d.value=!1},1)}return e({getItems:h}),RC({loop:i,dir:l,orientation:o,currentTabStopId:c,onItemFocus:y=>{c.value=y},onItemShiftTab:()=>{u.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(y,b)=>(M(),ce(g(p),null,{default:H(()=>[F(g(Jt),{tabindex:u.value||f.value===0?-1:0,"data-orientation":g(o),as:y.as,"as-child":y.asChild,dir:g(l),style:{outline:"none"},onMousedown:b[0]||(b[0]=v=>d.value=!0),onMouseup:w,onFocus:m,onBlur:b[1]||(b[1]=v=>u.value=!1)},{default:H(()=>[Ee(y.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),NC=DC,$C=me({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(M(),ce(g(Jt),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:H(()=>[Ee(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),x1=$C,FC=me({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:r}=Ac(),s=pe(()=>e.checked??e.value);return Je(s,(i,o)=>{if(!r.value)return;const a=r.value,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(u&&i!==o){const d=new Event("input",{bubbles:!0}),f=new Event("change",{bubbles:!0});u.call(a,i),a.dispatchEvent(d),a.dispatchEvent(f)}}),(i,o)=>(M(),ce(x1,Xe({ref_key:"primitiveElement",ref:n},{...e,...i.$attrs},{as:"input"}),null,16))}}),wp=FC,BC=me({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,n=pe(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),r=pe(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((s,i)=>typeof s=="object"?Object.entries(s).map(([o,a])=>({name:`${e.name}[${i}][${o}]`,value:a})):{name:`${e.name}[${i}]`,value:s}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([s,i])=>({name:`${e.name}[${s}]`,value:i})):[]);return(s,i)=>(M(),le(Ve,null,[He(" We render single input if it's required "),n.value?(M(),ce(wp,Xe({key:s.name},{...e,...s.$attrs},{name:s.name,value:s.value}),null,16,["name","value"])):(M(!0),le(Ve,{key:1},bt(r.value,o=>(M(),ce(wp,Xe({key:o.name},{ref_for:!0},{...e,...s.$attrs},{name:o.name,value:o.value}),null,16,["name","value"]))),128))],2112))}}),UC=BC;const[C1,GC]=Sn("PopperRoot");var qC=me({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=J();return GC({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>Ee(n.$slots,"default")}}),_d=qC,jC=me({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n,currentElement:r}=nt(),s=C1();return xg(()=>{s.onAnchorChange(e.reference??r.value)}),(i,o)=>(M(),ce(g(Jt),{ref:g(n),as:i.as,"as-child":i.asChild},{default:H(()=>[Ee(i.$slots,"default")]),_:3},8,["as","as-child"]))}}),wd=jC;function WC(t){return t!==null}function HC(t){return{name:"transformOrigin",options:t,fn(e){var w,y,b;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Ic(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,h=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let p="",m="";return c==="bottom"?(p=o?d:`${f}px`,m=`${-l}px`):c==="top"?(p=o?d:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=o?d:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,m=o?d:`${h}px`),{data:{x:p,y:m}}}}}function Ic(t){const[e,n="center"]=t.split("-");return[e,n]}const zC=["top","right","bottom","left"],ls=Math.min,An=Math.max,rl=Math.round,xa=Math.floor,vr=t=>({x:t,y:t}),VC={left:"right",right:"left",bottom:"top",top:"bottom"},YC={start:"end",end:"start"};function Lc(t,e,n){return An(t,ls(e,n))}function Fr(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function Ui(t){return t.split("-")[1]}function xd(t){return t==="x"?"y":"x"}function Cd(t){return t==="y"?"height":"width"}const KC=new Set(["top","bottom"]);function hr(t){return KC.has(Br(t))?"y":"x"}function kd(t){return xd(hr(t))}function XC(t,e,n){n===void 0&&(n=!1);const r=Ui(t),s=kd(t),i=Cd(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sl(o)),[o,sl(o)]}function JC(t){const e=sl(t);return[Mc(t),e,Mc(e)]}function Mc(t){return t.replace(/start|end/g,e=>YC[e])}const xp=["left","right"],Cp=["right","left"],QC=["top","bottom"],ZC=["bottom","top"];function e7(t,e,n){switch(t){case"top":case"bottom":return n?e?Cp:xp:e?xp:Cp;case"left":case"right":return e?QC:ZC;default:return[]}}function t7(t,e,n,r){const s=Ui(t);let i=e7(Br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Mc)))),i}function sl(t){return t.replace(/left|right|bottom|top/g,e=>VC[e])}function n7(t){return{top:0,right:0,bottom:0,left:0,...t}}function k1(t){return typeof t!="number"?n7(t):{top:t,right:t,bottom:t,left:t}}function il(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function kp(t,e,n){let{reference:r,floating:s}=t;const i=hr(e),o=kd(e),a=Cd(o),l=Br(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Ui(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}async function r7(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Fr(e,t),p=k1(h),w=a[f?d==="floating"?"reference":"floating":d],y=il(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},C=il(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:l}):b);return{top:(y.top-C.top+p.top)/x.y,bottom:(C.bottom-y.bottom+p.bottom)/x.y,left:(y.left-C.left+p.left)/x.x,right:(C.right-y.right+p.right)/x.x}}const s7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=kp(c,r,l),f=r,h={},p=0;for(let w=0;w<a.length;w++){var m;const{name:y,fn:b}=a[w],{x:v,y:x,data:C,reset:O}=await b({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:{...o,detectOverflow:(m=o.detectOverflow)!=null?m:r7},elements:{reference:t,floating:e}});u=v??u,d=x??d,h={...h,[y]:{...h[y],...C}},O&&p<=50&&(p++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:u,y:d}=kp(c,f,l)),w=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}},i7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Fr(t,e)||{};if(c==null)return{};const d=k1(u),f={x:n,y:r},h=kd(s),p=Cd(h),m=await o.getDimensions(c),w=h==="y",y=w?"top":"left",b=w?"bottom":"right",v=w?"clientHeight":"clientWidth",x=i.reference[p]+i.reference[h]-f[h]-i.floating[p],C=f[h]-i.reference[h],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let q=O?O[v]:0;(!q||!await(o.isElement==null?void 0:o.isElement(O)))&&(q=a.floating[v]||i.floating[p]);const A=x/2-C/2,E=q/2-m[p]/2-1,P=ls(d[y],E),j=ls(d[b],E),T=P,B=q-m[p]-j,Y=q/2-m[p]/2+A,L=Lc(T,Y,B),$=!l.arrow&&Ui(s)!=null&&Y!==L&&i.reference[p]/2-(Y<T?P:j)-m[p]/2<0,k=$?Y<T?Y-T:Y-B:0;return{[h]:f[h]+k,data:{[h]:L,centerOffset:Y-L-k,...$&&{alignmentOffset:k}},reset:$}}}),o7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...w}=Fr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Br(s),b=hr(a),v=Br(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(v||!m?[sl(a)]:JC(a)),O=p!=="none";!f&&O&&C.push(...t7(a,m,p,x));const q=[a,...C],A=await l.detectOverflow(e,w),E=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&E.push(A[y]),d){const Y=XC(s,o,x);E.push(A[Y[0]],A[Y[1]])}if(P=[...P,{placement:s,overflows:E}],!E.every(Y=>Y<=0)){var j,T;const Y=(((j=i.flip)==null?void 0:j.index)||0)+1,L=q[Y];if(L&&(!(d==="alignment"?b!==hr(L):!1)||P.every(S=>hr(S.placement)===b?S.overflows[0]>0:!0)))return{data:{index:Y,overflows:P},reset:{placement:L}};let $=(T=P.filter(k=>k.overflows[0]<=0).sort((k,S)=>k.overflows[1]-S.overflows[1])[0])==null?void 0:T.placement;if(!$)switch(h){case"bestFit":{var B;const k=(B=P.filter(S=>{if(O){const V=hr(S.placement);return V===b||V==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(V=>V>0).reduce((V,ie)=>V+ie,0)]).sort((S,V)=>S[1]-V[1])[0])==null?void 0:B[0];k&&($=k);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Sp(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ep(t){return zC.some(e=>t[e]>=0)}const a7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:s="referenceHidden",...i}=Fr(t,e);switch(s){case"referenceHidden":{const o=await r.detectOverflow(e,{...i,elementContext:"reference"}),a=Sp(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ep(a)}}}case"escaped":{const o=await r.detectOverflow(e,{...i,altBoundary:!0}),a=Sp(o,n.floating);return{data:{escapedOffsets:a,escaped:Ep(a)}}}default:return{}}}}},S1=new Set(["left","top"]);async function l7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Br(n),a=Ui(n),l=hr(n)==="y",c=S1.has(o)?-1:1,u=i&&l?-1:1,d=Fr(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const u7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await l7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},c7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s,platform:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:b,y:v}=y;return{x:b,y:v}}},...c}=Fr(t,e),u={x:n,y:r},d=await i.detectOverflow(e,c),f=hr(Br(s)),h=xd(f);let p=u[h],m=u[f];if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+d[y],x=p-d[b];p=Lc(v,p,x)}if(a){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=m+d[y],x=m-d[b];m=Lc(v,m,x)}const w=l.fn({...e,[h]:p,[f]:m});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:o,[f]:a}}}}}},d7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Fr(t,e),u={x:n,y:r},d=hr(s),f=xd(d);let h=u[f],p=u[d];const m=Fr(a,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const v=f==="y"?"height":"width",x=i.reference[f]-i.floating[v]+w.mainAxis,C=i.reference[f]+i.reference[v]-w.mainAxis;h<x?h=x:h>C&&(h=C)}if(c){var y,b;const v=f==="y"?"width":"height",x=S1.has(Br(s)),C=i.reference[d]-i.floating[v]+(x&&((y=o.offset)==null?void 0:y[d])||0)+(x?0:w.crossAxis),O=i.reference[d]+i.reference[v]+(x?0:((b=o.offset)==null?void 0:b[d])||0)-(x?w.crossAxis:0);p<C?p=C:p>O&&(p=O)}return{[f]:h,[d]:p}}}},f7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Fr(t,e),u=await o.detectOverflow(e,c),d=Br(s),f=Ui(s),h=hr(s)==="y",{width:p,height:m}=i.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,w=f==="end"?"top":"bottom");const b=m-u.top-u.bottom,v=p-u.left-u.right,x=ls(m-u[w],b),C=ls(p-u[y],v),O=!e.middlewareData.shift;let q=x,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(q=b),O&&!f){const P=An(u.left,0),j=An(u.right,0),T=An(u.top,0),B=An(u.bottom,0);h?A=p-2*(P!==0||j!==0?P+j:An(u.left,u.right)):q=m-2*(T!==0||B!==0?T+B:An(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:q});const E=await o.getDimensions(a.floating);return p!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function Gl(){return typeof window<"u"}function Ks(t){return Sd(t)?(t.nodeName||"").toLowerCase():"#document"}function Rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wr(t){var e;return(e=(Sd(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Sd(t){return Gl()?t instanceof Node||t instanceof Rn(t).Node:!1}function nr(t){return Gl()?t instanceof Element||t instanceof Rn(t).Element:!1}function yr(t){return Gl()?t instanceof HTMLElement||t instanceof Rn(t).HTMLElement:!1}function Tp(t){return!Gl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rn(t).ShadowRoot}const h7=new Set(["inline","contents"]);function Ko(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!h7.has(s)}const p7=new Set(["table","td","th"]);function g7(t){return p7.has(Ks(t))}const m7=[":popover-open",":modal"];function ql(t){return m7.some(e=>{try{return t.matches(e)}catch{return!1}})}const v7=["transform","translate","scale","rotate","perspective"],y7=["transform","translate","scale","rotate","perspective","filter"],b7=["paint","layout","strict","content"];function Ed(t){const e=Td(),n=nr(t)?rr(t):t;return v7.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||y7.some(r=>(n.willChange||"").includes(r))||b7.some(r=>(n.contain||"").includes(r))}function _7(t){let e=us(t);for(;yr(e)&&!Mi(e);){if(Ed(e))return e;if(ql(e))return null;e=us(e)}return null}function Td(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const w7=new Set(["html","body","#document"]);function Mi(t){return w7.has(Ks(t))}function rr(t){return Rn(t).getComputedStyle(t)}function jl(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function us(t){if(Ks(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Tp(t)&&t.host||wr(t);return Tp(e)?e.host:e}function E1(t){const e=us(t);return Mi(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&Ko(e)?e:E1(e)}function No(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=E1(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Rn(s);if(i){const a=Rc(o);return e.concat(o,o.visualViewport||[],Ko(s)?s:[],a&&n?No(a):[])}return e.concat(s,No(s,[],n))}function Rc(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function T1(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=rl(n)!==i||rl(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ad(t){return nr(t)?t:t.contextElement}function mi(t){const e=Ad(t);if(!yr(e))return vr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=T1(e);let o=(i?rl(n.width):n.width)/r,a=(i?rl(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const x7=vr(0);function A1(t){const e=Rn(t);return!Td()||!e.visualViewport?x7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function C7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Rn(t)?!1:e}function $s(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ad(t);let o=vr(1);e&&(r?nr(r)&&(o=mi(r)):o=mi(t));const a=C7(i,n,r)?A1(i):vr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Rn(i),h=r&&nr(r)?Rn(r):r;let p=f,m=Rc(p);for(;m&&r&&h!==p;){const w=mi(m),y=m.getBoundingClientRect(),b=rr(m),v=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*w.x,x=y.top+(m.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=v,c+=x,p=Rn(m),m=Rc(p)}}return il({width:u,height:d,x:l,y:c})}function Wl(t,e){const n=jl(t).scrollLeft;return e?e.left+n:$s(wr(t)).left+n}function P1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Wl(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function k7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=wr(r),a=e?ql(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=vr(1);const u=vr(0),d=yr(r);if((d||!d&&!i)&&((Ks(r)!=="body"||Ko(o))&&(l=jl(r)),yr(r))){const h=$s(r);c=mi(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=o&&!d&&!i?P1(o,l):vr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function S7(t){return Array.from(t.getClientRects())}function E7(t){const e=wr(t),n=jl(t),r=t.ownerDocument.body,s=An(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=An(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wl(t);const a=-n.scrollTop;return rr(r).direction==="rtl"&&(o+=An(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Ap=25;function T7(t,e){const n=Rn(t),r=wr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Td();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Wl(r);if(c<=0){const u=r.ownerDocument,d=u.body,f=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-h);p<=Ap&&(i-=p)}else c<=Ap&&(i+=c);return{width:i,height:o,x:a,y:l}}const A7=new Set(["absolute","fixed"]);function P7(t,e){const n=$s(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yr(t)?mi(t):vr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Pp(t,e,n){let r;if(e==="viewport")r=T7(t,n);else if(e==="document")r=E7(wr(t));else if(nr(e))r=P7(e,n);else{const s=A1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return il(r)}function O1(t,e){const n=us(t);return n===e||!nr(n)||Mi(n)?!1:rr(n).position==="fixed"||O1(n,e)}function O7(t,e){const n=e.get(t);if(n)return n;let r=No(t,[],!1).filter(a=>nr(a)&&Ks(a)!=="body"),s=null;const i=rr(t).position==="fixed";let o=i?us(t):t;for(;nr(o)&&!Mi(o);){const a=rr(o),l=Ed(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&A7.has(s.position)||Ko(o)&&!l&&O1(t,o))?r=r.filter(u=>u!==o):s=a,o=us(o)}return e.set(t,r),r}function I7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ql(e)?[]:O7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=Pp(e,u,s);return c.top=An(d.top,c.top),c.right=ls(d.right,c.right),c.bottom=ls(d.bottom,c.bottom),c.left=An(d.left,c.left),c},Pp(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function L7(t){const{width:e,height:n}=T1(t);return{width:e,height:n}}function M7(t,e,n){const r=yr(e),s=wr(e),i=n==="fixed",o=$s(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=vr(0);function c(){l.x=Wl(s)}if(r||!r&&!i)if((Ks(e)!=="body"||Ko(s))&&(a=jl(e)),r){const h=$s(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?P1(s,a):vr(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Nu(t){return rr(t).position==="static"}function Op(t,e){if(!yr(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return wr(t)===n&&(n=n.ownerDocument.body),n}function I1(t,e){const n=Rn(t);if(ql(t))return n;if(!yr(t)){let s=us(t);for(;s&&!Mi(s);){if(nr(s)&&!Nu(s))return s;s=us(s)}return n}let r=Op(t,e);for(;r&&g7(r)&&Nu(r);)r=Op(r,e);return r&&Mi(r)&&Nu(r)&&!Ed(r)?n:r||_7(t)||n}const R7=async function(t){const e=this.getOffsetParent||I1,n=this.getDimensions,r=await n(t.floating);return{reference:M7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function D7(t){return rr(t).direction==="rtl"}const N7={convertOffsetParentRelativeRectToViewportRelativeRect:k7,getDocumentElement:wr,getClippingRect:I7,getOffsetParent:I1,getElementRects:R7,getClientRects:S7,getDimensions:L7,getScale:mi,isElement:nr,isRTL:D7};function L1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $7(t,e){let n=null,r;const s=wr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const p=xa(d),m=xa(s.clientWidth-(u+f)),w=xa(s.clientHeight-(d+h)),y=xa(u),v={rootMargin:-p+"px "+-m+"px "+-w+"px "+-y+"px",threshold:An(0,ls(1,l))||1};let x=!0;function C(O){const q=O[0].intersectionRatio;if(q!==l){if(!x)return o();q?o(!1,q):r=setTimeout(()=>{o(!1,1e-7)},1e3)}q===1&&!L1(c,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(C,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(t)}return o(!0),i}function F7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ad(t),u=s||i?[...c?No(c):[],...No(e)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=c&&a?$7(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?$s(t):null;l&&w();function w(){const y=$s(t);m&&!L1(m,y)&&n(),m=y,p=requestAnimationFrame(w)}return n(),()=>{var y;u.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const B7=u7,U7=c7,Ip=o7,G7=f7,q7=a7,j7=i7,W7=d7,H7=(t,e,n)=>{const r=new Map,s={platform:N7,...n},i={...s.platform,_c:r};return s7(t,e,{...s,platform:i})};function z7(t){return t!=null&&typeof t=="object"&&"$el"in t}function Dc(t){if(z7(t)){const e=t.$el;return Sd(e)&&Ks(e)==="#comment"?null:e}return t}function ai(t){return typeof t=="function"?t():g(t)}function V7(t){return{name:"arrow",options:t,fn(e){const n=Dc(ai(t.element));return n==null?{}:j7({element:n,padding:t.padding}).fn(e)}}}function M1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lp(t,e){const n=M1(t);return Math.round(e*n)/n}function Y7(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,s=pe(()=>{var q;return(q=ai(n.open))!=null?q:!0}),i=pe(()=>ai(n.middleware)),o=pe(()=>{var q;return(q=ai(n.placement))!=null?q:"bottom"}),a=pe(()=>{var q;return(q=ai(n.strategy))!=null?q:"absolute"}),l=pe(()=>{var q;return(q=ai(n.transform))!=null?q:!0}),c=pe(()=>Dc(t.value)),u=pe(()=>Dc(e.value)),d=J(0),f=J(0),h=J(a.value),p=J(o.value),m=ds({}),w=J(!1),y=pe(()=>{const q={position:h.value,left:"0",top:"0"};if(!u.value)return q;const A=Lp(u.value,d.value),E=Lp(u.value,f.value);return l.value?{...q,transform:"translate("+A+"px, "+E+"px)",...M1(u.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:A+"px",top:E+"px"}});let b;function v(){if(c.value==null||u.value==null)return;const q=s.value;H7(c.value,u.value,{middleware:i.value,placement:o.value,strategy:a.value}).then(A=>{d.value=A.x,f.value=A.y,h.value=A.strategy,p.value=A.placement,m.value=A.middlewareData,w.value=q!==!1})}function x(){typeof b=="function"&&(b(),b=void 0)}function C(){if(x(),r===void 0){v();return}if(c.value!=null&&u.value!=null){b=r(c.value,u.value,v);return}}function O(){s.value||(w.value=!1)}return Je([i,o,a,s],v,{flush:"sync"}),Je([c,u],C,{flush:"sync"}),Je(s,O,{flush:"sync"}),Bo()&&ml(x),{x:Qs(d),y:Qs(f),strategy:Qs(h),placement:Qs(p),middlewareData:Qs(m),isPositioned:Qs(w),floatingStyles:y,update:v}}const R1={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,hideShiftedArrow:!0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[eL,K7]=Sn("PopperContent");var X7=me({inheritAttrs:!1,__name:"PopperContent",props:Gg({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...R1}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,s=C1(),{forwardRef:i,currentElement:o}=nt(),a=J(),l=J(),{width:c,height:u}=y9(l),d=pe(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),f=pe(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),h=pe(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=pe(()=>({padding:f.value,boundary:h.value.filter(WC),altBoundary:h.value.length>0})),m=pe(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),w=B6(()=>[B7({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Ip({...p.value,...m.value}),n.avoidCollisions&&U7({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?W7():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&Ip({...p.value,...m.value}),G7({...p.value,apply:({elements:T,rects:B,availableWidth:Y,availableHeight:L})=>{const{width:$,height:k}=B.reference,S=T.floating.style;S.setProperty("--reka-popper-available-width",`${Y}px`),S.setProperty("--reka-popper-available-height",`${L}px`),S.setProperty("--reka-popper-anchor-width",`${$}px`),S.setProperty("--reka-popper-anchor-height",`${k}px`)}}),l.value&&V7({element:l.value,padding:n.arrowPadding}),HC({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&q7({strategy:"referenceHidden",...p.value})]),y=pe(()=>n.reference??s.anchor.value),{floatingStyles:b,placement:v,isPositioned:x,middlewareData:C}=Y7(y,a,{strategy:n.positionStrategy,placement:d,whileElementsMounted:(...T)=>F7(...T,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:w}),O=pe(()=>Ic(v.value)[0]),q=pe(()=>Ic(v.value)[1]);xg(()=>{x.value&&r("placed")});const A=pe(()=>{var B;const T=((B=C.value.arrow)==null?void 0:B.centerOffset)!==0;return n.hideShiftedArrow&&T}),E=J("");qt(()=>{o.value&&(E.value=window.getComputedStyle(o.value).zIndex)});const P=pe(()=>{var T;return((T=C.value.arrow)==null?void 0:T.x)??0}),j=pe(()=>{var T;return((T=C.value.arrow)==null?void 0:T.y)??0});return K7({placedSide:O,onArrowChange:T=>l.value=T,arrowX:P,arrowY:j,shouldHideArrow:A}),(T,B)=>{var Y,L,$;return M(),le("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:ft({...g(b),transform:g(x)?g(b).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E.value,"--reka-popper-transform-origin":[(Y=g(C).transformOrigin)==null?void 0:Y.x,(L=g(C).transformOrigin)==null?void 0:L.y].join(" "),...(($=g(C).hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[F(g(Jt),Xe({ref:g(i)},T.$attrs,{"as-child":n.asChild,as:T.as,"data-side":O.value,"data-align":q.value,style:{animation:g(x)?void 0:"none"}}),{default:H(()=>[Ee(T.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),Pd=X7,J7=me({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,r)=>(M(),ce(g(wd),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),Q7=J7;function Z7(){const t=J(!1);return Rt(()=>{Li("keydown",()=>{t.value=!0},{capture:!0,passive:!0}),Li(["pointerdown","pointermove"],()=>{t.value=!1},{capture:!0,passive:!0})}),t}const ek=u1(Z7),[Hl,tk]=Sn(["MenuRoot","MenuSub"],"MenuContext"),[Od,nk]=Sn("MenuRoot");var rk=me({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:s,dir:i}=kn(n),o=md(i),a=Ys(n,"open",r),l=J(),c=ek();return tk({open:a,onOpenChange:u=>{a.value=u},content:l,onContentChange:u=>{l.value=u}}),nk({onClose:()=>{a.value=!1},isUsingKeyboardRef:c,dir:o,modal:s}),(u,d)=>(M(),ce(g(_d),null,{default:H(()=>[Ee(u.$slots,"default")]),_:3}))}}),sk=rk;const[D1,ik]=Sn("MenuContent");var ok=me({__name:"MenuContentImpl",props:Gg({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...R1}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(t,{emit:e}){const n=t,r=e,s=Hl(),i=Od(),{trapFocus:o,disableOutsidePointerEvents:a,loop:l}=kn(n);h1(),gd(a.value);const c=J(""),u=J(0),d=J(0),f=J(null),h=J("right"),p=J(0),m=J(null),w=J(),{forwardRef:y,currentElement:b}=nt(),{handleTypeaheadSearch:v}=_9();Je(b,E=>{s.onContentChange(E)}),ln(()=>{window.clearTimeout(u.value)});function x(E){var j,T;return h.value===((j=f.value)==null?void 0:j.side)&&z9(E,(T=f.value)==null?void 0:T.area)}async function C(E){var P;r("openAutoFocus",E),!E.defaultPrevented&&(E.preventDefault(),(P=b.value)==null||P.focus({preventScroll:!0}))}function O(E){var k;if(E.defaultPrevented)return;const j=E.target.closest("[data-reka-menu-content]")===E.currentTarget,T=E.ctrlKey||E.altKey||E.metaKey,B=E.key.length===1,Y=F6(E,xn(),b.value,{loop:l.value,arrowKeyOptions:"vertical",dir:i==null?void 0:i.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(Y)return Y==null?void 0:Y.focus();if(E.code==="Space")return;const L=((k=w.value)==null?void 0:k.getItems())??[];if(j&&(E.key==="Tab"&&E.preventDefault(),!T&&B&&v(E.key,L)),E.target!==b.value||!j9.includes(E.key))return;E.preventDefault();const $=[...L.map(S=>S.ref)];y1.includes(E.key)&&$.reverse(),W9($)}function q(E){var P,j;(j=(P=E==null?void 0:E.currentTarget)==null?void 0:P.contains)!=null&&j.call(P,E.target)||(window.clearTimeout(u.value),c.value="")}function A(E){var T;if(!Oc(E))return;const P=E.target,j=p.value!==E.clientX;if((T=E==null?void 0:E.currentTarget)!=null&&T.contains(P)&&j){const B=E.clientX>p.value?"right":"left";h.value=B,p.value=E.clientX}}return ik({onItemEnter:E=>!!x(E),onItemLeave:E=>{var P;x(E)||((P=b.value)==null||P.focus(),m.value=null)},onTriggerLeave:E=>!!x(E),searchRef:c,pointerGraceTimerRef:d,onPointerGraceIntentChange:E=>{f.value=E}}),(E,P)=>(M(),ce(g(bd),{"as-child":"",trapped:g(o),onMountAutoFocus:C,onUnmountAutoFocus:P[7]||(P[7]=j=>r("closeAutoFocus",j))},{default:H(()=>[F(g(Bl),{"as-child":"","disable-outside-pointer-events":g(a),onEscapeKeyDown:P[2]||(P[2]=j=>r("escapeKeyDown",j)),onPointerDownOutside:P[3]||(P[3]=j=>r("pointerDownOutside",j)),onFocusOutside:P[4]||(P[4]=j=>r("focusOutside",j)),onInteractOutside:P[5]||(P[5]=j=>r("interactOutside",j)),onDismiss:P[6]||(P[6]=j=>r("dismiss"))},{default:H(()=>[F(g(NC),{ref_key:"rovingFocusGroupRef",ref:w,"current-tab-stop-id":m.value,"onUpdate:currentTabStopId":P[0]||(P[0]=j=>m.value=j),"as-child":"",orientation:"vertical",dir:g(i).dir.value,loop:g(l),onEntryFocus:P[1]||(P[1]=j=>{r("entryFocus",j),g(i).isUsingKeyboardRef.value||j.preventDefault()})},{default:H(()=>[F(g(Pd),{ref:g(y),role:"menu",as:E.as,"as-child":E.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":g(b1)(g(s).open.value),dir:g(i).dir.value,side:E.side,"side-offset":E.sideOffset,align:E.align,"align-offset":E.alignOffset,"avoid-collisions":E.avoidCollisions,"collision-boundary":E.collisionBoundary,"collision-padding":E.collisionPadding,"arrow-padding":E.arrowPadding,"prioritize-position":E.prioritizePosition,"position-strategy":E.positionStrategy,"update-position-strategy":E.updatePositionStrategy,sticky:E.sticky,"hide-when-detached":E.hideWhenDetached,reference:E.reference,onKeydown:O,onBlur:q,onPointermove:A},{default:H(()=>[Ee(E.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),N1=ok,ak=me({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=D1(),{forwardRef:r}=nt(),{CollectionItem:s}=w1(),i=J(!1);async function o(l){if(!l.defaultPrevented&&Oc(l)){if(e.disabled)n.onItemLeave(l);else if(!n.onItemEnter(l)){const u=l.currentTarget;u==null||u.focus({preventScroll:!0})}}}async function a(l){await _t(),!l.defaultPrevented&&Oc(l)&&n.onItemLeave(l)}return(l,c)=>(M(),ce(g(s),{value:{textValue:l.textValue}},{default:H(()=>[F(g(Jt),Xe({ref:g(r),role:"menuitem",tabindex:"-1"},l.$attrs,{as:l.as,"as-child":l.asChild,"aria-disabled":l.disabled||void 0,"data-disabled":l.disabled?"":void 0,"data-highlighted":i.value?"":void 0,onPointermove:o,onPointerleave:a,onFocus:c[0]||(c[0]=async u=>{await _t(),!(u.defaultPrevented||l.disabled)&&(i.value=!0)}),onBlur:c[1]||(c[1]=async u=>{await _t(),!u.defaultPrevented&&(i.value=!1)})}),{default:H(()=>[Ee(l.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),lk=ak,uk=me({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:i}=nt(),o=Od(),a=D1(),l=J(!1);async function c(){const u=i.value;if(!n.disabled&&u){const d=new CustomEvent(G9,{bubbles:!0,cancelable:!0});r("select",d),await _t(),d.defaultPrevented?l.value=!1:o.onClose()}}return(u,d)=>(M(),ce(lk,Xe(n,{ref:g(s),onClick:c,onPointerdown:d[0]||(d[0]=()=>{l.value=!0}),onPointerup:d[1]||(d[1]=async f=>{var h;await _t(),!f.defaultPrevented&&(l.value||(h=f.currentTarget)==null||h.click())}),onKeydown:d[2]||(d[2]=async f=>{const h=g(a).searchRef.value!=="";u.disabled||h&&f.key===" "||g(Pc).includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}),{default:H(()=>[Ee(u.$slots,"default")]),_:3},16))}}),ck=uk,dk=me({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=tn(n,r),i=Hl(),{forwardRef:o,currentElement:a}=nt();return yd(a),(l,c)=>(M(),ce(N1,Xe(g(s),{ref:g(o),"trap-focus":g(i).open.value,"disable-outside-pointer-events":g(i).open.value,"disable-outside-scroll":!0,onDismiss:c[0]||(c[0]=u=>g(i).onOpenChange(!1)),onFocusOutside:c[1]||(c[1]=Bt(u=>r("focusOutside",u),["prevent"]))}),{default:H(()=>[Ee(l.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),fk=dk,hk=me({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const s=tn(t,e),i=Hl();return(o,a)=>(M(),ce(N1,Xe(g(s),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:a[0]||(a[0]=l=>g(i).onOpenChange(!1))}),{default:H(()=>[Ee(o.$slots,"default")]),_:3},16))}}),pk=hk,gk=me({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const s=tn(t,e),i=Hl(),o=Od();return(a,l)=>(M(),ce(g(Yo),{present:a.forceMount||g(i).open.value},{default:H(()=>[g(o).modal.value?(M(),ce(fk,It(Xe({key:0},{...a.$attrs,...g(s)})),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16)):(M(),ce(pk,It(Xe({key:1},{...a.$attrs,...g(s)})),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),mk=gk,vk=me({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Ul),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),yk=vk,bk=me({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Jt),Xe(e,{role:"separator","aria-orientation":"horizontal"}),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),_k=bk;const[Xo,wk]=Sn("PopoverRoot");var xk=me({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:s}=kn(n),i=Ys(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0});return wk({contentId:"",triggerId:"",modal:s,open:i,onOpenChange:l=>{i.value=l},onOpenToggle:()=>{i.value=!i.value},triggerElement:J(),hasCustomAnchor:J(!1)}),(l,c)=>(M(),ce(g(_d),null,{default:H(()=>[Ee(l.$slots,"default",{open:g(i),close:()=>i.value=!1})]),_:3}))}}),Ck=xk,kk=me({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=vd(W6(n,"trapFocus","disableOutsidePointerEvents")),{forwardRef:i}=nt(),o=Xo();return h1(),(a,l)=>(M(),ce(g(bd),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:H(()=>[F(g(Bl),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>g(o).onOpenChange(!1))},{default:H(()=>[F(g(Pd),Xe(g(s),{id:g(o).contentId,ref:g(i),"data-state":g(o).open.value?"open":"closed","aria-labelledby":g(o).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),$1=kk,Sk=me({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=Xo(),i=J(!1);gd(!0);const o=tn(n,r),{forwardRef:a,currentElement:l}=nt();return yd(l),(c,u)=>(M(),ce($1,Xe(g(o),{ref:g(a),"trap-focus":g(s).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=Bt(d=>{var f;r("closeAutoFocus",d),i.value||(f=g(s).triggerElement.value)==null||f.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=d=>{r("pointerDownOutside",d);const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;i.value=p}),onFocusOutside:u[2]||(u[2]=Bt(()=>{},["prevent"]))}),{default:H(()=>[Ee(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ek=Sk,Tk=me({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=Xo(),i=J(!1),o=J(!1),a=tn(n,r);return(l,c)=>(M(),ce($1,Xe(g(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;r("closeAutoFocus",u),u.defaultPrevented||(i.value||(d=g(s).triggerElement.value)==null||d.focus(),u.preventDefault()),i.value=!1,o.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{var h;r("interactOutside",u),u.defaultPrevented||(i.value=!0,u.detail.originalEvent.type==="pointerdown"&&(o.value=!0));const d=u.target;((h=g(s).triggerElement.value)==null?void 0:h.contains(d))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.value&&u.preventDefault()})}),{default:H(()=>[Ee(l.$slots,"default")]),_:3},16))}}),Ak=Tk,Pk=me({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=Xo(),i=tn(n,r),{forwardRef:o}=nt();return s.contentId||(s.contentId=as(void 0,"reka-popover-content")),(a,l)=>(M(),ce(g(Yo),{present:a.forceMount||g(s).open.value},{default:H(()=>[g(s).modal.value?(M(),ce(Ek,Xe({key:0},g(i),{ref:g(o)}),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16)):(M(),ce(Ak,Xe({key:1},g(i),{ref:g(o)}),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ok=Pk,Ik=me({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Ul),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),Lk=Ik,Mk=me({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=Xo(),{forwardRef:r,currentElement:s}=nt();return n.triggerId||(n.triggerId=as(void 0,"reka-popover-trigger")),Rt(()=>{n.triggerElement.value=s.value}),(i,o)=>(M(),ce(Pn(g(n).hasCustomAnchor.value?g(Jt):g(wd)),{"as-child":""},{default:H(()=>[F(g(Jt),{id:g(n).triggerId,ref:g(r),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":g(n).open.value,"aria-controls":g(n).contentId,"data-state":g(n).open.value?"open":"closed",as:i.as,"as-child":e.asChild,onClick:g(n).onOpenToggle},{default:H(()=>[Ee(i.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Rk=Mk;const[F1,Dk]=Sn("DropdownMenuRoot");var Nk=me({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e;nt();const s=Ys(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=J(),{modal:o,dir:a}=kn(n),l=md(a);return Dk({open:s,onOpenChange:c=>{s.value=c},onOpenToggle:()=>{s.value=!s.value},triggerId:"",triggerElement:i,contentId:"",modal:o,dir:l}),(c,u)=>(M(),ce(g(sk),{open:g(s),"onUpdate:open":u[0]||(u[0]=d=>ct(s)?s.value=d:null),dir:g(l),modal:g(o)},{default:H(()=>[Ee(c.$slots,"default",{open:g(s)})]),_:3},8,["open","dir","modal"]))}}),$k=Nk,Fk=me({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const s=tn(t,e);nt();const i=F1(),o=J(!1);function a(l){l.defaultPrevented||(o.value||setTimeout(()=>{var c;(c=i.triggerElement.value)==null||c.focus()},0),o.value=!1,l.preventDefault())}return i.contentId||(i.contentId=as(void 0,"reka-dropdown-menu-content")),(l,c)=>{var u;return M(),ce(g(mk),Xe(g(s),{id:g(i).contentId,"aria-labelledby":(u=g(i))==null?void 0:u.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:a,onInteractOutside:c[0]||(c[0]=d=>{var m;if(d.defaultPrevented)return;const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!g(i).modal.value||p)&&(o.value=!0),(m=g(i).triggerElement.value)!=null&&m.contains(d.target)&&d.preventDefault()})}),{default:H(()=>[Ee(l.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),Bk=Fk,Uk=me({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,s=Bi(e);return nt(),(i,o)=>(M(),ce(g(ck),It(Nt({...n,...g(s)})),{default:H(()=>[Ee(i.$slots,"default")]),_:3},16))}}),Gk=Uk,qk=me({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(M(),ce(g(yk),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),jk=qk,Wk=me({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return nt(),(n,r)=>(M(),ce(g(_k),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),Hk=Wk,zk=me({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=F1(),{forwardRef:r,currentElement:s}=nt();return Rt(()=>{n.triggerElement=s}),n.triggerId||(n.triggerId=as(void 0,"reka-dropdown-menu-trigger")),(i,o)=>(M(),ce(g(Q7),{"as-child":""},{default:H(()=>[F(g(Jt),{id:g(n).triggerId,ref:g(r),type:i.as==="button"?"button":void 0,"as-child":e.asChild,as:i.as,"aria-haspopup":"menu","aria-expanded":g(n).open.value,"aria-controls":g(n).open.value?g(n).contentId:void 0,"data-disabled":i.disabled?"":void 0,disabled:i.disabled,"data-state":g(n).open.value?"open":"closed",onClick:o[0]||(o[0]=async a=>{var l;!i.disabled&&a.button===0&&a.ctrlKey===!1&&((l=g(n))==null||l.onOpenToggle(),await _t(),g(n).open.value&&a.preventDefault())}),onKeydown:o[1]||(o[1]=Kc(a=>{i.disabled||(["Enter"," "].includes(a.key)&&g(n).onOpenToggle(),a.key==="ArrowDown"&&g(n).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())},["enter","space","arrow-down"]))},{default:H(()=>[Ee(i.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),Vk=zk;const[Yk,Kk]=Sn("SwitchRoot");var Xk=me({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,{disabled:s}=kn(n),i=Ys(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0});function o(){s.value||(i.value=!i.value)}const{forwardRef:a,currentElement:l}=nt(),c=o9(l),u=pe(()=>{var d;return n.id&&l.value?(d=document.querySelector(`[for="${n.id}"]`))==null?void 0:d.innerText:void 0});return Kk({modelValue:i,toggleCheck:o,disabled:s}),(d,f)=>(M(),ce(g(Jt),Xe(d.$attrs,{id:d.id,ref:g(a),role:"switch",type:d.as==="button"?"button":void 0,value:d.value,"aria-label":d.$attrs["aria-label"]||u.value,"aria-checked":g(i),"aria-required":d.required,"data-state":g(i)?"checked":"unchecked","data-disabled":g(s)?"":void 0,"as-child":d.asChild,as:d.as,disabled:g(s),onClick:o,onKeydown:Kc(Bt(o,["prevent"]),["enter"])}),{default:H(()=>[Ee(d.$slots,"default",{modelValue:g(i)}),g(c)&&d.name?(M(),ce(g(UC),{key:0,type:"checkbox",name:d.name,disabled:g(s),required:d.required,value:d.value,checked:!!g(i)},null,8,["name","disabled","required","value","checked"])):He("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Jk=Xk,Qk=me({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=Yk();return nt(),(n,r)=>{var s;return M(),ce(g(Jt),{"data-state":(s=g(e).modelValue)!=null&&s.value?"checked":"unchecked","data-disabled":g(e).disabled.value?"":void 0,"as-child":n.asChild,as:n.as},{default:H(()=>[Ee(n.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),Zk=Qk;const[Id,eS]=Sn("TooltipProvider");var tS=me({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{delayDuration:n,skipDelayDuration:r,disableHoverableContent:s,disableClosingTrigger:i,ignoreNonKeyboardFocus:o,disabled:a}=kn(e);nt();const l=J(!0),c=J(!1),{start:u,stop:d}=d1(()=>{l.value=!0},r,{immediate:!1});return eS({isOpenDelayed:l,delayDuration:n,onOpen(){d(),l.value=!1},onClose(){u()},isPointerInTransitRef:c,disableHoverableContent:s,disableClosingTrigger:i,disabled:a,ignoreNonKeyboardFocus:o}),(f,h)=>Ee(f.$slots,"default")}}),Ld=tS;const B1="tooltip.open",[zl,nS]=Sn("TooltipRoot");var rS=me({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e;nt();const s=Id(),i=pe(()=>n.disableHoverableContent??s.disableHoverableContent.value),o=pe(()=>n.disableClosingTrigger??s.disableClosingTrigger.value),a=pe(()=>n.disabled??s.disabled.value),l=pe(()=>n.delayDuration??s.delayDuration.value),c=pe(()=>n.ignoreNonKeyboardFocus??s.ignoreNonKeyboardFocus.value),u=Ys(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0});Je(u,v=>{s.onClose&&(v?(s.onOpen(),document.dispatchEvent(new CustomEvent(B1))):s.onClose())});const d=J(!1),f=J(),h=pe(()=>u.value?d.value?"delayed-open":"instant-open":"closed"),{start:p,stop:m}=d1(()=>{d.value=!0,u.value=!0},l,{immediate:!1});function w(){m(),d.value=!1,u.value=!0}function y(){m(),u.value=!1}function b(){p()}return nS({contentId:"",open:u,stateAttribute:h,trigger:f,onTriggerChange(v){f.value=v},onTriggerEnter(){s.isOpenDelayed.value?b():w()},onTriggerLeave(){i.value?y():m()},onOpen:w,onClose:y,disableHoverableContent:i,disableClosingTrigger:o,disabled:a,ignoreNonKeyboardFocus:c}),(v,x)=>(M(),ce(g(_d),null,{default:H(()=>[Ee(v.$slots,"default",{open:g(u)})]),_:3}))}}),sS=rS,iS=me({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=zl(),{forwardRef:i,currentElement:o}=nt(),a=pe(()=>{var c;return n.ariaLabel||((c=o.value)==null?void 0:c.textContent)}),l=pe(()=>{const{ariaLabel:c,...u}=n;return u});return Rt(()=>{Li(window,"scroll",c=>{const u=c.target;u!=null&&u.contains(s.trigger.value)&&s.onClose()}),Li(window,B1,s.onClose)}),(c,u)=>(M(),ce(g(Bl),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:u[0]||(u[0]=d=>r("escapeKeyDown",d)),onPointerDownOutside:u[1]||(u[1]=d=>{var f;g(s).disableClosingTrigger.value&&((f=g(s).trigger.value)!=null&&f.contains(d.target))&&d.preventDefault(),r("pointerDownOutside",d)}),onFocusOutside:u[2]||(u[2]=Bt(()=>{},["prevent"])),onDismiss:u[3]||(u[3]=d=>g(s).onClose())},{default:H(()=>[F(g(Pd),Xe({ref:g(i),"data-state":g(s).stateAttribute.value},{...c.$attrs,...l.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:H(()=>[Ee(c.$slots,"default"),F(g(x1),{id:g(s).contentId,role:"tooltip"},{default:H(()=>[Ye(we(a.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),U1=iS,oS=me({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(t){const n=vd(t),{forwardRef:r,currentElement:s}=nt(),{trigger:i,onClose:o}=zl(),a=Id(),{isPointerInTransit:l,onPointerExit:c}=a9(i,s);return a.isPointerInTransitRef=l,c(()=>{o()}),(u,d)=>(M(),ce(U1,Xe({ref:g(r)},g(n)),{default:H(()=>[Ee(u.$slots,"default")]),_:3},16))}}),aS=oS,lS=me({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=zl(),i=tn(n,r),{forwardRef:o}=nt();return(a,l)=>(M(),ce(g(Yo),{present:a.forceMount||g(s).open.value},{default:H(()=>[(M(),ce(Pn(g(s).disableHoverableContent.value?U1:aS),Xe({ref:g(o)},g(i)),{default:H(()=>[Ee(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),uS=lS,cS=me({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Ul),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),dS=cS,fS=me({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=zl(),r=Id();n.contentId||(n.contentId=as(void 0,"reka-tooltip-content"));const{forwardRef:s,currentElement:i}=nt(),o=J(!1),a=J(!1),l=pe(()=>n.disabled.value?{}:{click:m,focus:h,pointermove:d,pointerleave:f,pointerdown:u,blur:p});Rt(()=>{n.onTriggerChange(i.value)});function c(){setTimeout(()=>{o.value=!1},1)}function u(){n.open&&!n.disableClosingTrigger.value&&n.onClose(),o.value=!0,document.addEventListener("pointerup",c,{once:!0})}function d(w){w.pointerType!=="touch"&&!a.value&&!r.isPointerInTransitRef.value&&(n.onTriggerEnter(),a.value=!0)}function f(){n.onTriggerLeave(),a.value=!1}function h(w){var y,b;o.value||n.ignoreNonKeyboardFocus.value&&!((b=(y=w.target).matches)!=null&&b.call(y,":focus-visible"))||n.onOpen()}function p(){n.onClose()}function m(){n.disableClosingTrigger.value||n.onClose()}return(w,y)=>(M(),ce(g(wd),{"as-child":"",reference:w.reference},{default:H(()=>[F(g(Jt),Xe({ref:g(s),"aria-describedby":g(n).open.value?g(n).contentId:void 0,"data-state":g(n).stateAttribute.value,as:w.as,"as-child":e.asChild,"data-grace-area-trigger":""},qy(l.value)),{default:H(()=>[Ee(w.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),hS=fS;const pS=me({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,s=_s(n,"class"),i=tn(s,r);return(o,a)=>(M(),ce(g(Jk),Xe(g(i),{class:g(Dn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n.class)}),{default:H(()=>[F(g(Zk),{class:st(g(Dn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"))},{default:H(()=>[Ee(o.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),Fs=me({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=tn(t,e);return(i,o)=>(M(),ce(g(Ck),It(Nt(g(s))),{default:H(()=>[Ee(i.$slots,"default")]),_:3},16))}}),Bs=me({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=_s(n,"class"),i=tn(s,r);return(o,a)=>(M(),ce(g(Lk),null,{default:H(()=>[F(g(Ok),Xe({...g(i),...o.$attrs},{class:g(Dn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:H(()=>[Ee(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Us=me({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Rk),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),zn=me({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=tn(t,e);return(i,o)=>(M(),ce(g(sS),It(Nt(g(s))),{default:H(()=>[Ee(i.$slots,"default")]),_:3},16))}}),Vn=me({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=pe(()=>{const{class:o,...a}=n;return a}),i=tn(s,r);return(o,a)=>(M(),ce(g(dS),null,{default:H(()=>[F(g(uS),Xe(g(i),{class:["z-50 overflow-hidden rounded-md border bg-foreground px-3 py-1.5 text-xs text-background shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class]}),{default:H(()=>[Ee(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Yn=me({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(M(),ce(g(hS),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),gS={class:"flex justify-center"},mS={class:"p-1 rounded-3xl border shadow-2xl backdrop-blur-xl bg-card/80 min-w-275"},vS={class:"p-4 pt-4 pb-4 space-y-4"},yS={key:0,class:"flex gap-2"},bS=["src"],_S=["onClick"],wS={key:0,class:"w-16 h-16 flex flex-col items-center justify-center bg-muted rounded-xl border border-dashed hover:bg-muted/80 cursor-pointer transition-colors"},xS={class:"relative group"},CS={key:0,class:"flex justify-between items-center mb-2"},kS={class:"text-xs text-muted-foreground"},SS={key:0,class:"text-xs text-destructive font-medium"},ES=["placeholder"],TS={class:"absolute bottom-3 right-3 flex gap-1"},AS=["disabled"],PS=["disabled"],OS={class:"flex flex-wrap items-center gap-2"},IS=["value"],LS=["value"],MS=["value"],RS={class:"flex items-center gap-2 px-3 py-2 rounded-xl bg-muted hover:bg-muted/80 transition-all text-xs font-medium text-muted-foreground"},DS={class:"grid grid-cols-1 gap-4"},NS={key:0,class:"flex justify-between items-center px-1"},$S={class:"text-[10px] uppercase font-bold text-muted-foreground tracking-wider"},FS=["min","max","step","onUpdate:modelValue"],BS={key:1,class:"text-xs font-mono font-bold"},US=["min","max","step","value","onInput"],GS=["onUpdate:modelValue"],qS=["value"],jS=["onUpdate:modelValue","placeholder"],WS=["onUpdate:modelValue","placeholder"],HS={class:"flex items-center gap-2 px-2 py-2 rounded-xl bg-muted/50"},zS={class:"text-xs font-medium text-muted-foreground"},VS=["disabled"],YS=me({__name:"PromptInput",setup(t,{expose:e}){const n=H0(),r=$l(),s=zs(),{mode:i,selectedModelId:o,availableModels:a,params:l,selectedModel:c,selectedResolution:u,availableResolutions:d,pendingEditItem:f,pendingEditBlob:h}=Qn(n),{apiKey:p}=Qn(r),m=J(""),w=J(!1),y=J(!1),b=J(!1),v=J([]),x=pe(()=>{var L;return((L=c.value)==null?void 0:L.promptLimit)||1/0}),C=pe(()=>m.value.length),O=pe(()=>i.value==="text2speech"?m.value.length>0:i.value==="image-edit"?m.value.length>0&&v.value.length>0:m.value.length>0&&m.value.length<=x.value);Je(f,async L=>{L&&(await Y(L,h.value),n.pendingEditItem=null,n.pendingEditBlob=null)},{immediate:!0}),Je([m,x],([L,$])=>{$!==1/0&&L.length>$&&(m.value=L.substring(0,$),it.warning(ur.global.t("generate.promptTruncated",{limit:$})))},{immediate:!0});const q=pe(()=>{var $;if(!(($=c.value)!=null&&$.params))return{};const L={...c.value.params};return delete L.text,L}),A=pe(()=>{var L;return((L=c.value)==null?void 0:L.accept_optimize_prompt)===!0});async function E(L){var ae;const $=(ae=L.target.files)==null?void 0:ae[0];if(!$)return;const k=new Image;k.src=URL.createObjectURL($),await new Promise(ve=>{k.onload=()=>ve()});const S=k.width,V=k.height;URL.revokeObjectURL(k.src);const ie=new FileReader;ie.onload=ve=>{var Ge;const fe=(Ge=ve.target)==null?void 0:Ge.result;v.value.push({url:URL.createObjectURL($),b64:fe.split(",")[1]}),l.value.width!==void 0&&(l.value.width=S),l.value.height!==void 0&&(l.value.height=V),u.value="custom"},ie.readAsDataURL($)}function P(L){URL.revokeObjectURL(v.value[L].url),v.value.splice(L,1)}function j(){m.value=""}async function T(){var L,$;if(!(!m.value||!p.value)){b.value=!0;try{const k=await fetch("https://llm.chutes.ai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${p.value}`,"Content-Type":"application/json"},body:JSON.stringify({model:"chutesai/Mistral-Small-3.2-24B-Instruct-2506",messages:[{role:"system",content:"Detect the language of the user's text and translate it to English. Return ONLY the translation, no explanations, no additional text, no comments, just the translated text."},{role:"user",content:m.value}],stream:!1,temperature:.3})});if(!k.ok){const ie=await k.text();throw new Error(`Translation failed: ${k.status} - ${ie}`)}const V=(($=(L=(await k.json()).choices[0])==null?void 0:L.message)==null?void 0:$.content)||m.value;m.value=V.trim(),it.success(ur.global.t("logs.translationSuccess"))}catch(k){console.error(k),it.error(`Error: ${k.message}`)}finally{b.value=!1}}}async function B(){if(!(!O.value||y.value||!p.value)){y.value=!0;try{const L=new q0(p.value),$=c.value;let k=m.value;if(w.value&&A.value)try{k=await N8(p.value,o.value,m.value),r.addLog({type:i.value,message:ur.global.t("logs.promptOptimized",{model:$.name})})}catch(Ge){it.warning(ur.global.t("logs.optimizationFailed",{error:Ge.message})),r.addLog({type:i.value,message:ur.global.t("logs.optimizationFailed",{error:Ge.message}),warning:!0})}const S={...l.value};S.prompt=k,$.modelName&&(S.model=$.modelName),$.imageInput&&($.imageInput.type==="single"&&v.value[0]?S[$.imageInput.field]=pp(v.value[0].b64):v.value.length>0&&(S[$.imageInput.field]=v.value.map(Ge=>pp(Ge.b64))));const V=i.value==="text2video"?$.endpoints.text2video:$.endpoint,ie=(Ge,be)=>Ge==="image_b64s"&&Array.isArray(be)?`[${be.length} image${be.length!==1?"s":""}]`:typeof be=="string"&&(Ge.includes("b64")||Ge==="image"||Ge==="img_b64")&&be.length>50?`${be.substring(0,50)}... [truncated]`:be;r.addLog({type:i.value,message:ur.global.t("logs.sendingRequest",{model:$.name,endpoint:V}),details:JSON.parse(JSON.stringify(S,ie))});const ae=await L.generate(V,S);let ve="image";i.value.includes("video")&&(ve="video"),i.value==="text2speech"&&(ve="audio");const fe=crypto.randomUUID();await s.addItem({id:fe,type:ve,mode:i.value,model:$.name,params:{...S},blobKey:fe},ae),r.addLog({type:i.value,message:ur.global.t("logs.generationSuccess",{model:$.name})}),r.refreshQuota()}catch(L){console.error(L);let $=L.message;try{const k=L.message.match(/API Error: \d+ - (.+)/);if(k&&k[1]){const S=JSON.parse(k[1]);S.detail&&($=S.detail)}}catch{}it.error($),r.addLog({type:i.value,message:`Error: ${L.message}`,error:!0})}finally{y.value=!1}}}async function Y(L,$=null){if(m.value="",$)if($ instanceof Blob){const k=new FileReader,S=new Promise(ie=>{k.onload=()=>ie(k.result.split(",")[1])});k.readAsDataURL($);const V=await S;v.value=[{url:URL.createObjectURL($),b64:V}]}else{const k=$.includes(",")?$.split(",")[1]:$,S=new Blob([Uint8Array.from(atob(k),V=>V.charCodeAt(0))]);v.value=[{url:URL.createObjectURL(S),b64:k}]}else L.params.image_b64s?v.value=L.params.image_b64s.map(k=>({url:URL.createObjectURL(new Blob([Uint8Array.from(atob(k),S=>S.charCodeAt(0))])),b64:k})):L.params.image&&(v.value=[{url:URL.createObjectURL(new Blob([Uint8Array.from(atob(L.params.image),k=>k.charCodeAt(0))])),b64:L.params.image}]);if(L.params&&(L.params.seed!==void 0&&l.value.seed!==void 0&&(l.value.seed=L.params.seed),l.value.width!==void 0&&L.params.width&&(l.value.width=L.params.width),l.value.height!==void 0&&L.params.height&&(l.value.height=L.params.height)),v.value[0]&&(l.value.width===void 0||l.value.height===void 0)){const k=new Image;k.src=v.value[0].url,await new Promise(S=>{k.onload=()=>{l.value.width!==void 0&&!l.value.width&&(l.value.width=k.width),l.value.height!==void 0&&!l.value.height&&(l.value.height=k.height),S()}})}u.value="custom"}return e({setForEdit:Y}),ln(()=>{v.value.forEach(L=>URL.revokeObjectURL(L.url))}),(L,$)=>(M(),le("div",gS,[_("div",mS,[F(g(Ld),null,{default:H(()=>{var k,S;return[_("div",vS,[g(i)==="image-edit"||g(i)==="image2video"?(M(),le("div",yS,[(M(!0),le(Ve,null,bt(v.value,(V,ie)=>(M(),le("div",{key:ie,class:"relative w-16 h-16 group"},[_("img",{src:V.url,class:"w-full h-full object-cover rounded-xl border"},null,8,bS),_("button",{onClick:ae=>P(ie),class:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity"},[F(g(Ii),{class:"w-3 h-3"})],8,_S)]))),128)),v.value.length<(((S=(k=g(c))==null?void 0:k.imageInput)==null?void 0:S.maxItems)||1)?(M(),le("label",wS,[F(g(N0),{class:"w-4 h-4 text-muted-foreground"}),_("input",{type:"file",onChange:E,class:"hidden",accept:"image/*"},null,32)])):He("",!0)])):He("",!0),_("div",xS,[x.value!==1/0?(M(),le("div",CS,[_("span",kS,we(L.$t("generate.promptLimit"))+": "+we(C.value)+" / "+we(x.value),1),C.value>x.value?(M(),le("span",SS,we(L.$t("generate.promptExceeded")),1)):He("",!0)])):He("",!0),tt(_("textarea",{"onUpdate:modelValue":$[0]||($[0]=V=>m.value=V),placeholder:L.$t("generate.placeholder"),class:"w-full bg-muted/30 border-none rounded-2xl p-4 pr-24 text-sm resize-none focus:ring-1 focus:ring-primary min-h-[100px] transition-all group-hover:bg-muted/50"},null,8,ES),[[ut,m.value]]),_("div",TS,[F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("button",{onClick:j,disabled:!m.value,class:"p-1.5 rounded-lg bg-background/80 hover:bg-background transition-colors disabled:opacity-50"},[F(g(Tx),{class:"w-5 h-5"})],8,AS)]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(L.$t("generate.clearPrompt")),1)]),_:1})]),_:1}),F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("button",{onClick:T,disabled:!m.value||b.value,class:"p-1.5 rounded-lg bg-background/80 hover:bg-background transition-colors disabled:opacity-50"},[b.value?(M(),ce(g(el),{key:0,class:"w-5 h-5 animate-spin"})):(M(),ce(g(Lx),{key:1,class:"w-3.5 h-3.5"}))],8,PS)]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(L.$t("generate.translatePrompt")),1)]),_:1})]),_:1})])]),_("div",OS,[tt(_("select",{"onUpdate:modelValue":$[1]||($[1]=V=>ct(i)?i.value=V:null),class:"bg-muted border-none rounded-xl px-3 py-2 text-xs font-medium focus:ring-0 cursor-pointer outline-none min-w-[100px]"},[(M(!0),le(Ve,null,bt(g(O8),V=>(M(),le("option",{key:V.id,value:V.id},we(L.$t(`common.${V.id==="text2speech"?"audio":V.id==="image-edit"?"edit":V.id==="text2video"?"video":"image"}`)),9,IS))),128))],512),[[li,g(i)]]),tt(_("select",{"onUpdate:modelValue":$[2]||($[2]=V=>ct(o)?o.value=V:null),class:"bg-muted border-none rounded-xl px-3 py-2 text-xs font-medium focus:ring-0 cursor-pointer outline-none min-w-[130px]"},[(M(!0),le(Ve,null,bt(g(a),(V,ie)=>(M(),le("option",{key:ie,value:ie},we(V.name),9,LS))),128))],512),[[li,g(o)]]),g(i)==="text2image"||g(i)==="image-edit"||g(i)==="text2video"?tt((M(),le("select",{key:0,"onUpdate:modelValue":$[3]||($[3]=V=>ct(u)?u.value=V:null),class:"bg-muted border-none rounded-xl px-3 py-2 text-xs font-medium focus:ring-0 cursor-pointer outline-none min-w-[110px]"},[(M(!0),le(Ve,null,bt(g(d),V=>(M(),le("option",{key:V.id,value:V.id},we(V.label),9,MS))),128))],512)),[[li,g(u)]]):He("",!0),F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[F(g(Fs),null,{default:H(()=>[F(g(Us),{"as-child":""},{default:H(()=>[_("button",RS,[F(g(Xx),{class:"w-4 h-4"}),_("span",null,we(L.$t("generate.advanced")),1)])]),_:1}),F(g(Bs),{class:"w-96 max-h-125 overflow-y-auto"},{default:H(()=>[_("div",DS,[(M(!0),le(Ve,null,bt(q.value,(V,ie)=>(M(),le("div",{key:ie,class:"space-y-1.5"},[String(ie).toLowerCase().includes("negative")?He("",!0):(M(),le("div",NS,[_("label",$S,we(L.$t(`common.${ie}`)||ie),1),V.min!==void 0&&V.max!==void 0?tt((M(),le("input",{key:0,type:"number",min:V.min,max:V.max,step:V.step||1,"onUpdate:modelValue":ae=>g(l)[ie]=ae,class:"w-28 text-right bg-transparent border rounded px-1.5 py-0.5 text-xs font-mono font-bold outline-none focus:ring-1 focus:ring-primary"},null,8,FS)),[[ut,g(l)[ie],void 0,{number:!0}]]):(M(),le("span",BS,we(g(l)[ie]),1))])),V.min!==void 0&&V.max!==void 0?(M(),le("input",{key:1,type:"range",min:V.min,max:V.max,step:V.step||1,value:g(l)[ie],onInput:ae=>g(l)[ie]=ae.target.valueAsNumber,class:"w-full accent-primary h-1 bg-muted rounded-full cursor-pointer"},null,40,US)):V.options?tt((M(),le("select",{key:2,"onUpdate:modelValue":ae=>g(l)[ie]=ae,class:"w-full bg-background border rounded-lg px-2 py-1 text-xs outline-none"},[(M(!0),le(Ve,null,bt(V.options,ae=>(M(),le("option",{key:ae,value:ae},we(ae),9,qS))),128))],8,GS)),[[li,g(l)[ie]]]):String(ie).toLowerCase().includes("negative")?tt((M(),le("textarea",{key:3,"onUpdate:modelValue":ae=>g(l)[ie]=ae,placeholder:L.$t("common.negativePrompt"),class:"w-full bg-background border rounded-lg px-3 py-2 text-sm outline-none resize-y min-h-[120px]"},null,8,jS)),[[ut,g(l)[ie]]]):tt((M(),le("input",{key:4,"onUpdate:modelValue":ae=>g(l)[ie]=ae,placeholder:String(ie),class:"w-full bg-background border rounded-lg px-2 py-1 text-xs outline-none"},null,8,WS)),[[ut,g(l)[ie]]])]))),128))])]),_:1})]),_:1})]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(L.$t("generate.tooltips.advancedSettings")),1)]),_:1})]),_:1}),A.value?(M(),ce(g(zn),{key:1},{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("div",HS,[F(g(pS),{modelValue:w.value,"onUpdate:modelValue":$[4]||($[4]=V=>w.value=V)},null,8,["modelValue"]),_("span",zS,we(L.$t("generate.optimize")),1)])]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(L.$t("generate.tooltips.optimize")),1)]),_:1})]),_:1})):He("",!0),F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("button",{onClick:$[5]||($[5]=(...V)=>g(s).clearSession&&g(s).clearSession(...V)),class:"p-2 rounded-xl bg-muted hover:bg-destructive/10 hover:text-destructive transition-colors"},[F(g(wx),{class:"w-4 h-4"})])]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(L.$t("generate.tooltips.clearGenerations")),1)]),_:1})]),_:1}),$[6]||($[6]=_("div",{class:"flex-1"},null,-1)),F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("button",{onClick:B,disabled:!O.value||y.value||!g(p),class:"bg-primary text-primary-foreground px-5 py-2.5 rounded-xl font-bold text-sm shadow-xl shadow-primary/20 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:scale-100 flex items-center gap-2"},[y.value?(M(),ce(g(el),{key:1,class:"w-4 h-4 animate-spin"})):(M(),ce(g($0),{key:0,class:"w-4 h-4"})),Ye(" "+we(y.value?L.$t("common.loading"):L.$t("common.generate")),1)],8,VS)]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(L.$t("generate.tooltips.generate")),1)]),_:1})]),_:1})])])]}),_:1})])]))}}),Vl=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},KS=Vl(YS,[["__scopeId","data-v-046cfc92"]]),vi=me({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=tn(t,e);return(i,o)=>(M(),ce(g(EC),It(Nt(g(s))),{default:H(()=>[Ee(i.$slots,"default")]),_:3},16))}}),Mp=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Rp=V0,XS=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Rp(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=Mp(u)||Mp(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[m,w]=p;return Array.isArray(w)?w.includes({...i,...a}[m]):{...i,...a}[m]===w})?[...c,d,f]:c},[]);return Rp(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},G1=XS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),yi=me({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=_s(e,"class");return(r,s)=>(M(),ce(g(fC),Xe(g(n),{class:g(Dn)(g(G1)({variant:"default"}),"rounded-xl px-6",e.class)}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["class"]))}}),bi=me({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=_s(e,"class");return(r,s)=>(M(),ce(g(yC),Xe(g(n),{class:g(Dn)(g(G1)({variant:"outline"}),"mt-2 sm:mt-0 rounded-xl px-6",e.class)}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["class"]))}}),_i=me({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=_s(n,"class"),i=tn(s,r);return(o,a)=>(M(),ce(g(kC),null,{default:H(()=>[F(g(xC),{class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),F(g(mC),Xe(g(i),{class:g(Dn)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-card/95 backdrop-blur-xl p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-3xl",n.class)}),{default:H(()=>[Ee(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),wi=me({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=_s(e,"class");return(r,s)=>(M(),ce(g(_C),Xe(g(n),{class:g(Dn)("text-sm text-muted-foreground font-medium",e.class)}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["class"]))}}),xi=me({__name:"AlertDialogFooter",props:{class:{}},setup(t){const e=t;return(n,r)=>(M(),le("div",{class:st(g(Dn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",e.class))},[Ee(n.$slots,"default")],2))}}),Ci=me({__name:"AlertDialogHeader",props:{class:{}},setup(t){const e=t;return(n,r)=>(M(),le("div",{class:st(g(Dn)("flex flex-col gap-y-2 text-center sm:text-left",e.class))},[Ee(n.$slots,"default")],2))}}),ki=me({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=_s(e,"class");return(r,s)=>(M(),ce(g(AC),Xe(g(n),{class:g(Dn)("text-lg font-bold",e.class)}),{default:H(()=>[Ee(r.$slots,"default")]),_:3},16,["class"]))}}),Si=me({__name:"AlertDialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(M(),ce(g(OC),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),JS={class:"max-w-2xl mx-auto space-y-8"},QS={class:"flex items-center justify-between"},ZS={class:"text-3xl font-bold"},eE={class:"flex bg-muted p-1 rounded-lg"},tE=["onClick"],nE={class:"space-y-6"},rE={class:"space-y-2"},sE={class:"text-sm font-semibold ml-1"},iE={class:"flex gap-2"},oE=["placeholder"],aE={class:"space-y-2"},lE={class:"text-sm font-semibold ml-1"},uE={class:"flex bg-muted p-1 rounded-lg"},cE=["onClick"],dE={class:"space-y-2"},fE={class:"flex gap-2"},hE={class:"px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-xl text-sm font-bold transition-all flex items-center gap-2 cursor-pointer"},pE={key:0,class:"text-xs text-muted-foreground ml-1"},gE={class:"space-y-2"},mE={class:"text-sm font-semibold ml-1"},vE={class:"flex gap-2 flex-wrap"},yE={class:"px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-xl text-sm font-bold transition-all"},bE={class:"px-4 py-2 bg-muted hover:bg-muted/80 rounded-xl text-sm font-bold transition-all"},_E={class:"px-4 py-2 bg-muted hover:bg-muted/80 rounded-xl text-sm font-bold transition-all"},wE={key:0,class:"text-xs text-muted-foreground ml-1"},xE={class:"space-y-4 pt-4 border-t"},CE={class:"flex items-center justify-between"},kE={class:"text-xl font-bold"},SE={class:"bg-muted/30 rounded-2xl border min-h-[300px] p-4 font-mono text-xs space-y-2 max-h-[500px] overflow-y-auto"},EE={key:0,class:"h-full flex items-center justify-center text-muted-foreground italic"},TE={class:"flex items-start"},AE={class:"text-primary shrink-0"},PE={key:0,class:"mt-1 glass-panel p-2 rounded-lg text-[10px] text-muted-foreground bg-muted/20 overflow-x-auto"},OE=me({__name:"SettingsView",setup(t){const{t:e}=Ho(),n=$l(),r=zs(),{apiKey:s,locale:i,theme:o,logs:a}=Qn(n),l=J(null),c=J(null);function u(y){return new Date(y).toLocaleTimeString()}async function d(){await r.regenerateThumbnails(),it.success(e("settings.regenerateDone"))}async function f(){await r.clearOrphanedThumbnails(),it.success(e("settings.clearCacheDone"))}async function h(){const y=await r.migrateTimestamps();y>0?(c.value=e("settings.migrateSuccess",{count:y}),it.success(c.value)):c.value=e("settings.migrateNoItems"),setTimeout(()=>c.value=null,5e3)}async function p(){const y=await r.migrateModes();y>0?(c.value=e("settings.modesInferred",{count:y}),it.success(c.value)):c.value=e("settings.modesInferNoItems"),setTimeout(()=>c.value=null,5e3)}async function m(){await r.exportProject()}async function w(y){var v;const b=y.target;if((v=b.files)!=null&&v.length){try{const x=await r.importProject(b.files[0]);l.value=x,it.success(e("settings.importSuccess",{imported:x.imported,skipped:x.skipped})),setTimeout(()=>l.value=null,5e3)}catch(x){it.error(e("settings.importError",{error:x.message}))}b.value=""}}return(y,b)=>(M(),le("div",JS,[_("div",QS,[_("h1",ZS,we(y.$t("settings.title")),1),_("div",eE,[(M(),le(Ve,null,bt(["es","en"],v=>_("button",{key:v,onClick:x=>i.value=v,class:st(["px-3 py-1 text-xs font-bold uppercase rounded-md transition-all",g(i)===v?"bg-background shadow-sm":"text-muted-foreground"])},we(v),11,tE)),64))])]),_("div",nE,[_("div",rE,[_("label",sE,we(y.$t("common.apiKey")),1),_("div",iE,[tt(_("input",{"onUpdate:modelValue":b[0]||(b[0]=v=>ct(s)?s.value=v:null),type:"password",placeholder:y.$t("settings.apiKeyPlaceholder"),class:"flex-1 bg-muted/50 border rounded-xl px-4 py-2.5 text-sm focus:ring-2 focus:ring-primary outline-none transition-all"},null,8,oE),[[ut,g(s)]])])]),_("div",aE,[_("label",lE,we(y.$t("settings.theme")),1),_("div",uE,[(M(),le(Ve,null,bt(["dark","light","system"],v=>_("button",{key:v,onClick:x=>o.value=v,class:st(["px-3 py-1 text-xs font-bold uppercase rounded-md transition-all flex items-center gap-1",g(o)===v?"bg-background shadow-sm":"text-muted-foreground"])},[v==="dark"?(M(),ce(g(Zx),{key:0,class:"w-3 h-3"})):v==="light"?(M(),ce(g(Fx),{key:1,class:"w-3 h-3"})):(M(),ce(g($x),{key:2,class:"w-3 h-3"})),Ye(" "+we(v==="system"?"auto":v),1)],10,cE)),64))])]),_("div",dE,[b[2]||(b[2]=_("label",{class:"text-sm font-semibold ml-1"},"Importar / Exportar",-1)),_("div",fE,[_("button",{onClick:m,class:"px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-xl text-sm font-bold transition-all flex items-center gap-2"},[F(g(Mr),{class:"w-4 h-4"}),Ye(" "+we(y.$t("settings.export")),1)]),_("label",hE,[F(g(dd),{class:"w-4 h-4"}),Ye(" "+we(y.$t("settings.import"))+" ",1),_("input",{type:"file",accept:".json",class:"hidden",onChange:w},null,32)])]),l.value?(M(),le("p",pE,we(y.$t("settings.importSuccess",{imported:l.value.imported,skipped:l.value.skipped})),1)):He("",!0)]),_("div",gE,[_("label",mE,we(y.$t("settings.storage")),1),_("div",vE,[F(g(vi),null,{default:H(()=>[F(g(Si),{"as-child":""},{default:H(()=>[_("button",yE,we(y.$t("settings.regenerateThumbnails")),1)]),_:1}),F(g(_i),null,{default:H(()=>[F(g(Ci),null,{default:H(()=>[F(g(ki),null,{default:H(()=>[...b[3]||(b[3]=[Ye("Regenerar miniaturas?",-1)])]),_:1}),F(g(wi),null,{default:H(()=>[Ye(we(y.$t("settings.regenerateConfirm")),1)]),_:1})]),_:1}),F(g(xi),null,{default:H(()=>[F(g(bi),null,{default:H(()=>[...b[4]||(b[4]=[Ye("Cancelar",-1)])]),_:1}),F(g(yi),{onClick:d},{default:H(()=>[...b[5]||(b[5]=[Ye(" Continuar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),F(g(vi),null,{default:H(()=>[F(g(Si),{"as-child":""},{default:H(()=>[_("button",bE,we(y.$t("settings.clearThumbnails")),1)]),_:1}),F(g(_i),null,{default:H(()=>[F(g(Ci),null,{default:H(()=>[F(g(ki),null,{default:H(()=>[...b[6]||(b[6]=[Ye("Limpiar hurfanos?",-1)])]),_:1}),F(g(wi),null,{default:H(()=>[Ye(we(y.$t("settings.clearCacheConfirm")),1)]),_:1})]),_:1}),F(g(xi),null,{default:H(()=>[F(g(bi),null,{default:H(()=>[...b[7]||(b[7]=[Ye("Cancelar",-1)])]),_:1}),F(g(yi),{onClick:f,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:H(()=>[...b[8]||(b[8]=[Ye(" Limpiar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),_("button",{onClick:h,class:"px-4 py-2 bg-muted hover:bg-muted/80 rounded-xl text-sm font-bold transition-all"},we(y.$t("settings.fixMediaOrder")),1),F(g(vi),null,{default:H(()=>[F(g(Si),{"as-child":""},{default:H(()=>[_("button",_E,we(y.$t("settings.inferModes")),1)]),_:1}),F(g(_i),null,{default:H(()=>[F(g(Ci),null,{default:H(()=>[F(g(ki),null,{default:H(()=>[...b[9]||(b[9]=[Ye("Inferir modos?",-1)])]),_:1}),F(g(wi),null,{default:H(()=>[Ye(we(y.$t("settings.inferModesConfirm")),1)]),_:1})]),_:1}),F(g(xi),null,{default:H(()=>[F(g(bi),null,{default:H(()=>[...b[10]||(b[10]=[Ye("Cancelar",-1)])]),_:1}),F(g(yi),{onClick:p},{default:H(()=>[...b[11]||(b[11]=[Ye(" Continuar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),c.value?(M(),le("p",wE,we(c.value),1)):He("",!0)]),_("div",xE,[_("div",CE,[_("h2",kE,we(y.$t("settings.logs")),1),_("button",{onClick:b[1]||(b[1]=v=>a.value=[]),class:"text-xs text-muted-foreground hover:text-destructive transition-colors"},we(y.$t("settings.clearLogs")),1)]),_("div",SE,[g(a).length===0?(M(),le("div",EE,we(y.$t("settings.waitingActivity")),1)):He("",!0),(M(!0),le(Ve,null,bt(g(a),(v,x)=>(M(),le("div",{key:x,class:"border-b border-white/5 pb-2"},[_("div",TE,[_("span",AE,we(u(v.timestamp)),1),_("span",{class:st(["ml-2",v.error?"text-destructive":"text-foreground"])},"["+we(v.type)+"] "+we(v.message),3)]),v.details?(M(),le("pre",PE,we(JSON.stringify(v.details,null,2)),1)):He("",!0)]))),128))])])])]))}}),IE={text2image:{icon:bs,labelKey:"modes.text2image",defaultLabel:"Texto a imagen"},"image-edit":{icon:R0,labelKey:"modes.imageEdit",defaultLabel:"Edicin de imagen"},inpaint:{icon:Ox,labelKey:"modes.inpaint",defaultLabel:"Mejorar"},text2speech:{icon:_x,labelKey:"modes.text2speech",defaultLabel:"Texto a voz"},text2video:{icon:tp,labelKey:"modes.text2video",defaultLabel:"Texto a video"},image2video:{icon:tp,labelKey:"modes.image2video",defaultLabel:"Imagen a video"},"editor-project":{icon:jx,labelKey:"modes.editor",defaultLabel:"Editor"}};function q1(t){return t?IE[t]||{icon:zh,labelKey:"modes.unknown",defaultLabel:"Desconocido"}:{icon:zh,labelKey:"modes.unknown",defaultLabel:"Desconocido"}}function LE(t){return q1(t).icon}function j1(t){return q1(t).defaultLabel}const ME={class:"group relative bg-muted/30 rounded-xl overflow-hidden border hover:border-primary/50 transition-all shadow-sm hover:shadow-xl hover:shadow-primary/5",style:{"content-visibility":"auto","contain-intrinsic-size":"0 200px"}},RE=["src"],DE=["src"],NE={key:2,class:"w-full h-full flex items-center justify-center bg-primary/10"},$E={key:1,class:"animate-pulse w-full h-full bg-muted/50"},FE={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-sm"},BE={class:"absolute bottom-2 right-2 w-8 h-8 bg-black/50 backdrop-blur-sm rounded-md flex items-center justify-center cursor-help"},UE=me({__name:"LibraryItem",props:{item:{}},emits:["zoom"],setup(t,{emit:e}){const n=t,r=e,s=zs(),i=J(null),o=J(null),a=J(null),l=J(!1),c=J(!1),u=J(!1),d=pe(()=>LE(n.item.mode)),f=pe(()=>j1(n.item.mode));async function h(){if(u.value||await b(),!o.value)return;const v=document.createElement("a");v.href=o.value,v.download=`pixeo-${n.item.id}.${p()}`,v.click()}function p(){return n.item.type==="video"?"mp4":n.item.type==="audio"?"wav":"png"}async function m(){await s.removeItem(n.item.id)}async function w(){u.value||await b(),r("zoom",n.item,o.value)}Rt(()=>{const{stop:v}=D6(a,([{isIntersecting:x}],C)=>{x&&!c.value&&(l.value=!0,y(),v())},{threshold:.1,rootMargin:"50px"})});async function y(){if(c.value)return;const v=await s.getThumbnailUrl(n.item.id);v&&(i.value=v,c.value=!0)}async function b(){if(u.value)return;const v=await s.getBlob(n.item.id);v&&(o.value=URL.createObjectURL(v),u.value=!0)}return ln(()=>{o.value&&URL.revokeObjectURL(o.value)}),(v,x)=>(M(),ce(g(Ld),null,{default:H(()=>[_("div",ME,[_("div",{ref_key:"itemRef",ref:a,class:"aspect-square bg-muted flex items-center justify-center relative overflow-hidden"},[l.value&&i.value?(M(),le(Ve,{key:0},[t.item.type==="image"?(M(),le("img",{key:0,src:i.value,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",decoding:"async"},null,8,RE)):t.item.type==="video"?(M(),le("video",{key:1,src:i.value,class:"w-full h-full object-cover",muted:"",loop:"",preload:"none",onMouseenter:x[0]||(x[0]=C=>C.target.play()),onMouseleave:x[1]||(x[1]=C=>C.target.pause())},null,40,DE)):t.item.type==="audio"?(M(),le("div",NE,[F(g(ud),{class:"w-8 h-8 text-primary"})])):He("",!0)],64)):(M(),le("div",$E)),_("div",FE,[F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("button",{onClick:w,class:"p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors"},[F(g(D0),{class:"w-4 h-4"})])]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(v.$t("actions.zoom")),1)]),_:1})]),_:1}),F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("button",{onClick:h,class:"p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors"},[F(g(Mr),{class:"w-4 h-4"})])]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(v.$t("actions.download")),1)]),_:1})]),_:1}),F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("button",{onClick:m,class:"p-2 bg-destructive/80 hover:bg-destructive rounded-full text-white transition-colors"},[F(g(Ns),{class:"w-4 h-4"})])]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(v.$t("actions.delete")),1)]),_:1})]),_:1})]),F(g(zn),null,{default:H(()=>[F(g(Yn),{"as-child":""},{default:H(()=>[_("div",BE,[(M(),ce(Pn(d.value),{class:"w-6 h-6 text-white"}))])]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",null,we(f.value),1)]),_:1})]),_:1})],512)])]),_:1}))}}),GE={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},to=320,Dp=3,qE=me({__name:"VirtualLibraryGrid",props:{items:{}},emits:["zoom"],setup(t,{emit:e}){const n=t,r=J(null),s=J(0),i=J(0),o=pe(()=>{const f=l();return Math.ceil(n.items.length/f)*to}),a=pe(()=>(l(),Math.floor(s.value/to)*to)),l=()=>{if(!r.value)return 2;const f=r.value.clientWidth;return f>=1280?5:f>=1024?4:f>=768?3:2},c=pe(()=>{const f=l(),h=Math.max(0,Math.floor(s.value/to)-Dp),p=Math.min(Math.ceil((s.value+i.value)/to)+Dp,Math.ceil(n.items.length/f)),m=h*f,w=Math.min(p*f,n.items.length);return n.items.slice(m,w)}),u=()=>{r.value&&(s.value=r.value.scrollTop)},d=()=>{r.value&&(i.value=r.value.clientHeight)};return Rt(()=>{r.value&&(r.value.addEventListener("scroll",u),d(),window.addEventListener("resize",d))}),ln(()=>{r.value&&r.value.removeEventListener("scroll",u),window.removeEventListener("resize",d)}),Je(()=>n.items.length,()=>{d()}),(f,h)=>(M(),le("div",{ref_key:"containerRef",ref:r,class:"relative w-full"},[_("div",{style:ft({height:`${o.value}px`,position:"relative"})},[_("div",{style:ft({transform:`translateY(${a.value}px)`,position:"absolute",top:0,left:0,right:0})},[_("div",GE,[(M(!0),le(Ve,null,bt(c.value,p=>(M(),ce(UE,{key:p.id,item:p,onZoom:h[0]||(h[0]=m=>f.$emit("zoom",m))},null,8,["item"]))),128))])],4)],4)],512))}}),jE={key:0,class:"fixed inset-0 z-100 flex items-center justify-center p-4 md:p-8 bg-background/80 backdrop-blur-xl"},WE={class:"relative w-full max-w-7xl max-h-screen bg-card border rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row",style:{"max-height":"90vh","max-width":"90vw"}},HE={class:"flex-3 bg-black/5 flex items-center justify-center p-4 overflow-hidden border-r"},zE=["src"],VE=["src"],YE={key:2,class:"flex flex-col items-center gap-4"},KE=["src"],XE={class:"flex-1 p-6 md:p-4 overflow-y-auto bg-card/50 border-l border-white/5"},JE={class:"space-y-6"},QE={class:"text-xs font-bold text-muted-foreground uppercase tracking-widest mb-2"},ZE={class:"text-lg font-bold"},eT={class:"relative"},tT={class:"flex items-center justify-between mb-2"},nT={class:"text-xs font-bold text-muted-foreground uppercase tracking-widest"},rT=["title"],sT={class:"max-h-40 overflow-y-auto bg-muted/30 p-4 rounded-xl border border-white/5 shadow-inner"},iT={class:"text-sm leading-relaxed whitespace-pre-wrap"},oT={key:0,class:"opacity-60"},aT={class:"text-xs font-bold text-muted-foreground uppercase tracking-widest mb-2"},lT={class:"text-xs leading-relaxed"},uT={class:"grid grid-cols-2 gap-4"},cT={class:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider mb-1"},dT={class:"text-xs font-mono font-bold"},fT={class:"pt-4 border-t border-white/5 space-y-2"},hT={class:"grid grid-cols-2 gap-2"},pT=me({__name:"ZoomModal",props:{show:{type:Boolean,required:!0},item:{type:Object,default:null},blobUrl:{type:String,default:null},thumbnailUrl:{type:String,default:null}},emits:{close:null,download:null,edit:(t,e)=>!0,enhance:(t,e)=>!0},setup(t,{emit:e}){const{t:n}=Ho(),r=pe(()=>n("common.edit")),s=pe(()=>n("common.enhance")),i=pe(()=>n("actions.download")),o=t,a=e,l=J(!1);function c(){a("close")}function u(){a("download")}function d(){a("edit",o.item,o.blobUrl)}function f(){a("enhance",o.item,o.blobUrl)}async function h(){var m,w;(w=(m=o.item)==null?void 0:m.params)!=null&&w.prompt&&(await navigator.clipboard.writeText(o.item.params.prompt),l.value=!0,setTimeout(()=>{l.value=!1},2e3))}const p=pe(()=>{var b;if(!((b=o.item)!=null&&b.params))return{};const{prompt:m,negative_prompt:w,...y}=o.item.params;return Object.fromEntries(Object.entries(y).filter(([v])=>!v.includes("b64")&&v!=="image"&&v!=="img_b64"&&v!=="image_b64s"))});return(m,w)=>(M(),ce(cm,{name:"fade"},{default:H(()=>[t.show&&t.item?(M(),le("div",jE,[_("div",WE,[_("button",{onClick:c,class:"absolute top-4 right-4 z-10 p-2 rounded-full bg-background/50 hover:bg-background transition-colors shadow-lg"},[F(g(Ii),{class:"w-5 h-5"})]),_("div",HE,[t.item.type==="image"?(M(),le("img",{key:0,src:t.item.mode==="editor-project"?t.thumbnailUrl||void 0:t.blobUrl||void 0,class:"max-w-full max-h-full object-contain shadow-2xl rounded-lg"},null,8,zE)):t.item.type==="video"?(M(),le("video",{key:1,src:t.blobUrl||void 0,class:"max-w-full max-h-full object-contain",controls:"",autoplay:"",loop:""},null,8,VE)):t.item.type==="audio"?(M(),le("div",YE,[F(g(ud),{class:"w-20 h-20 text-primary animate-pulse"}),_("audio",{src:t.blobUrl||void 0,controls:""},null,8,KE)])):He("",!0)]),_("div",XE,[_("div",JE,[_("div",null,[_("h3",QE,we(m.$t("common.model")),1),_("p",ZE,we(t.item.model),1)]),_("div",eT,[_("div",tT,[_("h3",nT,we(m.$t("common.prompt")),1),_("button",{onClick:h,class:"p-1.5 rounded-lg bg-muted/50 hover:bg-muted transition-colors",title:m.$t("actions.copy")},[l.value?(M(),ce(g(xx),{key:0,class:"w-4 h-4 text-green-500"})):(M(),ce(g(Qa),{key:1,class:"w-4 h-4"}))],8,rT)]),_("div",sT,[_("p",iT,we(t.item.params.prompt),1)])]),t.item.params.negative_prompt?(M(),le("div",oT,[_("h3",aT,we(m.$t("common.negativePrompt")),1),_("p",lT,we(t.item.params.negative_prompt),1)])):He("",!0),_("div",uT,[(M(!0),le(Ve,null,bt(p.value,(y,b)=>(M(),le("div",{key:b},[_("h3",cT,we(b),1),_("p",dT,we(y),1)]))),128))]),_("div",fT,[_("div",hT,[_("button",{onClick:d,class:"flex items-center justify-center gap-2 bg-secondary text-secondary-foreground py-3 rounded-xl font-bold hover:scale-[1.02] active:scale-95 transition-all shadow-lg text-sm"},[F(g(qx),{class:"w-4 h-4"}),Ye(" "+we(r.value),1)]),_("button",{onClick:f,class:"flex items-center justify-center gap-2 bg-secondary text-secondary-foreground py-3 rounded-xl font-bold hover:scale-[1.02] active:scale-95 transition-all shadow-lg text-sm"},[F(g(G0),{class:"w-4 h-4"}),Ye(" "+we(s.value),1)])]),_("button",{onClick:u,class:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground py-3 rounded-xl font-bold hover:scale-[1.02] active:scale-95 transition-all shadow-lg shadow-primary/20"},[F(g(Mr),{class:"w-4 h-4"}),Ye(" "+we(i.value),1)])])])])])])):He("",!0)]),_:1}))}}),gT=Vl(pT,[["__scopeId","data-v-9c497417"]]),mT={key:0,class:"space-y-4 max-h-[70vh] overflow-y-auto"},vT={class:"flex-1 min-w-0"},yT={class:"text-xs text-muted-foreground mb-1 uppercase tracking-wider"},bT={class:"text-sm break-words"},_T={class:"relative max-w-xs w-full shrink-0"},wT={key:0,class:"relative"},xT=["src","onClick"],CT={class:"absolute bottom-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},kT=["onClick"],ST=["onClick"],ET={key:1,class:"relative"},TT=["src"],AT={class:"absolute bottom-2 right-2 flex gap-2"},PT=["onClick"],OT={key:2,class:"flex flex-col items-center gap-2 p-4 bg-muted/20 rounded-xl"},IT=["src"],LT=["onClick"],MT={key:3,class:"w-full h-48 bg-muted/20 rounded-xl flex items-center justify-center"},RT={key:1,class:"text-center text-muted-foreground p-12"},DT={class:"w-20 h-20 bg-muted/50 rounded-3xl flex items-center justify-center mx-auto mb-6"},NT={class:"text-2xl font-bold text-foreground mb-2"},$T=me({__name:"GenerationHistory",props:{sessionItems:{}},emits:["zoom","download"],setup(t,{emit:e}){const n=t,r=zs(),s=J({});async function i(){const o={};for(const a of n.sessionItems)if(s.value[a.id])o[a.id]=s.value[a.id];else{const l=await r.getBlob(a.id);l&&(o[a.id]=URL.createObjectURL(l))}for(const a in s.value)o[a]||URL.revokeObjectURL(s.value[a]);s.value=o}return Je(()=>n.sessionItems,()=>{i()},{immediate:!0,deep:!0}),ln(()=>{for(const o of Object.values(s.value))URL.revokeObjectURL(o)}),(o,a)=>t.sessionItems.length>0?(M(),le("div",mT,[(M(!0),le(Ve,null,bt(t.sessionItems,l=>(M(),le("div",{key:l.id,class:"flex gap-4 mt-1.5 mb-1.5 p-4 bg-sidebar rounded-2xl border"},[_("div",vT,[_("div",yT,we(l.model),1),_("p",bT,we(l.params.prompt),1)]),_("div",_T,[l.type==="image"&&s.value[l.id]?(M(),le("div",wT,[_("img",{src:s.value[l.id],class:"place-self-center w-auto max-h-48 object-contain rounded-xl shadow-xl",onClick:c=>o.$emit("zoom",l)},null,8,xT),_("div",CT,[_("button",{onClick:c=>o.$emit("zoom",l),class:"bg-black/50 text-white p-2 rounded-lg hover:bg-black/70 transition-colors"},[F(g(D0),{class:"w-4 h-4"})],8,kT),_("button",{onClick:c=>o.$emit("download",s.value[l.id],l.id),class:"bg-black/50 text-white p-2 rounded-lg hover:bg-black/70 transition-colors"},[F(g(Mr),{class:"w-4 h-4"})],8,ST)])])):l.type==="video"&&s.value[l.id]?(M(),le("div",ET,[_("video",{src:s.value[l.id],class:"w-full max-h-48 object-contain rounded-xl shadow-lg",controls:"",autoplay:"",loop:""},null,8,TT),_("div",AT,[_("button",{onClick:c=>o.$emit("download",s.value[l.id],l.id),class:"bg-black/50 text-white p-2 rounded-lg hover:bg-black/70 transition-colors"},[F(g(Mr),{class:"w-4 h-4"})],8,PT)])])):l.type==="audio"&&s.value[l.id]?(M(),le("div",OT,[F(g(ud),{class:"w-8 h-8 text-primary"}),_("audio",{src:s.value[l.id],controls:""},null,8,IT),_("button",{onClick:c=>o.$emit("download",s.value[l.id],l.id),class:"bg-primary text-primary-foreground p-2 rounded-lg hover:bg-primary/90 transition-colors"},[F(g(Mr),{class:"w-4 h-4"})],8,LT)])):(M(),le("div",MT,[F(g(el),{class:"w-8 h-8 animate-spin text-muted-foreground"})]))])]))),128))])):(M(),le("div",RT,[_("div",DT,[F(g($0),{class:"w-10 h-10 opacity-20"})]),_("h2",NT,we(o.$t("generate.heroTitle")),1)]))}});var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ka(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $u={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Np;function BT(){return Np||(Np=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,s,i){function o(c,u){if(!s[c]){if(!r[c]){var d=typeof ka=="function"&&ka;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[c]={exports:{}};r[c][0].call(h.exports,function(p){var m=r[c][1][p];return o(m||p)},h,h.exports,n,r,s,i)}return s[c].exports}for(var a=typeof ka=="function"&&ka,l=0;l<i.length;l++)o(i[l]);return o})({1:[function(n,r,s){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,a;if(o){var l=0,c=new o(p),u=i.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var d=new i.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?a=function(){var w=i.document.createElement("script");w.onreadystatechange=function(){p(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var w,y,b=h.length;b;){for(y=h,h=[],w=-1;++w<b;)y[w]();b=h.length}f=!1}r.exports=m;function m(w){h.push(w)===1&&!f&&a()}}).call(this,typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,s){var i=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,C!==o&&m(this,C)}d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,O){if(typeof C!="function"&&this.state===c||typeof O!="function"&&this.state===l)return this;var q=new this.constructor(o);if(this.state!==u){var A=this.state===c?C:O;h(q,A,this.outcome)}else this.queue.push(new f(q,C,O));return q};function f(C,O,q){this.promise=C,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof q=="function"&&(this.onRejected=q,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(C){a.resolve(this.promise,C)},f.prototype.otherCallFulfilled=function(C){h(this.promise,this.onFulfilled,C)},f.prototype.callRejected=function(C){a.reject(this.promise,C)},f.prototype.otherCallRejected=function(C){h(this.promise,this.onRejected,C)};function h(C,O,q){i(function(){var A;try{A=O(q)}catch(E){return a.reject(C,E)}A===C?a.reject(C,new TypeError("Cannot resolve promise with itself")):a.resolve(C,A)})}a.resolve=function(C,O){var q=w(p,O);if(q.status==="error")return a.reject(C,q.value);var A=q.value;if(A)m(C,A);else{C.state=c,C.outcome=O;for(var E=-1,P=C.queue.length;++E<P;)C.queue[E].callFulfilled(O)}return C},a.reject=function(C,O){C.state=l,C.outcome=O;for(var q=-1,A=C.queue.length;++q<A;)C.queue[q].callRejected(O);return C};function p(C){var O=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof O=="function")return function(){O.apply(C,arguments)}}function m(C,O){var q=!1;function A(T){q||(q=!0,a.reject(C,T))}function E(T){q||(q=!0,a.resolve(C,T))}function P(){O(E,A)}var j=w(P);j.status==="error"&&A(j.value)}function w(C,O){var q={};try{q.value=C(O),q.status="success"}catch(A){q.status="error",q.value=A}return q}d.resolve=y;function y(C){return C instanceof this?C:a.resolve(new this(o),C)}d.reject=b;function b(C){var O=new this(o);return a.reject(O,C)}d.all=v;function v(C){var O=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var q=C.length,A=!1;if(!q)return this.resolve([]);for(var E=new Array(q),P=0,j=-1,T=new this(o);++j<q;)B(C[j],j);return T;function B(Y,L){O.resolve(Y).then($,function(k){A||(A=!0,a.reject(T,k))});function $(k){E[L]=k,++P===q&&!A&&(A=!0,a.resolve(T,E))}}}d.race=x;function x(C){var O=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var q=C.length,A=!1;if(!q)return this.resolve([]);for(var E=-1,P=new this(o);++E<q;)j(C[E]);return P;function j(T){O.resolve(T).then(function(B){A||(A=!0,a.resolve(P,B))},function(B){A||(A=!0,a.reject(P,B))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function o(I,X){if(!(I instanceof X))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),X=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||X)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(I,X){I=I||[],X=X||{};try{return new Blob(I,X)}catch(ee){if(ee.name!=="TypeError")throw ee;for(var G=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new G,oe=0;oe<I.length;oe+=1)ne.append(I[oe]);return ne.getBlob(X.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(I,X){X&&I.then(function(G){X(null,G)},function(G){X(G)})}function h(I,X,G){typeof X=="function"&&I.then(X),typeof G=="function"&&I.catch(G)}function p(I){return typeof I!="string"&&(console.warn(I+" used as a key, but it is not a string."),I=String(I)),I}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",y=void 0,b={},v=Object.prototype.toString,x="readonly",C="readwrite";function O(I){for(var X=I.length,G=new ArrayBuffer(X),ne=new Uint8Array(G),oe=0;oe<X;oe++)ne[oe]=I.charCodeAt(oe);return G}function q(I){return new d(function(X){var G=I.transaction(w,C),ne=u([""]);G.objectStore(w).put(ne,"key"),G.onabort=function(oe){oe.preventDefault(),oe.stopPropagation(),X(!1)},G.oncomplete=function(){var oe=navigator.userAgent.match(/Chrome\/(\d+)/),ee=navigator.userAgent.match(/Edge\//);X(ee||!oe||parseInt(oe[1],10)>=43)}}).catch(function(){return!1})}function A(I){return typeof y=="boolean"?d.resolve(y):q(I).then(function(X){return y=X,y})}function E(I){var X=b[I.name],G={};G.promise=new d(function(ne,oe){G.resolve=ne,G.reject=oe}),X.deferredOperations.push(G),X.dbReady?X.dbReady=X.dbReady.then(function(){return G.promise}):X.dbReady=G.promise}function P(I){var X=b[I.name],G=X.deferredOperations.pop();if(G)return G.resolve(),G.promise}function j(I,X){var G=b[I.name],ne=G.deferredOperations.pop();if(ne)return ne.reject(X),ne.promise}function T(I,X){return new d(function(G,ne){if(b[I.name]=b[I.name]||ve(),I.db)if(X)E(I),I.db.close();else return G(I.db);var oe=[I.name];X&&oe.push(I.version);var ee=l.open.apply(l,oe);X&&(ee.onupgradeneeded=function(ye){var ke=ee.result;try{ke.createObjectStore(I.storeName),ye.oldVersion<=1&&ke.createObjectStore(w)}catch(Ae){if(Ae.name==="ConstraintError")console.warn('The database "'+I.name+'" has been upgraded from version '+ye.oldVersion+" to version "+ye.newVersion+', but the storage "'+I.storeName+'" already exists.');else throw Ae}}),ee.onerror=function(ye){ye.preventDefault(),ne(ee.error)},ee.onsuccess=function(){var ye=ee.result;ye.onversionchange=function(ke){ke.target.close()},G(ye),P(I)}})}function B(I){return T(I,!1)}function Y(I){return T(I,!0)}function L(I,X){if(!I.db)return!0;var G=!I.db.objectStoreNames.contains(I.storeName),ne=I.version<I.db.version,oe=I.version>I.db.version;if(ne&&(I.version!==X&&console.warn('The database "'+I.name+`" can't be downgraded from version `+I.db.version+" to version "+I.version+"."),I.version=I.db.version),oe||G){if(G){var ee=I.db.version+1;ee>I.version&&(I.version=ee)}return!0}return!1}function $(I){return new d(function(X,G){var ne=new FileReader;ne.onerror=G,ne.onloadend=function(oe){var ee=btoa(oe.target.result||"");X({__local_forage_encoded_blob:!0,data:ee,type:I.type})},ne.readAsBinaryString(I)})}function k(I){var X=O(atob(I.data));return u([X],{type:I.type})}function S(I){return I&&I.__local_forage_encoded_blob}function V(I){var X=this,G=X._initReady().then(function(){var ne=b[X._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return h(G,I,I),G}function ie(I){E(I);for(var X=b[I.name],G=X.forages,ne=0;ne<G.length;ne++){var oe=G[ne];oe._dbInfo.db&&(oe._dbInfo.db.close(),oe._dbInfo.db=null)}return I.db=null,B(I).then(function(ee){return I.db=ee,L(I)?Y(I):ee}).then(function(ee){I.db=X.db=ee;for(var ye=0;ye<G.length;ye++)G[ye]._dbInfo.db=ee}).catch(function(ee){throw j(I,ee),ee})}function ae(I,X,G,ne){ne===void 0&&(ne=1);try{var oe=I.db.transaction(I.storeName,X);G(null,oe)}catch(ee){if(ne>0&&(!I.db||ee.name==="InvalidStateError"||ee.name==="NotFoundError"))return d.resolve().then(function(){if(!I.db||ee.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),Y(I)}).then(function(){return ie(I).then(function(){ae(I,X,G,ne-1)})}).catch(G);G(ee)}}function ve(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function fe(I){var X=this,G={db:null};if(I)for(var ne in I)G[ne]=I[ne];var oe=b[G.name];oe||(oe=ve(),b[G.name]=oe),oe.forages.push(X),X._initReady||(X._initReady=X.ready,X.ready=V);var ee=[];function ye(){return d.resolve()}for(var ke=0;ke<oe.forages.length;ke++){var Ae=oe.forages[ke];Ae!==X&&ee.push(Ae._initReady().catch(ye))}var Oe=oe.forages.slice(0);return d.all(ee).then(function(){return G.db=oe.db,B(G)}).then(function(De){return G.db=De,L(G,X._defaultConfig.version)?Y(G):De}).then(function(De){G.db=oe.db=De,X._dbInfo=G;for(var ze=0;ze<Oe.length;ze++){var at=Oe[ze];at!==X&&(at._dbInfo.db=G.db,at._dbInfo.version=G.version)}})}function Ge(I,X){var G=this;I=p(I);var ne=new d(function(oe,ee){G.ready().then(function(){ae(G._dbInfo,x,function(ye,ke){if(ye)return ee(ye);try{var Ae=ke.objectStore(G._dbInfo.storeName),Oe=Ae.get(I);Oe.onsuccess=function(){var De=Oe.result;De===void 0&&(De=null),S(De)&&(De=k(De)),oe(De)},Oe.onerror=function(){ee(Oe.error)}}catch(De){ee(De)}})}).catch(ee)});return f(ne,X),ne}function be(I,X){var G=this,ne=new d(function(oe,ee){G.ready().then(function(){ae(G._dbInfo,x,function(ye,ke){if(ye)return ee(ye);try{var Ae=ke.objectStore(G._dbInfo.storeName),Oe=Ae.openCursor(),De=1;Oe.onsuccess=function(){var ze=Oe.result;if(ze){var at=ze.value;S(at)&&(at=k(at));var mt=I(at,ze.key,De++);mt!==void 0?oe(mt):ze.continue()}else oe()},Oe.onerror=function(){ee(Oe.error)}}catch(ze){ee(ze)}})}).catch(ee)});return f(ne,X),ne}function xe(I,X,G){var ne=this;I=p(I);var oe=new d(function(ee,ye){var ke;ne.ready().then(function(){return ke=ne._dbInfo,v.call(X)==="[object Blob]"?A(ke.db).then(function(Ae){return Ae?X:$(X)}):X}).then(function(Ae){ae(ne._dbInfo,C,function(Oe,De){if(Oe)return ye(Oe);try{var ze=De.objectStore(ne._dbInfo.storeName);Ae===null&&(Ae=void 0);var at=ze.put(Ae,I);De.oncomplete=function(){Ae===void 0&&(Ae=null),ee(Ae)},De.onabort=De.onerror=function(){var mt=at.error?at.error:at.transaction.error;ye(mt)}}catch(mt){ye(mt)}})}).catch(ye)});return f(oe,G),oe}function Q(I,X){var G=this;I=p(I);var ne=new d(function(oe,ee){G.ready().then(function(){ae(G._dbInfo,C,function(ye,ke){if(ye)return ee(ye);try{var Ae=ke.objectStore(G._dbInfo.storeName),Oe=Ae.delete(I);ke.oncomplete=function(){oe()},ke.onerror=function(){ee(Oe.error)},ke.onabort=function(){var De=Oe.error?Oe.error:Oe.transaction.error;ee(De)}}catch(De){ee(De)}})}).catch(ee)});return f(ne,X),ne}function $e(I){var X=this,G=new d(function(ne,oe){X.ready().then(function(){ae(X._dbInfo,C,function(ee,ye){if(ee)return oe(ee);try{var ke=ye.objectStore(X._dbInfo.storeName),Ae=ke.clear();ye.oncomplete=function(){ne()},ye.onabort=ye.onerror=function(){var Oe=Ae.error?Ae.error:Ae.transaction.error;oe(Oe)}}catch(Oe){oe(Oe)}})}).catch(oe)});return f(G,I),G}function Le(I){var X=this,G=new d(function(ne,oe){X.ready().then(function(){ae(X._dbInfo,x,function(ee,ye){if(ee)return oe(ee);try{var ke=ye.objectStore(X._dbInfo.storeName),Ae=ke.count();Ae.onsuccess=function(){ne(Ae.result)},Ae.onerror=function(){oe(Ae.error)}}catch(Oe){oe(Oe)}})}).catch(oe)});return f(G,I),G}function Fe(I,X){var G=this,ne=new d(function(oe,ee){if(I<0){oe(null);return}G.ready().then(function(){ae(G._dbInfo,x,function(ye,ke){if(ye)return ee(ye);try{var Ae=ke.objectStore(G._dbInfo.storeName),Oe=!1,De=Ae.openKeyCursor();De.onsuccess=function(){var ze=De.result;if(!ze){oe(null);return}I===0||Oe?oe(ze.key):(Oe=!0,ze.advance(I))},De.onerror=function(){ee(De.error)}}catch(ze){ee(ze)}})}).catch(ee)});return f(ne,X),ne}function We(I){var X=this,G=new d(function(ne,oe){X.ready().then(function(){ae(X._dbInfo,x,function(ee,ye){if(ee)return oe(ee);try{var ke=ye.objectStore(X._dbInfo.storeName),Ae=ke.openKeyCursor(),Oe=[];Ae.onsuccess=function(){var De=Ae.result;if(!De){ne(Oe);return}Oe.push(De.key),De.continue()},Ae.onerror=function(){oe(Ae.error)}}catch(De){oe(De)}})}).catch(oe)});return f(G,I),G}function U(I,X){X=m.apply(this,arguments);var G=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||G.name,I.storeName=I.storeName||G.storeName);var ne=this,oe;if(!I.name)oe=d.reject("Invalid arguments");else{var ee=I.name===G.name&&ne._dbInfo.db,ye=ee?d.resolve(ne._dbInfo.db):B(I).then(function(ke){var Ae=b[I.name],Oe=Ae.forages;Ae.db=ke;for(var De=0;De<Oe.length;De++)Oe[De]._dbInfo.db=ke;return ke});I.storeName?oe=ye.then(function(ke){if(ke.objectStoreNames.contains(I.storeName)){var Ae=ke.version+1;E(I);var Oe=b[I.name],De=Oe.forages;ke.close();for(var ze=0;ze<De.length;ze++){var at=De[ze];at._dbInfo.db=null,at._dbInfo.version=Ae}var mt=new d(function(yt,Wt){var Gt=l.open(I.name,Ae);Gt.onerror=function($n){var ji=Gt.result;ji.close(),Wt($n)},Gt.onupgradeneeded=function(){var $n=Gt.result;$n.deleteObjectStore(I.storeName)},Gt.onsuccess=function(){var $n=Gt.result;$n.close(),yt($n)}});return mt.then(function(yt){Oe.db=yt;for(var Wt=0;Wt<De.length;Wt++){var Gt=De[Wt];Gt._dbInfo.db=yt,P(Gt._dbInfo)}}).catch(function(yt){throw(j(I,yt)||d.resolve()).catch(function(){}),yt})}}):oe=ye.then(function(ke){E(I);var Ae=b[I.name],Oe=Ae.forages;ke.close();for(var De=0;De<Oe.length;De++){var ze=Oe[De];ze._dbInfo.db=null}var at=new d(function(mt,yt){var Wt=l.deleteDatabase(I.name);Wt.onerror=function(){var Gt=Wt.result;Gt&&Gt.close(),yt(Wt.error)},Wt.onblocked=function(){console.warn('dropInstance blocked for database "'+I.name+'" until all open connections are closed')},Wt.onsuccess=function(){var Gt=Wt.result;Gt&&Gt.close(),mt(Gt)}});return at.then(function(mt){Ae.db=mt;for(var yt=0;yt<Oe.length;yt++){var Wt=Oe[yt];P(Wt._dbInfo)}}).catch(function(mt){throw(j(I,mt)||d.resolve()).catch(function(){}),mt})})}return f(oe,X),oe}var K={_driver:"asyncStorage",_initStorage:fe,_support:c(),iterate:be,getItem:Ge,setItem:xe,removeItem:Q,clear:$e,length:Le,key:Fe,keys:We,dropInstance:U};function z(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de="~~local_forage_type~",he=/^~~local_forage_type~([^~]+)~/,Ce="__lfsc__:",Te=Ce.length,R="arbf",D="blob",ue="si08",ge="ui08",Me="uic8",se="si16",N="si32",te="ur16",_e="ui32",Pe="fl32",rt="fl64",xt=Te+R.length,Et=Object.prototype.toString;function nn(I){var X=I.length*.75,G=I.length,ne,oe=0,ee,ye,ke,Ae;I[I.length-1]==="="&&(X--,I[I.length-2]==="="&&X--);var Oe=new ArrayBuffer(X),De=new Uint8Array(Oe);for(ne=0;ne<G;ne+=4)ee=Z.indexOf(I[ne]),ye=Z.indexOf(I[ne+1]),ke=Z.indexOf(I[ne+2]),Ae=Z.indexOf(I[ne+3]),De[oe++]=ee<<2|ye>>4,De[oe++]=(ye&15)<<4|ke>>2,De[oe++]=(ke&3)<<6|Ae&63;return Oe}function or(I){var X=new Uint8Array(I),G="",ne;for(ne=0;ne<X.length;ne+=3)G+=Z[X[ne]>>2],G+=Z[(X[ne]&3)<<4|X[ne+1]>>4],G+=Z[(X[ne+1]&15)<<2|X[ne+2]>>6],G+=Z[X[ne+2]&63];return X.length%3===2?G=G.substring(0,G.length-1)+"=":X.length%3===1&&(G=G.substring(0,G.length-2)+"=="),G}function Zt(I,X){var G="";if(I&&(G=Et.call(I)),I&&(G==="[object ArrayBuffer]"||I.buffer&&Et.call(I.buffer)==="[object ArrayBuffer]")){var ne,oe=Ce;I instanceof ArrayBuffer?(ne=I,oe+=R):(ne=I.buffer,G==="[object Int8Array]"?oe+=ue:G==="[object Uint8Array]"?oe+=ge:G==="[object Uint8ClampedArray]"?oe+=Me:G==="[object Int16Array]"?oe+=se:G==="[object Uint16Array]"?oe+=te:G==="[object Int32Array]"?oe+=N:G==="[object Uint32Array]"?oe+=_e:G==="[object Float32Array]"?oe+=Pe:G==="[object Float64Array]"?oe+=rt:X(new Error("Failed to get type for BinaryArray"))),X(oe+or(ne))}else if(G==="[object Blob]"){var ee=new FileReader;ee.onload=function(){var ye=de+I.type+"~"+or(this.result);X(Ce+D+ye)},ee.readAsArrayBuffer(I)}else try{X(JSON.stringify(I))}catch(ye){console.error("Couldn't convert value into a JSON string: ",I),X(null,ye)}}function rn(I){if(I.substring(0,Te)!==Ce)return JSON.parse(I);var X=I.substring(xt),G=I.substring(Te,xt),ne;if(G===D&&he.test(X)){var oe=X.match(he);ne=oe[1],X=X.substring(oe[0].length)}var ee=nn(X);switch(G){case R:return ee;case D:return u([ee],{type:ne});case ue:return new Int8Array(ee);case ge:return new Uint8Array(ee);case Me:return new Uint8ClampedArray(ee);case se:return new Int16Array(ee);case te:return new Uint16Array(ee);case N:return new Int32Array(ee);case _e:return new Uint32Array(ee);case Pe:return new Float32Array(ee);case rt:return new Float64Array(ee);default:throw new Error("Unkown type: "+G)}}var Nn={serialize:Zt,deserialize:rn,stringToBuffer:nn,bufferToString:or};function Wn(I,X,G,ne){I.executeSql("CREATE TABLE IF NOT EXISTS "+X.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],G,ne)}function X1(I){var X=this,G={db:null};if(I)for(var ne in I)G[ne]=typeof I[ne]!="string"?I[ne].toString():I[ne];var oe=new d(function(ee,ye){try{G.db=openDatabase(G.name,String(G.version),G.description,G.size)}catch(ke){return ye(ke)}G.db.transaction(function(ke){Wn(ke,G,function(){X._dbInfo=G,ee()},function(Ae,Oe){ye(Oe)})},ye)});return G.serializer=Nn,oe}function Hr(I,X,G,ne,oe,ee){I.executeSql(G,ne,oe,function(ye,ke){ke.code===ke.SYNTAX_ERR?ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[X.storeName],function(Ae,Oe){Oe.rows.length?ee(Ae,ke):Wn(Ae,X,function(){Ae.executeSql(G,ne,oe,ee)},ee)},ee):ee(ye,ke)},ee)}function J1(I,X){var G=this;I=p(I);var ne=new d(function(oe,ee){G.ready().then(function(){var ye=G._dbInfo;ye.db.transaction(function(ke){Hr(ke,ye,"SELECT * FROM "+ye.storeName+" WHERE key = ? LIMIT 1",[I],function(Ae,Oe){var De=Oe.rows.length?Oe.rows.item(0).value:null;De&&(De=ye.serializer.deserialize(De)),oe(De)},function(Ae,Oe){ee(Oe)})})}).catch(ee)});return f(ne,X),ne}function Q1(I,X){var G=this,ne=new d(function(oe,ee){G.ready().then(function(){var ye=G._dbInfo;ye.db.transaction(function(ke){Hr(ke,ye,"SELECT * FROM "+ye.storeName,[],function(Ae,Oe){for(var De=Oe.rows,ze=De.length,at=0;at<ze;at++){var mt=De.item(at),yt=mt.value;if(yt&&(yt=ye.serializer.deserialize(yt)),yt=I(yt,mt.key,at+1),yt!==void 0){oe(yt);return}}oe()},function(Ae,Oe){ee(Oe)})})}).catch(ee)});return f(ne,X),ne}function Dd(I,X,G,ne){var oe=this;I=p(I);var ee=new d(function(ye,ke){oe.ready().then(function(){X===void 0&&(X=null);var Ae=X,Oe=oe._dbInfo;Oe.serializer.serialize(X,function(De,ze){ze?ke(ze):Oe.db.transaction(function(at){Hr(at,Oe,"INSERT OR REPLACE INTO "+Oe.storeName+" (key, value) VALUES (?, ?)",[I,De],function(){ye(Ae)},function(mt,yt){ke(yt)})},function(at){if(at.code===at.QUOTA_ERR){if(ne>0){ye(Dd.apply(oe,[I,Ae,G,ne-1]));return}ke(at)}})})}).catch(ke)});return f(ee,G),ee}function Z1(I,X,G){return Dd.apply(this,[I,X,G,1])}function ev(I,X){var G=this;I=p(I);var ne=new d(function(oe,ee){G.ready().then(function(){var ye=G._dbInfo;ye.db.transaction(function(ke){Hr(ke,ye,"DELETE FROM "+ye.storeName+" WHERE key = ?",[I],function(){oe()},function(Ae,Oe){ee(Oe)})})}).catch(ee)});return f(ne,X),ne}function tv(I){var X=this,G=new d(function(ne,oe){X.ready().then(function(){var ee=X._dbInfo;ee.db.transaction(function(ye){Hr(ye,ee,"DELETE FROM "+ee.storeName,[],function(){ne()},function(ke,Ae){oe(Ae)})})}).catch(oe)});return f(G,I),G}function nv(I){var X=this,G=new d(function(ne,oe){X.ready().then(function(){var ee=X._dbInfo;ee.db.transaction(function(ye){Hr(ye,ee,"SELECT COUNT(key) as c FROM "+ee.storeName,[],function(ke,Ae){var Oe=Ae.rows.item(0).c;ne(Oe)},function(ke,Ae){oe(Ae)})})}).catch(oe)});return f(G,I),G}function rv(I,X){var G=this,ne=new d(function(oe,ee){G.ready().then(function(){var ye=G._dbInfo;ye.db.transaction(function(ke){Hr(ke,ye,"SELECT key FROM "+ye.storeName+" WHERE id = ? LIMIT 1",[I+1],function(Ae,Oe){var De=Oe.rows.length?Oe.rows.item(0).key:null;oe(De)},function(Ae,Oe){ee(Oe)})})}).catch(ee)});return f(ne,X),ne}function sv(I){var X=this,G=new d(function(ne,oe){X.ready().then(function(){var ee=X._dbInfo;ee.db.transaction(function(ye){Hr(ye,ee,"SELECT key FROM "+ee.storeName,[],function(ke,Ae){for(var Oe=[],De=0;De<Ae.rows.length;De++)Oe.push(Ae.rows.item(De).key);ne(Oe)},function(ke,Ae){oe(Ae)})})}).catch(oe)});return f(G,I),G}function iv(I){return new d(function(X,G){I.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(oe,ee){for(var ye=[],ke=0;ke<ee.rows.length;ke++)ye.push(ee.rows.item(ke).name);X({db:I,storeNames:ye})},function(oe,ee){G(ee)})},function(ne){G(ne)})})}function ov(I,X){X=m.apply(this,arguments);var G=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||G.name,I.storeName=I.storeName||G.storeName);var ne=this,oe;return I.name?oe=new d(function(ee){var ye;I.name===G.name?ye=ne._dbInfo.db:ye=openDatabase(I.name,"","",0),I.storeName?ee({db:ye,storeNames:[I.storeName]}):ee(iv(ye))}).then(function(ee){return new d(function(ye,ke){ee.db.transaction(function(Ae){function Oe(mt){return new d(function(yt,Wt){Ae.executeSql("DROP TABLE IF EXISTS "+mt,[],function(){yt()},function(Gt,$n){Wt($n)})})}for(var De=[],ze=0,at=ee.storeNames.length;ze<at;ze++)De.push(Oe(ee.storeNames[ze]));d.all(De).then(function(){ye()}).catch(function(mt){ke(mt)})},function(Ae){ke(Ae)})})}):oe=d.reject("Invalid arguments"),f(oe,X),oe}var av={_driver:"webSQLStorage",_initStorage:X1,_support:z(),iterate:Q1,getItem:J1,setItem:Z1,removeItem:ev,clear:tv,length:nv,key:rv,keys:sv,dropInstance:ov};function lv(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Nd(I,X){var G=I.name+"/";return I.storeName!==X.storeName&&(G+=I.storeName+"/"),G}function uv(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function cv(){return!uv()||localStorage.length>0}function dv(I){var X=this,G={};if(I)for(var ne in I)G[ne]=I[ne];return G.keyPrefix=Nd(I,X._defaultConfig),cv()?(X._dbInfo=G,G.serializer=Nn,d.resolve()):d.reject()}function fv(I){var X=this,G=X.ready().then(function(){for(var ne=X._dbInfo.keyPrefix,oe=localStorage.length-1;oe>=0;oe--){var ee=localStorage.key(oe);ee.indexOf(ne)===0&&localStorage.removeItem(ee)}});return f(G,I),G}function hv(I,X){var G=this;I=p(I);var ne=G.ready().then(function(){var oe=G._dbInfo,ee=localStorage.getItem(oe.keyPrefix+I);return ee&&(ee=oe.serializer.deserialize(ee)),ee});return f(ne,X),ne}function pv(I,X){var G=this,ne=G.ready().then(function(){for(var oe=G._dbInfo,ee=oe.keyPrefix,ye=ee.length,ke=localStorage.length,Ae=1,Oe=0;Oe<ke;Oe++){var De=localStorage.key(Oe);if(De.indexOf(ee)===0){var ze=localStorage.getItem(De);if(ze&&(ze=oe.serializer.deserialize(ze)),ze=I(ze,De.substring(ye),Ae++),ze!==void 0)return ze}}});return f(ne,X),ne}function gv(I,X){var G=this,ne=G.ready().then(function(){var oe=G._dbInfo,ee;try{ee=localStorage.key(I)}catch{ee=null}return ee&&(ee=ee.substring(oe.keyPrefix.length)),ee});return f(ne,X),ne}function mv(I){var X=this,G=X.ready().then(function(){for(var ne=X._dbInfo,oe=localStorage.length,ee=[],ye=0;ye<oe;ye++){var ke=localStorage.key(ye);ke.indexOf(ne.keyPrefix)===0&&ee.push(ke.substring(ne.keyPrefix.length))}return ee});return f(G,I),G}function vv(I){var X=this,G=X.keys().then(function(ne){return ne.length});return f(G,I),G}function yv(I,X){var G=this;I=p(I);var ne=G.ready().then(function(){var oe=G._dbInfo;localStorage.removeItem(oe.keyPrefix+I)});return f(ne,X),ne}function bv(I,X,G){var ne=this;I=p(I);var oe=ne.ready().then(function(){X===void 0&&(X=null);var ee=X;return new d(function(ye,ke){var Ae=ne._dbInfo;Ae.serializer.serialize(X,function(Oe,De){if(De)ke(De);else try{localStorage.setItem(Ae.keyPrefix+I,Oe),ye(ee)}catch(ze){(ze.name==="QuotaExceededError"||ze.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ke(ze),ke(ze)}})})});return f(oe,G),oe}function _v(I,X){if(X=m.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var G=this.config();I.name=I.name||G.name,I.storeName=I.storeName||G.storeName}var ne=this,oe;return I.name?oe=new d(function(ee){I.storeName?ee(Nd(I,ne._defaultConfig)):ee(I.name+"/")}).then(function(ee){for(var ye=localStorage.length-1;ye>=0;ye--){var ke=localStorage.key(ye);ke.indexOf(ee)===0&&localStorage.removeItem(ke)}}):oe=d.reject("Invalid arguments"),f(oe,X),oe}var wv={_driver:"localStorageWrapper",_initStorage:dv,_support:lv(),iterate:pv,getItem:hv,setItem:bv,removeItem:yv,clear:fv,length:vv,key:gv,keys:mv,dropInstance:_v},xv=function(X,G){return X===G||typeof X=="number"&&typeof G=="number"&&isNaN(X)&&isNaN(G)},Cv=function(X,G){for(var ne=X.length,oe=0;oe<ne;){if(xv(X[oe],G))return!0;oe++}return!1},$d=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},qi={},Fd={},Xs={INDEXEDDB:K,WEBSQL:av,LOCALSTORAGE:wv},kv=[Xs.INDEXEDDB._driver,Xs.WEBSQL._driver,Xs.LOCALSTORAGE._driver],Qo=["dropInstance"],Xl=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Qo),Sv={description:"",driver:kv.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ev(I,X){I[X]=function(){var G=arguments;return I.ready().then(function(){return I[X].apply(I,G)})}}function Jl(){for(var I=1;I<arguments.length;I++){var X=arguments[I];if(X)for(var G in X)X.hasOwnProperty(G)&&($d(X[G])?arguments[0][G]=X[G].slice():arguments[0][G]=X[G])}return arguments[0]}var Tv=(function(){function I(X){o(this,I);for(var G in Xs)if(Xs.hasOwnProperty(G)){var ne=Xs[G],oe=ne._driver;this[G]=oe,qi[oe]||this.defineDriver(ne)}this._defaultConfig=Jl({},Sv),this._config=Jl({},this._defaultConfig,X),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function(G){if((typeof G>"u"?"undefined":i(G))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in G){if(ne==="storeName"&&(G[ne]=G[ne].replace(/\W/g,"_")),ne==="version"&&typeof G[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=G[ne]}return"driver"in G&&G.driver?this.setDriver(this._config.driver):!0}else return typeof G=="string"?this._config[G]:this._config},I.prototype.defineDriver=function(G,ne,oe){var ee=new d(function(ye,ke){try{var Ae=G._driver,Oe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!G._driver){ke(Oe);return}for(var De=Xl.concat("_initStorage"),ze=0,at=De.length;ze<at;ze++){var mt=De[ze],yt=!Cv(Qo,mt);if((yt||G[mt])&&typeof G[mt]!="function"){ke(Oe);return}}var Wt=function(){for(var ji=function(Ov){return function(){var Iv=new Error("Method "+Ov+" is not implemented by the current driver"),Bd=d.reject(Iv);return f(Bd,arguments[arguments.length-1]),Bd}},Ql=0,Pv=Qo.length;Ql<Pv;Ql++){var Zl=Qo[Ql];G[Zl]||(G[Zl]=ji(Zl))}};Wt();var Gt=function(ji){qi[Ae]&&console.info("Redefining LocalForage driver: "+Ae),qi[Ae]=G,Fd[Ae]=ji,ye()};"_support"in G?G._support&&typeof G._support=="function"?G._support().then(Gt,ke):Gt(!!G._support):Gt(!0)}catch($n){ke($n)}});return h(ee,ne,oe),ee},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function(G,ne,oe){var ee=qi[G]?d.resolve(qi[G]):d.reject(new Error("Driver not found."));return h(ee,ne,oe),ee},I.prototype.getSerializer=function(G){var ne=d.resolve(Nn);return h(ne,G),ne},I.prototype.ready=function(G){var ne=this,oe=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return h(oe,G,G),oe},I.prototype.setDriver=function(G,ne,oe){var ee=this;$d(G)||(G=[G]);var ye=this._getSupportedDrivers(G);function ke(){ee._config.driver=ee.driver()}function Ae(ze){return ee._extend(ze),ke(),ee._ready=ee._initStorage(ee._config),ee._ready}function Oe(ze){return function(){var at=0;function mt(){for(;at<ze.length;){var yt=ze[at];return at++,ee._dbInfo=null,ee._ready=null,ee.getDriver(yt).then(Ae).catch(mt)}ke();var Wt=new Error("No available storage method found.");return ee._driverSet=d.reject(Wt),ee._driverSet}return mt()}}var De=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=De.then(function(){var ze=ye[0];return ee._dbInfo=null,ee._ready=null,ee.getDriver(ze).then(function(at){ee._driver=at._driver,ke(),ee._wrapLibraryMethodsWithReady(),ee._initDriver=Oe(ye)})}).catch(function(){ke();var ze=new Error("No available storage method found.");return ee._driverSet=d.reject(ze),ee._driverSet}),h(this._driverSet,ne,oe),this._driverSet},I.prototype.supports=function(G){return!!Fd[G]},I.prototype._extend=function(G){Jl(this,G)},I.prototype._getSupportedDrivers=function(G){for(var ne=[],oe=0,ee=G.length;oe<ee;oe++){var ye=G[oe];this.supports(ye)&&ne.push(ye)}return ne},I.prototype._wrapLibraryMethodsWithReady=function(){for(var G=0,ne=Xl.length;G<ne;G++)Ev(this,Xl[G])},I.prototype.createInstance=function(G){return new I(G)},I})(),Av=new Tv;r.exports=Av},{3:3}]},{},[4])(4)})})($u)),$u.exports}var UT=BT();const Md=FT(UT);Md.config({name:"pixeoInpaint",storeName:"models"});const Yl={inpaint:[{name:"migan-pipeline-v2",url:"https://huggingface.co/andraniksargsyan/migan/resolve/main/migan_pipeline_v2.onnx",backupUrl:"https://huggingface.co/lxfater/inpaint-web/resolve/main/migan.onnx"}],superResolution:[{name:"realesrgan-x4",url:"https://huggingface.co/lxfater/inpaint-web/resolve/main/realesrgan-x4.onnx",backupUrl:"https://worker-share-proxy-01f5.lxfater.workers.dev/lxfater/inpaint-web/resolve/main/realesrgan-x4.onnx"}]},Na=new Map;let $p=!1,Sa=null;async function W1(){if(!$p)return Sa||(Sa=(async()=>{console.log("Loading ONNX Runtime Web...");const t=await Rd(),n="https://cdn.jsdelivr.net/npm/onnxruntime-web@1.20.1/dist/";let r;t.webgpu?r=`${n}ort.webgpu.min.js`:t.wasm?t.simd||t.threads?r=`${n}ort.wasm.min.js`:r=`${n}ort.wasm-core.min.js`:r=`${n}ort.min.js`,console.log("ONNX Runtime script:",r),await new Promise((s,i)=>{const o=document.createElement("script");o.src=r,o.onload=()=>{console.log("ONNX Runtime loaded successfully"),$p=!0,s()},o.onerror=()=>{console.error("Failed to load ONNX Runtime"),i(new Error("Failed to load ONNX Runtime"))},window.ort||(window.ort={});const a=t.threads?navigator.hardwareConcurrency||4:1,l=t.simd;Object.defineProperty(window.ort,"env",{value:{wasm:{numThreads:a,simd:l,proxy:!0}},writable:!0,configurable:!0}),console.log("ONNX Runtime env configured:",window.ort.env),document.head.appendChild(o)})})(),Sa)}async function H1(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>e(r),r.onerror=()=>n(new Error(`Failed to load image from ${t}`)),r.src=t})}async function Rd(){const t=!!navigator.gpu&&!!await navigator.gpu.requestAdapter(),e=typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function",n=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));let r=!1;try{typeof MessageChannel<"u"&&(await new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),r=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{r=!1}return{webgpu:t,wasm:e,simd:n,threads:r}}async function GT(t,e,n){const r=document.createElement("canvas");r.width=e,r.height=n;const s=r.getContext("2d");if(!s)throw new Error("Could not get canvas context");return s.drawImage(t,0,0,e,n),r}function qT(t,e,n="rgba(255, 0, 0, 0.5)"){t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",e.forEach(r=>{!(r!=null&&r.pts.length)||!r.size||(t.lineWidth=r.size,t.beginPath(),t.moveTo(r.pts[0].x,r.pts[0].y),r.pts.forEach(s=>t.lineTo(s.x,s.y)),t.stroke())})}function jT(t,e,n){const r=e*n,s=new Uint8ClampedArray(4*r);for(let i=0;i<n;i++)for(let o=0;o<e;o++){for(let a=0;a<3;a++){const l=a*r+i*e+o,c=(i*e+o)*4+a;let u=t[l];u>255?u=255:u<0&&(u=0),s[c]=u}s[(i*e+o)*4+3]=255}return s}async function z1(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");if(!n)throw new Error("Could not get canvas context");n.drawImage(t,0,0);const s=n.getImageData(0,0,t.width,t.height).data,i=t.width,o=t.height,a=3,l=new Uint8Array(a*o*i);for(let c=0;c<o;c++)for(let u=0;u<i;u++){const d=(c*i+u)*4;for(let f=0;f<3;f++){const h=f*o*i+c*i+u;l[h]=s[d+f]}}return{data:l,width:i,height:o}}async function WT(t){const e=t.getContext("2d");if(!e)throw new Error("Could not get mask canvas context");const r=e.getImageData(0,0,t.width,t.height).data,s=t.width,i=t.height,o=new Uint8Array(i*s);for(let a=0;a<i;a++)for(let l=0;l<s;l++){const c=(a*s+l)*4,u=(r[c]+r[c+1]+r[c+2])/3;o[a*s+l]=u>127?0:255}return o}async function ol(t,e){const n=Yl[t][0];await Md.setItem(n.name,e),Na.set(t,e)}async function V1(t){if(Na.has(t))return Na.get(t);const e=Yl[t][0],n=await Md.getItem(e.name);return n&&Na.set(t,n),n}async function Jo(t){return await V1(t)!==null}async function Y1(t){if(await Jo(t)){const n=await V1(t);if(n)return n}const e=Yl[t][0];try{const n=await fetch(e.url);if(!n.ok)throw new Error(`Failed to fetch: ${n.status}`);const r=await n.arrayBuffer();return await ol(t,r),r}catch(n){if(e.backupUrl){const r=await fetch(e.backupUrl);if(!r.ok)throw new Error(`Failed to fetch backup: ${r.status}`);const s=await r.arrayBuffer();return await ol(t,s),s}throw n}}async function K1(t,e){if(await Jo(t))return;const n=Yl[t][0];async function r(s){console.log("Downloading model from:",s),e(0);const i=new AbortController,o=setTimeout(()=>i.abort(),6e5);try{const a=await fetch(s,{signal:i.signal,redirect:"follow"});if(clearTimeout(o),!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);if(!a.body)throw new Error("No response body");const l=a.headers.get("content-length"),c=l?parseInt(l,10):0;console.log("Model size:",c,"bytes");const u=a.body.getReader(),d=[];let f=0,h=0;for(;;){const{done:y,value:b}=await u.read();if(y)break;if(b)if(d.push(b),f+=b.length,c>0){const v=f/c*100;v-h>=5&&(e(v),h=v)}else e(Math.min(f/5e7*100,99))}console.log("Download complete:",f,"bytes");const p=d.reduce((y,b)=>y+b.length,0),m=new Uint8Array(p);let w=0;for(const y of d)m.set(y,w),w+=y.length;return m.buffer}catch(a){throw clearTimeout(o),a}}try{console.log("Downloading from primary URL...");const s=await r(n.url);await ol(t,s),e(100),console.log("Model saved successfully")}catch(s){if(console.error("Primary download failed:",s),n.backupUrl)try{console.log("Downloading from backup URL...");const i=await r(n.backupUrl);await ol(t,i),e(100),console.log("Model downloaded from backup");return}catch(i){throw console.error("Backup download failed:",i),new Error("Failed to download model from all sources")}throw s}}let si=null;async function HT(t,e,n){console.log("Starting inpaint process..."),await W1(),console.log("ONNX Runtime loaded");const r=await Rd();if(!si){console.log("Loading model...");const C=await Y1("inpaint");console.log("Model loaded, creating session..."),si=await window.ort.InferenceSession.create(C,{executionProviders:[r.webgpu?"webgpu":"wasm"]}),console.log("Session created")}n&&n(5);const s=t instanceof HTMLImageElement?t:await H1(URL.createObjectURL(t)),i=s.width,o=s.height;n&&n(20);const a=await GT(e,i,o),{data:l}=await z1(s),c=await WT(a);n&&n(40);const u=new window.ort.Tensor("uint8",l,[1,3,o,i]),d=new window.ort.Tensor("uint8",c,[1,1,o,i]);n&&n(50),console.log("Running inference...");const f={[si.inputNames[0]]:u,[si.inputNames[1]]:d},p=(await si.run(f))[si.outputNames[0]];n&&n(80),console.log("Processing output...");const m=jT(p.data,i,o),w=document.createElement("canvas");w.width=i,w.height=o;const y=w.getContext("2d");if(!y)throw new Error("Could not get canvas context");const b=new Uint8ClampedArray(m.length);for(let C=0;C<m.length;C++)b[C]=m[C];const v=new ImageData(b,i,o);y.putImageData(v,0,0);const x=w.toDataURL();return n&&n(100),console.log("Inpaint complete"),x}async function zT(t,e,n){const r=t.dims,s=r[3],i=r[2],o=0,a=s*i,l=s*i*2,c=[r[0],r[1],r[2]*4,r[3]*4],u=new Float32Array(c[0]*c[1]*c[2]*c[3]),d=c[3],f=c[2],h=0,p=d*f,m=d*f*2,w=64,y=6,b=w-y*2,v=Math.ceil(r[3]/b),x=Math.ceil(r[2]/b),C=t.data,O=v*x;let q=0;for(let A=0;A<v;A++)for(let E=0;E<x;E++){const P=Math.min(b,s-A*b),j=Math.min(b,i-E*b),T=0,B=w*w,Y=w*w*2,L=new Float32Array(w*w*3);for(let xe=-y;xe<b+y;xe++)for(let Q=-y;Q<b+y;Q++){let $e=A*b+xe;$e<0?$e=0:$e>=s&&($e=s-1);let Le=E*b+Q;Le<0?Le=0:Le>=i&&(Le=i-1);const Fe=$e+Le*s,We=xe+y,U=Q+y;L[We+U*w+T]=C[Fe+o],L[We+U*w+B]=C[Fe+a],L[We+U*w+Y]=C[Fe+l]}const $=new window.ort.Tensor("float32",L,[1,3,w,w]),k=await e.run({"input.1":$}),S=k[Object.keys(k)[0]],V=w*4,ie=b*4,ae=0,ve=V*V,fe=V*V*2,Ge=P*4,be=j*4;for(let xe=0;xe<Ge;xe++)for(let Q=0;Q<be;Q++){const $e=A*ie+xe,Le=E*ie+Q,Fe=$e+Le*d,We=xe+y*4,U=Q+y*4;u[Fe+h]=S.data[We+U*V+ae],u[Fe+p]=S.data[We+U*V+ve],u[Fe+m]=S.data[We+U*V+fe]}q++,n&&n(Math.round(100*(q/O)))}return{data:u,width:d,height:f}}function VT(t,e,n){const r=e*n,s=new Uint8ClampedArray(r*4);for(let i=0;i<n;i++)for(let o=0;o<e;o++){const a=(i*e+o)*4;for(let l=0;l<3;l++){const c=l*r+i*e+o,u=t[c];let d=u;u>1?d=1:u<0&&(d=0),s[a+l]=d*255}s[a+3]=255}return s}async function YT(t,e){console.log("Starting Super Resolution process..."),await W1();const n=await Rd();await Jo("superResolution")||await K1("superResolution",e||(()=>{}));const r=await Y1("superResolution"),s=await window.ort.InferenceSession.create(r,{executionProviders:[n.webgpu?"webgpu":"wasm"]}),i=t instanceof HTMLImageElement?t:await H1(URL.createObjectURL(t)),{data:o,width:a,height:l}=await z1(i),c=new Float32Array(o.length);for(let b=0;b<o.length;b++)c[b]=o[b]/255;const u=new window.ort.Tensor("float32",c,[1,3,l,a]),{data:d,width:f,height:h}=await zT(u,s,e),p=VT(d,f,h),m=document.createElement("canvas");m.width=f,m.height=h;const w=m.getContext("2d");if(!w)throw new Error("Could not get canvas context");const y=new ImageData(p,f,h);return w.putImageData(y,0,0),console.log("Super Resolution complete"),m.toDataURL()}const Gi=Wo("inpaint",()=>{const t=J(null),e=J(null),n=J(null),r=J([]),s=J([{pts:[]}]),i=J(40),o=J(!1),a=J(!1),l=J(0),c=J(!1),u=J(0),d=J(!1),f=J(0),h=J(!1),p=J(null),m=pe(()=>r.value.length>0),w=pe(()=>r.value.length>0);function y(L){O(),t.value=L}function b(L){e.value=L,n.value=L}function v(L){r.value.push(L),s.value.push({pts:[]}),n.value=L}function x(){r.value.length>0&&(r.value.pop(),s.value.pop(),s.value.push({pts:[]}),n.value=r.value.length>0?r.value[r.value.length-1]:e.value)}function C(L){for(r.value.splice(L+1),s.value.splice(L+1);s.value.length<=L+1;)s.value.push({pts:[]});n.value=r.value.length>0?r.value[r.value.length-1]:e.value}function O(){t.value=null,e.value=null,n.value=null,r.value=[],s.value=[{pts:[]}],i.value=40,o.value=!1,a.value=!1,l.value=0,c.value=!1,u.value=0,p.value=null}function q(){const L=n.value;L&&S6(L.src,`pixeo-inpaint-${Date.now()}`)}function A(L){c.value=L,L||(u.value=0)}function E(L){u.value=L}function P(L){d.value=L}function j(L){f.value=L}function T(L){h.value=L}function B(L){p.value=L}async function Y(){const L=n.value;if(L){A(!0),B(null);try{await Jo("superResolution")||P(!1);const $=await YT(L,S=>{E(S)}),k=new Image;k.src=$,await new Promise(S=>{k.onload=S}),v(k)}catch($){console.error("Super Resolution failed:",$),B($.message||"Error scaling image")}finally{A(!1)}}}return{imageFile:t,originalImage:e,currentImage:n,renders:r,lines:s,brushSize:i,showBrush:o,showOriginal:a,separatorPosition:l,isProcessing:c,progress:u,modelDownloaded:d,modelDownloadProgress:f,isModelLoading:h,error:p,hasRenders:m,canUndo:w,setImageFile:y,setOriginalImage:b,addRender:v,undo:x,goToState:C,clear:O,downloadCurrent:q,setProcessing:A,setProgress:E,setModelDownloaded:P,setModelDownloadProgress:j,setModelLoading:T,setError:B,superResolution:Y}}),KT={class:"block w-full h-64 group relative cursor-pointer rounded-xl border-2 border-dashed border-muted-foreground/25 hover:border-primary/50 transition-colors"},XT={class:"text-lg font-medium"},JT={class:"text-sm text-muted-foreground mt-1"},QT=me({__name:"InpaintFileUpload",emits:["select"],setup(t,{emit:e}){const n=e,r=J(!1);async function s(a){var c;r.value=!1;const l=(c=a.dataTransfer)==null?void 0:c.items;if(l)for(let u=0;u<l.length;u++){const d=l[u];if(d.kind==="file"){const f=d.getAsFile();if(f&&f.type.startsWith("image/")){o(f);break}}}}function i(a){var c;const l=(c=a.target.files)==null?void 0:c[0];l&&o(l)}function o(a){if(a.size>10*1024*1024){alert("File size must be less than 10MB");return}n("select",a)}return(a,l)=>(M(),le("label",KT,[_("div",{class:"w-full h-full flex flex-col items-center justify-center text-muted-foreground hover:text-foreground transition-colors",onDrop:Bt(s,["prevent"]),onDragover:l[0]||(l[0]=Bt(c=>r.value=!0,["prevent"])),onDragleave:l[1]||(l[1]=c=>r.value=!1)},[F(g(dd),{class:"w-12 h-12 mb-4 opacity-50"}),_("p",XT,we(a.$t("inpaint.dropImage")),1),_("p",JT,we(a.$t("inpaint.supportedFormats")),1)],32),_("input",{type:"file",class:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:i},null,32)]))}}),ZT={class:"bg-primary p-1 rounded-md"},eA=["src"],tA={key:2,class:"absolute inset-0 bg-background/80 flex items-center justify-center z-20"},nA={class:"text-center space-y-4"},rA={class:"text-lg font-medium"},sA={class:"w-48 h-2 bg-muted rounded-full overflow-hidden"},iA={class:"text-sm text-muted-foreground"},oA=me({__name:"InpaintCanvas",emits:["stroke-end"],setup(t,{expose:e,emit:n}){const r=n,s=Gi(),{originalImage:i,currentImage:o,lines:a,brushSize:l,showOriginal:c,separatorPosition:u,isProcessing:d,progress:f}=Qn(s),h=J(null),p=J(null),m=J(null),w=J(null),y=document.createElement("canvas");let b=!1;const v=J(!1),x=pe(()=>({width:`${l.value}px`,height:`${l.value}px`})),C=pe(()=>{if(!o.value)return{};const be=o.value,xe=be.width/be.height;if(!h.value)return{width:`${be.width}px`,height:`${be.height}px`};const Q=h.value.clientWidth,$e=h.value.clientHeight,Le=Q/$e;let Fe,We;return Le>xe?(We=$e,Fe=be.width*($e/be.height)):(Fe=Q,We=be.height*(Q/be.width)),{width:`${Fe}px`,height:`${We}px`}}),O=pe(()=>{var be;return{left:`${u.value}px`,height:`${((be=p.value)==null?void 0:be.height)||0}px`}}),q=pe(()=>{var be,xe;return{width:c.value?`${((be=p.value)==null?void 0:be.width)||0}px`:"0px",height:`${((xe=p.value)==null?void 0:xe.height)||0}px`,transition:"width 0.3s ease"}}),A=pe(()=>{var be,xe;return{width:`${((be=p.value)==null?void 0:be.width)||0}px`,height:`${((xe=p.value)==null?void 0:xe.height)||0}px`,clipPath:`inset(0 0 0 ${u.value}px)`}});function E(){if(!h.value||!p.value||!o.value){console.log("[updateCanvasSize] Skipping - missing dependencies:",{container:!!h.value,canvas:!!p.value,image:!!o.value});return}const be=h.value,xe=o.value,Q=p.value,$e=be.clientWidth,Le=be.clientHeight,Fe=xe.width/xe.height,We=$e/Le;let U,K;We>Fe?(K=Le,U=xe.width*(Le/xe.height)):(U=$e,K=xe.height*($e/xe.width));const z=window.devicePixelRatio||1;Q.width=U*z,Q.height=K*z,Q.style.width=`${U}px`,Q.style.height=`${K}px`,y.width=U*z,y.height=K*z,w.value&&w.value.scale(z,z),console.log("[updateCanvasSize] Canvas resized:",{canvasWidth:Q.width,canvasHeight:Q.height,containerWidth:$e,containerHeight:Le,imageAspect:Fe,containerAspect:We,dpr:z}),P()}function P(){if(!w.value||!p.value||!o.value)return;const be=w.value,xe=p.value,Q=o.value,$e=window.devicePixelRatio||1,Le=xe.width/$e,Fe=xe.height/$e;be.clearRect(0,0,Le,Fe),Q.src&&be.drawImage(Q,0,0,Le,Fe);const We=a.value[a.value.length-1];qT(be,[We])}function j(){const be=y.getContext("2d");if(!be||!p.value)return;const xe=window.devicePixelRatio||1,Q=p.value.width/xe,$e=p.value.height/xe;y.width=p.value.width,y.height=p.value.height,be.scale(xe,xe),be.fillStyle="black",be.fillRect(0,0,Q,$e),be.strokeStyle="white",be.lineCap="round",be.lineJoin="round";const Le=a.value[a.value.length-1];if(Le&&Le.pts.length>0&&Le.size){be.lineWidth=Le.size,be.beginPath(),be.moveTo(Le.pts[0].x,Le.pts[0].y);for(const Fe of Le.pts)be.lineTo(Fe.x,Fe.y);be.stroke()}}function T(){v.value=!c.value}function B(){v.value=!1}function Y(be){!v.value||!m.value||(m.value.style.left=`${be.clientX}px`,m.value.style.top=`${be.clientY}px`,b&&S(be))}function L(be){const xe=p.value;if(!xe)return{x:0,y:0};const Q=xe.getBoundingClientRect(),$e=xe.width/Q.width,Le=xe.height/Q.height;return{x:(be.clientX-Q.left)*$e,y:(be.clientY-Q.top)*Le}}function $(be){const xe=p.value;if(!xe)return{x:0,y:0};const Q=xe.getBoundingClientRect(),$e=be.touches[0],Le=xe.width/Q.width,Fe=xe.height/Q.height;return{x:($e.clientX-Q.left)*Le,y:($e.clientY-Q.top)*Fe}}function k(be){if(d.value||!o.value||c.value)return;b=!0;const xe=L(be),Q=a.value[a.value.length-1];Q.size=l.value,Q.pts=[xe],P()}function S(be){if(!b||c.value)return;const xe=L(be);a.value[a.value.length-1].pts.push(xe),P()}async function V(){!b||(b=!1,a.value[a.value.length-1].pts.length===0)||r("stroke-end")}function ie(be){if(d.value||!o.value||c.value)return;b=!0;const xe=$(be),Q=a.value[a.value.length-1];Q.size=l.value,Q.pts=[xe],P()}function ae(be){if(!b||c.value)return;const xe=$(be);a.value[a.value.length-1].pts.push(xe),P()}async function ve(be){const xe=o.value||s.imageFile;if(!xe)return null;j();try{return await HT(xe,y,$e=>{be&&be($e)})}catch(Q){throw console.error("Inpaint failed:",Q),Q}}Je(o,be=>{be&&console.log("[InpaintCanvas] currentImage changed:",{width:be.width,height:be.height,alreadyLoaded:!!w.value}),_t(()=>{E()})},{immediate:!1}),Je(()=>a.value.length,()=>{_t(P)}),Je(c,be=>{console.log("[InpaintCanvas] showOriginal changed:",be),be||(u.value=0),v.value=!be});let fe=null,Ge=null;return Rt(()=>{p.value&&(w.value=p.value.getContext("2d"),E(),window.addEventListener("resize",()=>{fe&&clearTimeout(fe),fe=setTimeout(E,100)}),Ge=setTimeout(()=>{if(console.log("[InpaintCanvas] Security timeout firing - forcing resize"),!o.value){console.warn("[InpaintCanvas] No image loaded yet");return}E()},500))}),ln(()=>{fe&&clearTimeout(fe),Ge&&clearTimeout(Ge),window.removeEventListener("resize",()=>{fe&&clearTimeout(fe)})}),e({runInpaint:ve,redraw:P}),(be,xe)=>(M(),le("div",{ref_key:"containerRef",ref:h,class:"relative w-full h-full flex items-center justify-center p-4"},[_("canvas",{ref_key:"canvasRef",ref:p,class:st(["rounded-lg object-contain",{"cursor-none":v.value&&!g(c)}]),style:ft(C.value),onMouseenter:T,onMouseleave:B,onMousemove:Y,onMousedown:k,onMouseup:V,onTouchstart:Bt(ie,["prevent"]),onTouchmove:Bt(ae,["prevent"]),onTouchend:V},null,38),v.value&&!g(c)&&!g(d)?(M(),le("div",{key:0,ref_key:"brushRef",ref:m,class:"fixed rounded-full bg-red-500/50 pointer-events-none border-2 border-red-500 z-50 -translate-x-1/2 -translate-y-1/2",style:ft(x.value)},null,4)):He("",!0),g(c)&&g(i)?(M(),le("div",{key:1,class:"absolute top-0 right-0 overflow-hidden bg-background",style:ft(q.value)},[_("div",{class:"absolute top-0 right-0 z-10 flex items-center h-full cursor-ew-resize",style:ft(O.value)},[_("div",ZT,[F(g(Ux),{class:"w-4 h-4"})])],4),_("img",{ref:"originalImgRef",src:g(i).src,class:"absolute right-0 top-0",style:ft(A.value)},null,12,eA)],4)):He("",!0),g(d)?(M(),le("div",tA,[_("div",nA,[_("p",rA,we(be.$t("inpaint.processing")),1),_("div",sA,[_("div",{class:"h-full bg-primary transition-all duration-300",style:ft({width:`${g(f)}%`})},null,4)]),_("p",iA,we(Math.round(g(f)))+"%",1)])])):He("",!0)],512))}}),aA={class:"flex-shrink-0 bg-card/80 backdrop-blur-md rounded-xl border border-border shadow-md p-4 transition duration-200 ease-in-out flex items-center w-full max-w-4xl mx-auto justify-between flex-col space-y-4 sm:space-y-0 sm:flex-row sm:space-x-8"},lA={class:"flex items-center gap-2"},uA=["title"],cA={class:"flex items-center gap-3"},dA={class:"text-sm font-medium text-muted-foreground"},fA={class:"text-xs font-mono w-8"},hA={class:"flex items-center gap-2"},pA=["title"],gA={class:"text-sm hidden sm:inline"},mA=["title"],vA={class:"text-sm hidden sm:inline"},yA=["title"],bA={class:"text-sm hidden sm:inline"},_A=["title"],wA={class:"text-sm hidden sm:inline"},xA=me({__name:"InpaintToolbar",setup(t){const e=Gi(),{canUndo:n,showOriginal:r,brushSize:s}=Qn(e);function i(){e.undo()}function o(){e.superResolution()}function a(){e.showOriginal=!e.showOriginal,e.showOriginal||(e.separatorPosition=0)}function l(){e.clear()}function c(){e.downloadCurrent()}return(u,d)=>(M(),le("div",aA,[_("div",lA,[g(n)?(M(),le("button",{key:0,onClick:i,class:"p-2 rounded-lg bg-muted hover:bg-muted/80 transition-colors",title:u.$t("inpaint.undo")},[F(g(U0),{class:"w-5 h-5"})],8,uA)):He("",!0),_("div",cA,[_("span",dA,we(u.$t("inpaint.brushSize")),1),tt(_("input",{type:"range",min:10,max:200,"onUpdate:modelValue":d[0]||(d[0]=f=>ct(s)?s.value=f:null),class:"w-32 accent-primary"},null,512),[[ut,g(s),void 0,{number:!0}]]),_("span",fA,we(g(s)),1)])]),_("div",hA,[F(g(vi),null,{default:H(()=>[F(g(Si),{"as-child":""},{default:H(()=>[_("button",{class:"px-4 py-2 rounded-lg bg-muted hover:bg-muted/80 text-foreground transition-colors flex items-center gap-2",title:u.$t("inpaint.clear")},[F(g(Ns),{class:"w-4 h-4"}),_("span",gA,we(u.$t("inpaint.clearLabel")),1)],8,pA)]),_:1}),F(g(_i),null,{default:H(()=>[F(g(Ci),null,{default:H(()=>[F(g(ki),null,{default:H(()=>[Ye(we(u.$t("inpaint.clearConfirmTitle")),1)]),_:1}),F(g(wi),null,{default:H(()=>[Ye(we(u.$t("inpaint.clearConfirmDescription")),1)]),_:1})]),_:1}),F(g(xi),null,{default:H(()=>[F(g(bi),null,{default:H(()=>[Ye(we(u.$t("inpaint.cancel")),1)]),_:1}),F(g(yi),{onClick:l,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:H(()=>[Ye(we(u.$t("inpaint.clear")),1)]),_:1})]),_:1})]),_:1})]),_:1}),_("button",{onClick:a,class:st(["px-4 py-2 rounded-lg transition-colors flex items-center gap-2",g(r)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"]),title:u.$t("inpaint.original")},[F(g(Za),{class:"w-4 h-4"}),_("span",vA,we(u.$t("inpaint.original")),1)],10,mA),g(r)?He("",!0):(M(),le("button",{key:0,onClick:o,class:"px-4 py-2 rounded-lg bg-muted hover:bg-muted/80 transition-colors flex items-center gap-2",title:u.$t("inpaint.upscale")},[F(g(Dx),{class:"w-4 h-4"}),_("span",bA,we(u.$t("inpaint.upscale")),1)],8,yA)),_("button",{onClick:c,class:"px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors flex items-center gap-2",title:u.$t("inpaint.download")},[F(g(Mr),{class:"w-4 h-4"}),_("span",wA,we(u.$t("inpaint.download")),1)],8,_A)])]))}}),CA={key:0,class:"w-20 flex-shrink-0 flex flex-col items-center gap-2 p-2 overflow-y-auto border-r bg-card h-full"},kA=["onClick","onMouseenter"],SA=["src"],EA={key:0,class:"absolute inset-0 bg-black/60 flex items-center justify-center rounded"},TA={class:"text-white text-xs font-medium text-center px-1"},AA=me({__name:"InpaintHistory",setup(t){const e=Gi(),{renders:n,hasRenders:r}=Qn(e),s=J(-1);function i(o){e.goToState(o)}return(o,a)=>g(r)?(M(),le("div",CA,[(M(!0),le(Ve,null,bt(g(n),(l,c)=>(M(),le("div",{key:l.dataset.id,class:"relative flex-shrink-0 cursor-pointer group",onClick:u=>i(c),onMouseenter:u=>s.value=c,onMouseleave:a[0]||(a[0]=u=>s.value=-1)},[_("img",{src:l.src,class:st(["w-16 h-16 rounded object-cover border-2 transition-all",s.value===c?"border-primary opacity-70":"border-transparent"])},null,10,SA),s.value===c?(M(),le("div",EA,[_("span",TA,we(o.$t("inpaint.backTo")),1)])):He("",!0)],40,kA))),128))])):He("",!0)}}),PA={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},OA={class:"bg-card rounded-xl p-6 max-w-md w-full mx-4 space-y-4"},IA={class:"text-lg font-semibold"},LA={class:"text-muted-foreground text-sm"},MA={class:"space-y-2"},RA={class:"w-full h-2 bg-muted rounded-full overflow-hidden"},DA={class:"text-xs text-muted-foreground text-center"},NA=me({__name:"InpaintModelDownloadModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,s=Gi(),{modelDownloadProgress:i}=Qn(s),o=pe({get:()=>n.modelValue,set:c=>r("update:modelValue",c)});let a=!1;async function l(){if(!a){a=!0,s.setModelLoading(!0);try{await K1("inpaint",c=>{s.setModelDownloadProgress(c)}),s.setModelDownloaded(!0),o.value=!1,a=!1}catch(c){console.error("Failed to download model:",c),s.setError(c.message||"Failed to download model"),o.value=!1,a=!1}finally{s.setModelLoading(!1)}}}return Je(()=>n.modelValue,c=>{c&&!a&&l()},{immediate:!0}),ln(()=>{a=!1}),(c,u)=>(M(),ce(Tg,{to:"body"},[o.value?(M(),le("div",PA,[_("div",OA,[_("h3",IA,we(c.$t("inpaint.downloadModel")),1),_("p",LA,we(c.$t("inpaint.modelDownloadMessage")),1),_("div",MA,[_("div",RA,[_("div",{class:"h-full bg-primary transition-all duration-300",style:ft({width:`${g(i)}%`})},null,4)]),_("p",DA,we(Math.round(g(i)))+"% ",1)])])])):He("",!0)]))}}),$A={class:"h-full flex flex-col overflow-hidden"},FA={class:"flex flex-1 min-h-0 overflow-hidden"},BA={class:"flex-1 flex flex-col min-w-0 pb-4 overflow-hidden"},UA={ref:"canvasContainer",class:"flex-1 flex justify-center items-center h-full w-full overflow-hidden p-4"},GA={key:0,class:"w-full max-w-xl"},qA=me({__name:"InpaintView",setup(t){const e=Gi(),{imageFile:n,modelDownloaded:r,isModelLoading:s}=Qn(e),i=J(null),o=J(!1);let a=null,l=null;async function c(f){console.log("[InpaintView] handleFileSelect - Starting file selection"),e.setImageFile(f);const h=new Image;h.src=URL.createObjectURL(f),await new Promise(p=>{h.onload=()=>{console.log("[InpaintView] Image loaded:",{width:h.width,height:h.height}),p()}}),e.setOriginalImage(h),!r.value&&!s.value&&(await Jo("inpaint")?e.setModelDownloaded(!0):o.value=!0),await _t(),i.value&&(console.log("[InpaintView] Forcing canvas resize after image load"),l&&clearTimeout(l),l=setTimeout(()=>{if(i.value&&i.value.$el){const p=new Event("resize");i.value.$el.dispatchEvent(p)}},100))}async function u(){var f;if(n.value){e.setProcessing(!0),e.setProgress(10);try{const h=await((f=i.value)==null?void 0:f.runInpaint(p=>{e.setProgress(p)}));if(h){const p=new Image;p.src=h,await new Promise(m=>{p.onload=()=>m()}),p.dataset.id=Date.now().toString(),e.addRender(p)}}catch(h){console.error("Inpaint error:",h),e.setError(h.message||"Failed to process image")}finally{e.setProcessing(!1)}}}function d(f){(f.metaKey||f.ctrlKey)&&f.key==="z"&&(f.preventDefault(),e.undo())}return Je(n,async f=>{f&&console.log("[InpaintView] imageFile changed - forcing canvas resize"),await _t(),a&&clearTimeout(a),a=setTimeout(()=>{if(i.value&&i.value.$el){console.log("[InpaintView] Security timeout - forcing canvas resize");const h=new Event("resize");i.value.$el.dispatchEvent(h)}},100)}),Rt(()=>{window.addEventListener("keydown",d)}),ln(()=>{window.removeEventListener("keydown",d),a&&clearTimeout(a),l&&clearTimeout(l)}),(f,h)=>(M(),le("div",$A,[_("div",FA,[F(AA,{class:"h-full w-20 flex-shrink-0 border-r bg-card"}),_("div",BA,[_("div",UA,[g(n)?(M(),ce(oA,{key:1,ref_key:"canvasRef",ref:i,class:"w-full h-full",onStrokeEnd:u},null,512)):(M(),le("div",GA,[F(QT,{onSelect:c})]))],512),F(xA)])]),F(NA,{"model-value":o.value,"onUpdate:modelValue":h[0]||(h[0]=p=>o.value=p)},null,8,["model-value"])]))}}),jA={class:"flex flex-col items-center py-4 gap-2"},WA={class:"p-3 rounded-xl hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-all",title:"Clear Canvas"},HA=me({__name:"EditorToolbar",setup(t){const e=hn(),n=J("select"),r=pe(()=>e.activeTool==="text"&&e.sidebarVisible),s=pe(()=>e.activeTool==="elements"&&e.sidebarVisible),i=pe(()=>e.activeTool==="settings"&&e.sidebarVisible),o=pe(()=>e.activeTool==="image"&&e.sidebarVisible);function a(f){n.value=f,e.closeSidebar()}function l(){e.toggleTool("text"),e.sidebarVisible?n.value="text":n.value="select"}function c(){e.toggleTool("elements"),e.sidebarVisible?n.value="elements":n.value="select"}function u(){e.toggleTool("settings"),e.sidebarVisible?n.value="settings":n.value="select"}function d(){e.toggleTool("image"),e.sidebarVisible?n.value="image":n.value="select"}return(f,h)=>(M(),le("div",jA,[_("button",{onClick:h[0]||(h[0]=p=>a("select")),class:st(["p-3 rounded-xl transition-all",n.value==="select"?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"]),title:"Select"},[F(g(Bx),{class:"w-5 h-5"})],2),h[5]||(h[5]=_("div",{class:"w-8 h-px bg-border my-1"},null,-1)),_("button",{onClick:l,class:st(["p-3 rounded-xl transition-all",r.value?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"]),title:"Text"},[F(g(Nl),{class:"w-5 h-5"})],2),_("button",{onClick:d,class:st(["p-3 rounded-xl transition-all",o.value?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"]),title:"Add Image"},[F(g(bs),{class:"w-5 h-5"})],2),h[6]||(h[6]=_("div",{class:"w-8 h-px bg-border my-1"},null,-1)),_("button",{onClick:c,class:st(["p-3 rounded-xl transition-all",s.value?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"]),title:"Elements (Shapes & Lines)"},[F(g(Jx),{class:"w-5 h-5"})],2),h[7]||(h[7]=_("div",{class:"w-8 h-px bg-border my-1"},null,-1)),_("button",{onClick:u,class:st(["p-3 rounded-xl transition-all",i.value?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"]),title:"Canvas Settings"},[F(g(cd),{class:"w-5 h-5"})],2),h[8]||(h[8]=_("div",{class:"flex-1"},null,-1)),F(g(vi),null,{default:H(()=>[F(g(Si),{"as-child":""},{default:H(()=>[_("button",WA,[F(g(Ns),{class:"w-5 h-5"})])]),_:1}),F(g(_i),null,{default:H(()=>[F(g(Ci),null,{default:H(()=>[F(g(ki),null,{default:H(()=>[...h[1]||(h[1]=[Ye("Clear Canvas?",-1)])]),_:1}),F(g(wi),null,{default:H(()=>[...h[2]||(h[2]=[Ye(" This will remove all layers from the canvas. This action cannot be undone. ",-1)])]),_:1})]),_:1}),F(g(xi),null,{default:H(()=>[F(g(bi),null,{default:H(()=>[...h[3]||(h[3]=[Ye("Cancel",-1)])]),_:1}),F(g(yi),{onClick:g(e).clearCanvas,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:H(()=>[...h[4]||(h[4]=[Ye(" Clear ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]))}}),zA={class:"space-y-6"},VA=me({__name:"TextPanel",setup(t){const e=hn(),n={title:{text:"Title",fontSize:32,fontFamily:"Arial",fill:"#000000",width:300,height:50},subtitle:{text:"Subtitle",fontSize:24,fontFamily:"Arial",fill:"#000000",width:250,height:40},paragraph:{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",fontSize:16,fontFamily:"Arial",fill:"#000000",width:400,height:80}};function r(s){const i=n[s],o=e.canvasWidth/2,a=e.canvasHeight/2;e.addLayer("text",{...i,x:o-i.width/2,y:a-i.height/2}),it.success(`${s.charAt(0).toUpperCase()+s.slice(1)} added`)}return(s,i)=>(M(),le("div",zA,[i[6]||(i[6]=_("div",{class:"text-sm text-muted-foreground"}," Click a preset to add it to the canvas ",-1)),_("button",{onClick:i[0]||(i[0]=o=>r("title")),class:"w-full p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all group"},[...i[3]||(i[3]=[_("div",{class:"text-left"},[_("div",{class:"text-2xl font-bold text-black mb-1"},"Title"),_("div",{class:"text-xs text-muted-foreground"},"32px Arial")],-1)])]),_("button",{onClick:i[1]||(i[1]=o=>r("subtitle")),class:"w-full p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all group"},[...i[4]||(i[4]=[_("div",{class:"text-left"},[_("div",{class:"text-xl font-semibold text-black mb-1"},"Subtitle"),_("div",{class:"text-xs text-muted-foreground"},"24px Arial")],-1)])]),_("button",{onClick:i[2]||(i[2]=o=>r("paragraph")),class:"w-full p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all group"},[...i[5]||(i[5]=[_("div",{class:"text-left"},[_("div",{class:"text-base text-black mb-2"},"Paragraph"),_("div",{class:"text-sm text-muted-foreground leading-relaxed"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. "),_("div",{class:"text-xs text-muted-foreground mt-1"},"16px Arial")],-1)])])]))}}),YA={class:"space-y-6"},KA={class:"grid grid-cols-2 gap-3"},XA={class:"grid grid-cols-2 gap-3"},JA={class:"p-4 border-2 border-dashed border-muted rounded-xl bg-muted/30 text-center"},QA=me({__name:"ElementsPanel",setup(t){const e=hn();function n(c){const u=e.canvasWidth/2,d=e.canvasHeight/2,f={simple:{points:[0,0,100,0],stroke:"#000000",strokeWidth:2},dashed:{points:[0,0,100,0],stroke:"#000000",strokeWidth:2,dash:[10,5]},dot:{points:[0,0,100,0],stroke:"#000000",strokeWidth:2,dash:[2,5]}};e.addLayer("line",{...f[c],x:u-50,y:d}),it.success(`${c.charAt(0).toUpperCase()+c.slice(1)} line added`)}function r(){const c=e.canvasWidth/2,u=e.canvasHeight/2;e.addLayer("arrow",{points:[0,0,100,0],stroke:"#000000",strokeWidth:2,pointerLength:15,pointerWidth:12,pointerAtEnding:!0,x:c-50,y:u}),it.success("Arrow added")}function s(c=5){const u=e.canvasWidth/2,d=e.canvasHeight/2;e.addLayer("star",{numPoints:c,innerRadius:c===6?25:30,outerRadius:60,fill:"#3b82f6",stroke:"#1e40af",strokeWidth:2,x:u,y:d}),it.success(`Star ${c}p added`)}function i(c){const u=e.canvasWidth/2,d=e.canvasHeight/2,f="#3b82f6",h="#1e40af";switch(c){case"rect":e.addLayer("rect",{width:120,height:80,fill:f,stroke:h,strokeWidth:2,x:u,y:d});break;case"circle":e.addLayer("circle",{radius:50,fill:f,stroke:h,strokeWidth:2,x:u,y:d});break;case"ellipse":e.addLayer("ellipse",{radiusX:60,radiusY:40,fill:f,stroke:h,strokeWidth:2,x:u,y:d});break;case"square":e.addLayer("rect",{width:100,height:100,fill:f,stroke:h,strokeWidth:2,x:u,y:d});break;case"triangle":e.addLayer("polygon",{sides:3,radius:60,fill:f,stroke:h,strokeWidth:2,x:u,y:d});break;case"pentagon":e.addLayer("polygon",{sides:5,radius:60,fill:f,stroke:h,strokeWidth:2,x:u,y:d});break;case"hexagon":e.addLayer("polygon",{sides:6,radius:60,fill:f,stroke:h,strokeWidth:2,x:u,y:d});break}it.success(`${c.charAt(0).toUpperCase()+c.slice(1)} added`)}function o(){const c=e.canvasWidth/2,u=e.canvasHeight/2;e.addLayer("path",{data:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:2,scaleX:3,scaleY:3,x:c-36,y:u-32}),it.success("Heart added")}function a(){const c=e.canvasWidth/2,u=e.canvasHeight/2;e.addLayer("path",{data:"M4 12h16M4 12l4-4M4 12l4 4M20 12l-4-4M20 12l-4 4",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:3,scaleX:2,scaleY:2,x:c-24,y:u-24}),it.success("Double arrow added")}async function l(c){const u=c.target,d=u.files;if(!(!d||d.length===0)){for(const f of d)if(f.name.endsWith(".svg"))try{const h=await f.text(),m=new DOMParser().parseFromString(h,"image/svg+xml");if(m.querySelector("parsererror")){console.warn(`Parse error in ${f.name}`);continue}const y=m.querySelector("svg");if(!y)continue;const b=[];let v=100,x=100;const C=y.getAttribute("viewBox");if(C){const A=C.split(/\s+|,/).map(parseFloat);A.length===4&&(v=A[2],x=A[3])}if(y.getAttribute("width")&&(v=parseFloat(y.getAttribute("width"))),y.getAttribute("height")&&(x=parseFloat(y.getAttribute("height"))),svgElement.querySelectorAll("path").forEach((A,E)=>{const P=A.getAttribute("d");P&&b.push({type:"path",name:`Path ${E+1}`,data:P,fill:A.getAttribute("fill")||"#3b82f6",stroke:A.getAttribute("stroke")||"#1e40af",strokeWidth:parseFloat(A.getAttribute("stroke-width")||"2"),scaleX:1,scaleY:1,width:v,height:x})}),svgElement.querySelectorAll("polygon").forEach((A,E)=>{const P=A.getAttribute("points");P&&b.push({type:"path",name:`Polygon ${E+1}`,data:`M${P.trim().replace(/\s+/g," L")} z`,fill:A.getAttribute("fill")||"#3b82f6",stroke:A.getAttribute("stroke")||"#1e40af",strokeWidth:parseFloat(A.getAttribute("stroke-width")||"2"),scaleX:1,scaleY:1,width:v,height:x})}),b.length>0){const A=f.name.replace(".svg","").replace(/[-_]/g," ");e.addGroup(A,b),it.success(`Imported "${A}" with ${b.length} elements`)}else it.error(`No elements found in ${f.name}`)}catch(h){console.error(`Error processing ${f.name}:`,h),it.error(`Failed to import ${f.name}`)}u.value=""}}return(c,u)=>(M(),le("div",YA,[_("div",null,[u[20]||(u[20]=_("h3",{class:"text-sm font-medium mb-3"},"Lines",-1)),_("div",KA,[_("button",{onClick:u[0]||(u[0]=d=>n("simple")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[16]||(u[16]=[_("div",{class:"w-16 h-0.5 bg-current"},null,-1),_("span",{class:"text-xs text-muted-foreground"},"Simple",-1)])]),_("button",{onClick:u[1]||(u[1]=d=>n("dashed")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[17]||(u[17]=[_("div",{class:"w-16 h-0.5 border-t-2 border-dashed border-current"},null,-1),_("span",{class:"text-xs text-muted-foreground"},"Dashed",-1)])]),_("button",{onClick:u[2]||(u[2]=d=>r()),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[18]||(u[18]=[Ia('<div class="flex items-center"><div class="w-12 h-0.5 bg-current"></div><svg class="w-3 h-3 -ml-1" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></svg></div><span class="text-xs text-muted-foreground">Arrow</span>',2)])]),_("button",{onClick:u[3]||(u[3]=d=>n("dot")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[19]||(u[19]=[Ia('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bg-current"></div><div class="w-10 h-0.5 border-t-2 border-dotted border-current"></div><div class="w-2 h-2 rounded-full bg-current"></div></div><span class="text-xs text-muted-foreground">Dot</span>',2)])])])]),u[36]||(u[36]=_("div",{class:"h-px bg-border"},null,-1)),_("div",null,[u[32]||(u[32]=_("h3",{class:"text-sm font-medium mb-3"},"Shapes",-1)),_("div",XA,[_("button",{onClick:u[4]||(u[4]=d=>i("rect")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[21]||(u[21]=[_("div",{class:"w-12 h-10 bg-muted border-2 border-current rounded-sm"},null,-1),_("span",{class:"text-xs text-muted-foreground"},"Rectangle",-1)])]),_("button",{onClick:u[5]||(u[5]=d=>i("circle")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[22]||(u[22]=[_("div",{class:"w-12 h-12 bg-muted border-2 border-current rounded-full"},null,-1),_("span",{class:"text-xs text-muted-foreground"},"Circle",-1)])]),_("button",{onClick:u[6]||(u[6]=d=>i("ellipse")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[23]||(u[23]=[_("div",{class:"w-14 h-8 bg-muted border-2 border-current rounded-[50%]"},null,-1),_("span",{class:"text-xs text-muted-foreground"},"Ellipse",-1)])]),_("button",{onClick:u[7]||(u[7]=d=>i("square")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[24]||(u[24]=[_("div",{class:"w-10 h-10 bg-muted border-2 border-current rounded-sm"},null,-1),_("span",{class:"text-xs text-muted-foreground"},"Square",-1)])]),_("button",{onClick:u[8]||(u[8]=d=>s(5)),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[25]||(u[25]=[_("svg",{class:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[_("polygon",{points:"12,2 15,9 22,9 16,14 18,22 12,17 6,22 8,14 2,9 9,9",fill:"#d1d5db",stroke:"currentColor"})],-1),_("span",{class:"text-xs text-muted-foreground"},"Star 5p",-1)])]),_("button",{onClick:u[9]||(u[9]=d=>s(6)),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[26]||(u[26]=[_("svg",{class:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[_("polygon",{points:"12,2 14,8 20,8 15,12 17,18 12,14 7,18 9,12 4,8 10,8",fill:"#d1d5db",stroke:"currentColor"})],-1),_("span",{class:"text-xs text-muted-foreground"},"Star 6p",-1)])]),_("button",{onClick:u[10]||(u[10]=d=>i("triangle")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[27]||(u[27]=[_("svg",{class:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[_("polygon",{points:"12,4 20,20 4,20",fill:"#d1d5db",stroke:"currentColor"})],-1),_("span",{class:"text-xs text-muted-foreground"},"Triangle",-1)])]),_("button",{onClick:u[11]||(u[11]=d=>i("pentagon")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[28]||(u[28]=[_("svg",{class:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[_("polygon",{points:"12,2 22,9 18,20 6,20 2,9",fill:"#d1d5db",stroke:"currentColor"})],-1),_("span",{class:"text-xs text-muted-foreground"},"Pentagon",-1)])]),_("button",{onClick:u[12]||(u[12]=d=>i("hexagon")),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[29]||(u[29]=[_("svg",{class:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[_("polygon",{points:"12,2 21,7 21,17 12,22 3,17 3,7",fill:"#d1d5db",stroke:"currentColor"})],-1),_("span",{class:"text-xs text-muted-foreground"},"Hexagon",-1)])]),_("button",{onClick:u[13]||(u[13]=d=>o()),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[30]||(u[30]=[_("svg",{class:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[_("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"#d1d5db",stroke:"currentColor"})],-1),_("span",{class:"text-xs text-muted-foreground"},"Heart",-1)])]),_("button",{onClick:u[14]||(u[14]=d=>a()),class:"p-4 border rounded-xl hover:border-primary hover:bg-muted/50 transition-all flex flex-col items-center gap-2"},[...u[31]||(u[31]=[_("svg",{class:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[_("path",{d:"M4 12h16M4 12l4-4M4 12l4 4M20 12l-4-4M20 12l-4 4",fill:"#d1d5db",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"})],-1),_("span",{class:"text-xs text-muted-foreground"},"Double Arrow",-1)])])])]),u[37]||(u[37]=_("div",{class:"h-px bg-border"},null,-1)),_("div",null,[u[35]||(u[35]=_("h3",{class:"text-sm font-medium mb-3"},"Import SVG",-1)),_("div",JA,[_("input",{ref:"svgInput",type:"file",accept:".svg",multiple:"",class:"hidden",onChange:l},null,544),_("button",{onClick:u[15]||(u[15]=d=>c.$refs.svgInput.click()),class:"w-full py-3 px-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors"},[...u[33]||(u[33]=[Ia('<span class="flex items-center justify-center gap-2"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg> Select SVG Files </span>',1)])]),u[34]||(u[34]=_("p",{class:"text-xs text-muted-foreground mt-2"}," Import as editable group ",-1))])])]))}}),ZA={class:"space-y-6"},eP={class:"grid grid-cols-2 gap-3 mb-3"},tP={class:"grid grid-cols-6 gap-2 mb-3"},nP=["onClick"],rP={class:"flex items-center gap-3"},sP={class:"space-y-3"},iP={key:0,class:"relative aspect-video rounded-lg overflow-hidden border"},oP=["src"],aP={class:"flex gap-2"},lP=me({__name:"SettingsPanel",setup(t){const e=hn(),n=J(null),r=J(e.canvasWidth),s=J(e.canvasHeight),i=["#ffffff","#f8fafc","#f1f5f9","#e2e8f0","#cbd5e1","#94a3b8","#1e293b","#0f172a","#000000","#ef4444","#f97316","#f59e0b","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"];function o(f){e.setBackgroundColor(f)}function a(){var f;(f=n.value)==null||f.click()}function l(f){var w;const h=f.target,p=(w=h.files)==null?void 0:w[0];if(!p)return;const m=new FileReader;m.onload=y=>{var v;const b=(v=y.target)==null?void 0:v.result;e.setBackgroundImage(b),it.success("Background image added")},m.readAsDataURL(p),h.value=""}function c(){e.setBackgroundImage(void 0),it.success("Background image removed")}function u(){r.value=Math.max(100,Math.min(4e3,r.value)),s.value=Math.max(100,Math.min(4e3,s.value))}function d(){e.setCanvasSize(r.value,s.value),it.success(`Canvas size updated to ${r.value}${s.value}px`)}return(f,h)=>(M(),le("div",ZA,[_("div",null,[h[6]||(h[6]=_("h3",{class:"text-sm font-medium mb-3"},"Canvas Size",-1)),_("div",eP,[_("div",null,[h[4]||(h[4]=_("label",{class:"text-xs text-muted-foreground mb-1 block"},"Width",-1)),tt(_("input",{"onUpdate:modelValue":h[0]||(h[0]=p=>r.value=p),type:"number",min:"100",max:"4000",class:"w-full px-3 py-2 bg-background border rounded-lg text-sm",onChange:u},null,544),[[ut,r.value,void 0,{number:!0}]])]),_("div",null,[h[5]||(h[5]=_("label",{class:"text-xs text-muted-foreground mb-1 block"},"Height",-1)),tt(_("input",{"onUpdate:modelValue":h[1]||(h[1]=p=>s.value=p),type:"number",min:"100",max:"4000",class:"w-full px-3 py-2 bg-background border rounded-lg text-sm",onChange:u},null,544),[[ut,s.value,void 0,{number:!0}]])])]),_("button",{onClick:d,class:"w-full px-3 py-2 bg-primary text-primary-foreground rounded-lg text-sm hover:bg-primary/90 transition-colors"}," Apply Size ")]),h[10]||(h[10]=_("div",{class:"h-px bg-border"},null,-1)),_("div",null,[h[7]||(h[7]=_("h3",{class:"text-sm font-medium mb-3"},"Background Color",-1)),_("div",tP,[(M(),le(Ve,null,bt(i,p=>_("button",{key:p,onClick:m=>o(p),class:st(["w-10 h-10 rounded-lg border-2 transition-all",g(e).backgroundColor===p?"border-primary scale-110":"border-transparent hover:scale-105"]),style:ft({backgroundColor:p})},null,14,nP)),64))]),_("div",rP,[tt(_("input",{"onUpdate:modelValue":h[2]||(h[2]=p=>g(e).backgroundColor=p),type:"color",class:"w-12 h-10 rounded-lg cursor-pointer border"},null,512),[[ut,g(e).backgroundColor]]),tt(_("input",{"onUpdate:modelValue":h[3]||(h[3]=p=>g(e).backgroundColor=p),type:"text",class:"flex-1 px-3 py-2 bg-background border rounded-lg text-sm font-mono uppercase"},null,512),[[ut,g(e).backgroundColor]])])]),h[11]||(h[11]=_("div",{class:"h-px bg-border"},null,-1)),_("div",null,[h[9]||(h[9]=_("h3",{class:"text-sm font-medium mb-3"},"Background Image",-1)),_("div",sP,[g(e).backgroundImage?(M(),le("div",iP,[_("img",{src:g(e).backgroundImage,class:"w-full h-full object-cover",alt:"Background"},null,8,oP),_("button",{onClick:c,class:"absolute top-2 right-2 p-1.5 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 transition-colors"},[F(g(Ii),{class:"w-4 h-4"})])])):He("",!0),_("div",aP,[_("button",{onClick:a,class:"flex-1 px-3 py-2 bg-muted hover:bg-muted/80 rounded-lg text-sm transition-colors"},[F(g(dd),{class:"w-4 h-4 inline mr-1"}),h[8]||(h[8]=Ye(" Upload Image ",-1))]),g(e).backgroundImage?(M(),le("button",{key:0,onClick:c,class:"px-3 py-2 bg-destructive/10 hover:bg-destructive/20 text-destructive rounded-lg text-sm transition-colors"},[F(g(Ii),{class:"w-4 h-4"})])):He("",!0)])])]),_("input",{ref_key:"bgImageInput",ref:n,type:"file",accept:"image/*",class:"hidden",onChange:l},null,544)]))}}),uP={class:"space-y-6"},cP={key:0},dP={class:"flex items-center justify-between mb-3"},fP={class:"text-xs text-muted-foreground"},hP={class:"grid grid-cols-2 gap-2"},pP=["onClick","title"],gP=["src"],mP={key:1,class:"w-full h-full bg-muted flex items-center justify-center"},vP={class:"absolute inset-0 bg-primary/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},yP=me({__name:"ImageLibraryPanel",setup(t){const e=hn(),n=zs(),r=J(null),s=J({}),i=[],o=pe(()=>{const f=["text2image","image-edit","inpaint"];return n.items.filter(h=>h.type==="image"&&f.includes(h.mode))});Rt(async()=>{await n.initDB(),await a()}),ln(()=>{i.forEach(f=>URL.revokeObjectURL(f))});async function a(){for(const f of o.value)try{const h=await n.getThumbnail(f.id);if(h){const p=URL.createObjectURL(h);s.value[f.id]=p,i.push(p)}}catch(h){console.error(`Failed to load thumbnail for ${f.id}:`,h)}}function l(f){return j1(f)}function c(){var f;(f=r.value)==null||f.click()}async function u(f){var m;const h=f.target,p=(m=h.files)==null?void 0:m[0];if(p){try{const w=new FileReader;w.onload=y=>{var v;const b=(v=y.target)==null?void 0:v.result;e.addLayer("image",{src:b,x:e.canvasWidth/2,y:e.canvasHeight/2}),it.success("Image added to canvas")},w.readAsDataURL(p)}catch(w){it.error("Failed to load image"),console.error(w)}h.value=""}}async function d(f){try{const h=await n.getBlob(f);if(!h){it.error("Image not found in library");return}const p=URL.createObjectURL(h);i.push(p),e.addLayer("image",{src:p,x:e.canvasWidth/2,y:e.canvasHeight/2}),it.success("Image added from library")}catch(h){it.error("Failed to add image from library"),console.error(h)}}return(f,h)=>(M(),le("div",uP,[_("div",null,[_("button",{onClick:c,class:"w-full p-4 border-2 border-dashed border-primary/30 rounded-xl hover:border-primary hover:bg-primary/5 transition-all flex flex-col items-center gap-2"},[F(g(R0),{class:"w-8 h-8 text-primary"}),h[0]||(h[0]=_("span",{class:"text-sm font-medium"},"Select Image",-1)),h[1]||(h[1]=_("span",{class:"text-xs text-muted-foreground"},"Click to upload from files",-1))]),_("input",{ref_key:"imageInput",ref:r,type:"file",accept:"image/*",class:"hidden",onChange:u},null,544)]),o.value.length>0?(M(),le("div",cP,[_("div",dP,[h[2]||(h[2]=_("span",{class:"text-sm font-medium"},"Library",-1)),_("span",fP,we(o.value.length)+" images",1)]),_("div",hP,[(M(!0),le(Ve,null,bt(o.value,p=>(M(),le("button",{key:p.id,onClick:m=>d(p.id),class:"relative aspect-square rounded-lg overflow-hidden border hover:border-primary hover:ring-2 hover:ring-primary/20 transition-all group",title:`Add ${l(p.mode)} image`},[s.value[p.id]?(M(),le("img",{key:0,src:s.value[p.id],class:"w-full h-full object-cover",alt:"Library thumbnail"},null,8,gP)):(M(),le("div",mP,[F(g(bs),{class:"w-8 h-8 text-muted-foreground/50"})])),_("div",vP,[F(g(N0),{class:"w-6 h-6 text-primary"})])],8,pP))),128))])])):He("",!0)]))}}),bP={key:0,class:"w-[320px] border-r bg-muted/20 flex flex-col shrink-0 transition-all duration-300"},_P={class:"flex items-center justify-between p-3 border-b"},wP={class:"text-sm font-medium"},xP={class:"flex-1 overflow-y-auto p-4"},CP=me({__name:"EditorSidebar",setup(t){const e=hn();function n(){switch(e.activeTool){case"text":return"Text";case"elements":return"Elements";case"settings":return"Canvas Settings";case"image":return"Image Library";default:return""}}return(r,s)=>g(e).sidebarVisible?(M(),le("div",bP,[_("div",_P,[_("span",wP,we(n()),1),_("button",{onClick:s[0]||(s[0]=(...i)=>g(e).closeSidebar&&g(e).closeSidebar(...i)),class:"p-1.5 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Close sidebar"},[F(g(Ii),{class:"w-4 h-4"})])]),_("div",xP,[g(e).activeTool==="text"?(M(),ce(VA,{key:0})):g(e).activeTool==="elements"?(M(),ce(QA,{key:1})):g(e).activeTool==="settings"?(M(),ce(lP,{key:2})):g(e).activeTool==="image"?(M(),ce(yP,{key:3})):He("",!0)])])):He("",!0)}}),kP={class:"flex min-w-full min-h-full p-8"},SP=["onKeydown"],EP=me({__name:"EditorCanvas",setup(t,{expose:e}){const n=hn();Je(()=>n.zoom,async()=>{if(await _t(),s.value){const k=s.value.getStage();k.clear(),k.batchDraw(),k.getLayers().forEach(S=>{S.clear(),S.batchDraw()})}},{flush:"post"});const r=J(null),s=J(null),i=J(null),o=J({}),a=J(null);let l=null,c=!1;const u=J(null),d=J(null),f=J(!1),h=J(""),p=J(null),m=J({left:"0px",top:"0px",width:"200px",height:"100px",fontSize:"24px"}),w=pe(()=>{const k=n.zoom;return{width:n.canvasWidth*k,height:n.canvasHeight*k,scaleX:k,scaleY:k}}),y={enabledAnchors:["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"],rotateEnabled:!0,rotationSnaps:[0,45,90,135,180,225,270,315],borderStroke:"#3b82f6",anchorStroke:"#3b82f6",anchorFill:"#ffffff",keepRatio:!1,centeredScaling:!1},b=pe(()=>{const k=n.zoom;return{width:`${n.canvasWidth*k}px`,height:`${n.canvasHeight*k}px`,flexShrink:0}});Je(()=>n.backgroundImage,async k=>{if(!k){a.value=null;return}const S=new Image;S.src=k,await new Promise(V=>{S.onload=V}),a.value=Ei(S)}),Je(()=>n.layers,async(k,S)=>{const V=new Set((S==null?void 0:S.filter(ve=>ve.type==="image").map(ve=>ve.id))||[]);let ie=!1;for(const ve of k)if(ve.type==="image"&&ve.src&&(!o.value[ve.id]||!V.has(ve.id)))try{const fe=new Image;fe.src=ve.src,await new Promise((Ge,be)=>{fe.onload=Ge,fe.onerror=be}),(!ve.width||!ve.height)&&n.updateLayer(ve.id,{width:fe.naturalWidth||fe.width,height:fe.naturalHeight||fe.height}),o.value[ve.id]=Ei(fe),ie=!0}catch(fe){console.error(`Failed to load image for layer ${ve.id}:`,fe)}ie&&s.value&&(await _t(),s.value.getStage().batchDraw());const ae=new Set(k.filter(ve=>ve.type==="image").map(ve=>ve.id));for(const ve in o.value)ae.has(ve)||delete o.value[ve]},{deep:!0,flush:"post"}),Je(()=>n.selectedLayerId,async k=>{if(c)return;if(c=!0,!k||!s.value){l=null,v(),c=!1;return}await _t(),await _t();const V=s.value.getStage().findOne(`#${k}`);V&&(l=V,v()),c=!1},{flush:"post"});function v(){var S,V;const k=(S=i.value)==null?void 0:S.getNode();k&&(l?(k.nodes([l]),k.show()):(k.nodes([]),k.hide()),(V=k.getLayer())==null||V.batchDraw())}function x(k){const S={id:k.id,x:k.x,y:k.y,rotation:k.rotation,scaleX:k.scaleX,scaleY:k.scaleY,opacity:k.opacity,draggable:k.draggable&&!k.locked};return k.type==="text"?(S.text=k.text,S.fontSize=k.fontSize,S.fontFamily=k.fontFamily,S.fill=k.fill,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth,S.width=k.width,S.height=k.height):k.type==="rect"?(S.width=k.width,S.height=k.height,S.fill=k.fill,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth):k.type==="circle"?(S.radius=k.radius,S.fill=k.fill,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth):k.type==="ellipse"?(S.radiusX=k.radiusX,S.radiusY=k.radiusY,S.fill=k.fill,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth):k.type==="line"?(S.points=k.points,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth,S.dash=k.dash,k.closed&&(S.closed=k.closed)):k.type==="star"?(S.numPoints=k.numPoints,S.innerRadius=k.innerRadius,S.outerRadius=k.outerRadius,S.fill=k.fill,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth):k.type==="arrow"?(S.points=k.points,S.pointerLength=k.pointerLength,S.pointerWidth=k.pointerWidth,S.pointerAtBeginning=k.pointerAtBeginning,S.pointerAtEnding=k.pointerAtEnding,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth,S.fill=k.stroke):k.type==="polygon"?(S.sides=k.sides,S.radius=k.radius,S.fill=k.fill,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth):k.type==="path"&&(S.data=k.data,S.fill=k.fill,S.stroke=k.stroke,S.strokeWidth=k.strokeWidth),S}function C(k){const S=u.value===k.id;return{id:k.id,x:k.x,y:k.y,rotation:k.rotation,scaleX:k.scaleX,scaleY:k.scaleY,opacity:k.opacity,draggable:k.draggable&&!k.locked&&!S,listening:!0}}function O(k){let S=0,V=0,ie=0,ae=0,ve=!1;k.children&&k.children.length>0&&(ve=!0,S=1/0,V=1/0,ie=-1/0,ae=-1/0,k.children.forEach(xe=>{let Q=100,$e=100,Le=0,Fe=0;if(xe.type==="rect")Q=xe.width||100,$e=xe.height||100,Le=xe.x||0,Fe=xe.y||0;else if(xe.type==="circle")Q=(xe.radius||50)*2,$e=(xe.radius||50)*2;else if(xe.type==="polygon"||xe.type==="star"){const We=xe.radius||xe.outerRadius||60;Q=We*2,$e=We*2}else if(xe.type==="path"){const We=xe.width||0,U=xe.height||0;We&&U?(Q=We*(xe.scaleX||1),$e=U*(xe.scaleY||1)):(Q=24*(xe.scaleX||1),$e=24*(xe.scaleY||1)),Le=(xe.offsetX||0)+Q/2,Fe=(xe.offsetY||0)+$e/2}S=Math.min(S,Le-Q/2),V=Math.min(V,Fe-$e/2),ie=Math.max(ie,Le+Q/2),ae=Math.max(ae,Fe+$e/2)}));const fe=20;let Ge,be;return ve?(Ge=ie-S+fe*2,be=ae-V+fe*2):(Ge=200,be=200,S=-100,V=-100),{x:S-fe,y:V-fe,width:Ge,height:be,fill:"transparent",stroke:u.value===k.id?"#3b82f6":"transparent",strokeWidth:1,listening:!0,perfectDrawEnabled:!1,shadowEnabled:!1}}function q(k,S){const V=u.value===S.id,ie={id:k.id,fill:k.fill,stroke:k.stroke,strokeWidth:k.strokeWidth,draggable:V,listening:!0};return k.type==="rect"?(ie.x=k.x||0,ie.y=k.y||0,ie.width=k.width,ie.height=k.height):k.type==="circle"?ie.radius=k.radius:k.type==="ellipse"?(ie.radiusX=k.radiusX,ie.radiusY=k.radiusY):k.type==="polygon"?(ie.sides=k.sides,ie.radius=k.radius):k.type==="star"?(ie.numPoints=k.numPoints,ie.innerRadius=k.innerRadius,ie.outerRadius=k.outerRadius):k.type==="path"?(ie.data=k.data,ie.scaleX=k.scaleX||1,ie.scaleY=k.scaleY||1,ie.x=k.offsetX||0,ie.y=k.offsetY||0):k.type==="text"&&(ie.text=k.text,ie.fontSize=k.fontSize,ie.fontFamily=k.fontFamily),ie}function A(k,S){if(u.value!==S.id){k.cancelBubble=!0,n.selectLayer(S.id);const ie=s.value.getStage().findOne(`#${S.id}`);ie&&(l=ie,v()),l&&(l.off("dragend"),l.off("transformend"),l.on("dragend",()=>{const ae=n.layers.find(ve=>ve.id===S.id);ae&&ae.type==="group"&&(ae.x=l.x(),ae.y=l.y())}),l.on("transformend",()=>{const ae=n.layers.find(ve=>ve.id===S.id);ae&&ae.type==="group"&&(ae.x=l.x(),ae.y=l.y(),ae.rotation=l.rotation(),ae.scaleX=l.scaleX(),ae.scaleY=l.scaleY())}))}}function E(k,S){k.cancelBubble=!0,u.value===S.id?(u.value=null,d.value=null,n.toggleGroupEdit(S.id)):(u.value=S.id,n.toggleGroupEdit(S.id)),_t(()=>{var ie;const V=(ie=s.value)==null?void 0:ie.getStage();V&&V.batchDraw()})}function P(k,S,V){if(u.value===S.id)k.cancelBubble=!0,d.value=V.id,n.selectGroupChild(S.id,V.id),l=k.target,v();else return}function j(k){const S=o.value[k.id],V=k.width||(S==null?void 0:S.naturalWidth)||(S==null?void 0:S.width)||100,ie=k.height||(S==null?void 0:S.naturalHeight)||(S==null?void 0:S.height)||100;return{id:k.id,x:k.x,y:k.y,image:S,width:V,height:ie,offsetX:V/2,offsetY:ie/2,rotation:k.rotation,scaleX:k.scaleX,scaleY:k.scaleY,opacity:k.opacity,draggable:k.draggable&&!k.locked}}function T(k){if(k.target===k.target.getStage()){u.value&&(u.value=null,d.value=null),n.selectLayer(null),l=null,v();return}const S=k.target;let V=S.id(),ie=n.layers.find(fe=>{var Ge;return fe.type==="group"&&((Ge=fe.children)==null?void 0:Ge.some(be=>be.id===V))});const ae=n.layers.find(fe=>fe.id===V);ae&&ae.type==="group"&&(ie=ae);let ve=S.getParent();for(;ve&&!ie;){const fe=ve.id(),Ge=n.layers.find(be=>be.id===fe&&be.type==="group");if(Ge){ie=Ge,V=fe;break}ve=ve.getParent()}if(ie)return u.value===ie.id,void 0;ae&&(n.selectLayer(ae.id),u.value&&(u.value=null,d.value=null),l=S,v(),S.off("dragend"),S.off("transformend"),S.on("dragend",()=>{const fe=n.layers.find(Ge=>Ge.id===S.id());fe&&(fe.x=S.x(),fe.y=S.y())}),S.on("transformend",()=>{const fe=n.layers.find(Ge=>Ge.id===S.id());fe&&(fe.x=S.x(),fe.y=S.y(),fe.rotation=S.rotation(),fe.type!=="group"?((fe.type==="rect"||fe.type==="image")&&(fe.width=(fe.width||100)*S.scaleX(),fe.height=(fe.height||100)*S.scaleY()),fe.type==="circle"&&(fe.radius=(fe.radius||50)*S.scaleX()),fe.type==="ellipse"&&(fe.radiusX=(fe.radiusX||60)*S.scaleX(),fe.radiusY=(fe.radiusY||40)*S.scaleY()),fe.type==="star"&&(fe.innerRadius=(fe.innerRadius||30)*S.scaleX(),fe.outerRadius=(fe.outerRadius||60)*S.scaleX()),fe.type==="polygon"&&(fe.radius=(fe.radius||50)*S.scaleX()),fe.type==="path"&&(fe.scaleX=(fe.scaleX||1)*S.scaleX(),fe.scaleY=(fe.scaleY||1)*S.scaleY()),fe.type==="text"&&(fe.fontSize=(fe.fontSize||24)*S.scaleX(),fe.width&&(fe.width=fe.width*S.scaleX()),fe.height&&(fe.height=fe.height*S.scaleY())),S.scaleX(1),S.scaleY(1)):(fe.scaleX=S.scaleX(),fe.scaleY=S.scaleY()))}))}function B(k){const S=k.target,V=n.layers.find(ve=>ve.id===S.id());if(!V||V.type!=="text")return;p.value=V,h.value=V.text||"",f.value=!0;const ie=S.getAbsolutePosition(),ae=n.zoom;m.value={left:`${ie.x}px`,top:`${ie.y}px`,width:`${(V.width||200)*ae}px`,height:`${(V.height||100)*ae}px`,fontSize:`${(V.fontSize||24)*ae}px`}}function Y(){p.value&&n.updateLayer(p.value.id,{text:h.value}),f.value=!1,p.value=null}function L(k="png",S=.9){if(!s.value)return null;const V=s.value.getStage(),ie=V.findOne("Transformer");ie&&ie.hide();const ae=V.toDataURL({pixelRatio:1,mimeType:k==="jpg"?"image/jpeg":`image/${k}`,quality:S});return ie&&ie.show(),ae}function $(){if(!s.value)return null;const k=s.value.getStage();if(!k.width()||!k.height())return console.warn("Stage has invalid dimensions for thumbnail generation"),null;const S=k.findOne("Transformer");S&&(S.hide(),k.batchDraw());try{return k.toDataURL({pixelRatio:.5,mimeType:"image/webp",quality:.8})}catch(V){return console.error("Failed to generate thumbnail:",V),null}finally{S&&(S.show(),k.batchDraw())}}return e({exportToImage:L,scrollContainerRef:r,generateThumbnailDataUrl:$}),(k,S)=>{var K,z;const V=yn("v-rect"),ie=yn("v-image"),ae=yn("v-layer"),ve=yn("v-text"),fe=yn("v-circle"),Ge=yn("v-line"),be=yn("v-ellipse"),xe=yn("v-star"),Q=yn("v-arrow"),$e=yn("v-regular-polygon"),Le=yn("v-path"),Fe=yn("v-group"),We=yn("v-transformer"),U=yn("v-stage");return M(),le("div",{class:"w-full h-full overflow-auto bg-muted/30 relative",ref_key:"scrollContainerRef",ref:r},[_("div",kP,[_("div",{class:"relative shadow-2xl transition-all duration-150 ease-out origin-center m-auto",style:ft(b.value)},[F(U,{ref_key:"stageRef",ref:s,config:w.value,onMousedown:T,onTouchstart:T,class:"block"},{default:H(()=>[F(ae,{config:{clearBeforeDraw:!0}},{default:H(()=>[F(V,{config:{x:0,y:0,width:g(n).canvasWidth,height:g(n).canvasHeight,fill:g(n).backgroundColor,listening:!1}},null,8,["config"]),a.value?(M(),ce(ie,{key:0,config:{image:a.value,x:0,y:0,width:g(n).canvasWidth,height:g(n).canvasHeight}},null,8,["config"])):He("",!0)]),_:1}),F(ae,{config:{clearBeforeDraw:!0}},{default:H(()=>[(M(!0),le(Ve,null,bt(g(n).visibleLayers,Z=>(M(),le(Ve,{key:Z.id},[Z.type==="text"?(M(),ce(ve,{key:0,config:x(Z),onDblclick:B},null,8,["config"])):Z.type==="rect"?(M(),ce(V,{key:1,config:x(Z)},null,8,["config"])):Z.type==="circle"?(M(),ce(fe,{key:2,config:x(Z)},null,8,["config"])):Z.type==="line"?(M(),ce(Ge,{key:3,config:x(Z)},null,8,["config"])):Z.type==="ellipse"?(M(),ce(be,{key:4,config:x(Z)},null,8,["config"])):Z.type==="star"?(M(),ce(xe,{key:5,config:x(Z)},null,8,["config"])):Z.type==="arrow"?(M(),ce(Q,{key:6,config:x(Z)},null,8,["config"])):Z.type==="polygon"?(M(),ce($e,{key:7,config:x(Z)},null,8,["config"])):Z.type==="path"?(M(),ce(Le,{key:8,config:x(Z)},null,8,["config"])):Z.type==="group"&&Z.children?(M(),ce(Fe,{key:9,config:C(Z),onMousedown:de=>A(de,Z),onTouchstart:de=>A(de,Z),onDblclick:de=>E(de,Z)},{default:H(()=>[F(V,{config:O(Z)},null,8,["config"]),(M(!0),le(Ve,null,bt(Z.children,de=>(M(),le(Ve,{key:de.id},[de.type==="rect"?(M(),ce(V,{key:0,config:q(de,Z),onMousedown:he=>P(he,Z,de),onTouchstart:he=>P(he,Z,de)},null,8,["config","onMousedown","onTouchstart"])):de.type==="circle"?(M(),ce(fe,{key:1,config:q(de,Z),onMousedown:he=>P(he,Z,de),onTouchstart:he=>P(he,Z,de)},null,8,["config","onMousedown","onTouchstart"])):de.type==="ellipse"?(M(),ce(be,{key:2,config:q(de,Z),onMousedown:he=>P(he,Z,de),onTouchstart:he=>P(he,Z,de)},null,8,["config","onMousedown","onTouchstart"])):de.type==="polygon"?(M(),ce($e,{key:3,config:q(de,Z),onMousedown:he=>P(he,Z,de),onTouchstart:he=>P(he,Z,de)},null,8,["config","onMousedown","onTouchstart"])):de.type==="star"?(M(),ce(xe,{key:4,config:q(de,Z),onMousedown:he=>P(he,Z,de),onTouchstart:he=>P(he,Z,de)},null,8,["config","onMousedown","onTouchstart"])):de.type==="path"?(M(),ce(Le,{key:5,config:q(de,Z),onMousedown:he=>P(he,Z,de),onTouchstart:he=>P(he,Z,de)},null,8,["config","onMousedown","onTouchstart"])):de.type==="text"?(M(),ce(ve,{key:6,config:q(de,Z),onMousedown:he=>P(he,Z,de),onTouchstart:he=>P(he,Z,de)},null,8,["config","onMousedown","onTouchstart"])):He("",!0)],64))),128))]),_:2},1032,["config","onMousedown","onTouchstart","onDblclick"])):Z.type==="image"&&o.value[Z.id]?(M(),ce(ie,{key:10,config:j(Z)},null,8,["config"])):Z.type==="image"&&!o.value[Z.id]?(M(),ce(V,{key:11,config:{id:Z.id,x:Z.x-50,y:Z.y-50,width:100,height:100,fill:"#e2e8f0",stroke:"#94a3b8",strokeWidth:2,draggable:!1,listening:!1}},null,8,["config"])):He("",!0)],64))),128)),F(We,{ref_key:"transformerRef",ref:i,config:y},null,512)]),_:1})]),_:1},8,["config"]),f.value?(M(),le("div",{key:0,class:"absolute bg-white border-2 border-primary shadow-lg",style:ft(m.value)},[tt(_("textarea",{"onUpdate:modelValue":S[0]||(S[0]=Z=>h.value=Z),class:"w-full h-full p-2 outline-none resize-none",style:ft({fontFamily:(K=p.value)==null?void 0:K.fontFamily,color:(z=p.value)==null?void 0:z.fill}),onBlur:Y,onKeydown:Kc(Bt(Y,["prevent"]),["enter"])},null,44,SP),[[ut,h.value]])],4)):He("",!0)],4)])],512)}}}),TP=Vl(EP,[["__scopeId","data-v-35ed56cb"]]),Fp=me({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=tn(t,e);return(i,o)=>(M(),ce(g($k),It(Nt(g(s))),{default:H(()=>[Ee(i.$slots,"default")]),_:3},16))}}),Bp=me({inheritAttrs:!1,__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=_s(n,"class"),i=tn(s,r);return(o,a)=>(M(),ce(g(jk),null,{default:H(()=>[F(g(Bk),Xe({...g(i),...o.$attrs},{class:g(Dn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:H(()=>[Ee(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Tn=me({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Gk),Xe(e,{class:g(Dn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.class)}),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16,["class"]))}}),Ea=me({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Hk),Xe(e,{class:g(Dn)("-mx-1 my-1 h-px bg-muted",e.class)}),null,16,["class"]))}}),Up=me({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>(M(),ce(g(Vk),It(Nt(e)),{default:H(()=>[Ee(n.$slots,"default")]),_:3},16))}}),AP={class:"h-full flex flex-col"},PP={class:"flex items-center justify-between p-3 border-b"},OP={class:"text-xs text-muted-foreground"},IP={class:"flex-1 overflow-y-auto p-2 space-y-1"},LP={key:0},MP=["onDragstart","onDragover","onDrop","onClick"],RP=["onClick"],DP={class:"p-1 rounded cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground",title:"Drag to reorder"},NP=["onClick"],$P=["onClick"],FP={class:"flex-1 text-sm truncate"},BP=["onClick"],UP={key:0,class:"ml-6 space-y-1 mt-1"},GP=["onClick"],qP={class:"flex-1 truncate text-muted-foreground"},jP={key:0,class:"text-xs text-primary"},WP=["onDragstart","onDragover","onDrop","onClick"],HP={class:"p-1 rounded cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground",title:"Drag to reorder"},zP=["onClick"],VP=["onClick"],YP={class:"flex-1 text-sm truncate"},KP={key:0,class:"text-center py-8 text-muted-foreground"},XP=me({__name:"EditorLayers",setup(t){const e=hn(),n=pe(()=>[...e.layers].reverse()),r=J(new Set);function s(y){return r.value.has(y)}function i(y){r.value.has(y)?r.value.delete(y):r.value.add(y)}function o(y,b){e.selectLayer(y),e.selectGroupChild(y,b)}const a=J(null),l=J(null),c=J(!1);function u(y){switch(y){case"text":return Nl;case"image":return bs;case"rect":return tl;case"circle":return Ja;case"ellipse":return Ja;case"line":return bc;case"arrow":return M0;case"star":return F0;case"polygon":return B0;case"path":return bc;case"group":return Kh;default:return tl}}function d(y,b){a.value=b,c.value=!0,y.dataTransfer&&(y.dataTransfer.effectAllowed="move")}function f(y,b){y.preventDefault(),a.value!==null&&a.value!==b&&(l.value=b)}function h(y){const b=y.target,v=y.relatedTarget;b.contains(v)||(l.value=null)}function p(y,b){if(y.preventDefault(),a.value===null)return;if(a.value===b){w();return}const v=e.layers.length,x=v-1-a.value,C=v-1-b;e.reorderLayer(x,C),w()}function m(){w()}function w(){a.value=null,l.value=null,c.value=!1}return(y,b)=>(M(),le("div",AP,[_("div",PP,[b[2]||(b[2]=_("span",{class:"text-sm font-medium"},"Layers",-1)),_("span",OP,we(g(e).layers.length),1)]),_("div",IP,[(M(!0),le(Ve,null,bt(n.value,(v,x)=>(M(),le(Ve,{key:v.id},[v.type==="group"?(M(),le("div",LP,[_("div",{draggable:"true",onDragstart:C=>d(C,x),onDragover:C=>f(C,x),onDragleave:h,onDrop:C=>p(C,x),onDragend:m,onClick:C=>g(e).selectLayer(v.id),class:st(["flex items-center gap-1 p-2 rounded-lg cursor-pointer transition-all group border",g(e).selectedLayerId===v.id?"bg-primary/10 border-primary/30":"hover:bg-muted/50 border-transparent",a.value===x?"opacity-50":"",l.value===x&&l.value!==a.value?"border-t-2 border-t-primary":""])},[_("button",{onClick:Bt(C=>i(v.id),["stop"]),class:"p-1 rounded hover:bg-muted transition-colors"},[s(v.id)?(M(),ce(g(Cx),{key:1,class:"w-4 h-4 text-muted-foreground"})):(M(),ce(g(kx),{key:0,class:"w-4 h-4 text-muted-foreground"}))],8,RP),_("div",DP,[F(g(Xh),{class:"w-4 h-4"})]),_("button",{onClick:Bt(C=>g(e).toggleLayerVisibility(v.id),["stop"]),class:st(["p-1 rounded hover:bg-muted transition-colors",v.visible?"text-foreground":"text-muted-foreground"])},[v.visible?(M(),ce(g(Za),{key:0,class:"w-4 h-4"})):(M(),ce(g(Yh),{key:1,class:"w-4 h-4"}))],10,NP),_("button",{onClick:Bt(C=>g(e).toggleLayerLock(v.id),["stop"]),class:st(["p-1 rounded hover:bg-muted transition-colors",v.locked?"text-primary":"text-muted-foreground"])},[v.locked?(M(),ce(g(Zh),{key:0,class:"w-4 h-4"})):(M(),ce(g(Qh),{key:1,class:"w-4 h-4"}))],10,$P),F(g(Kh),{class:"w-4 h-4 text-muted-foreground"}),_("span",FP,we(v.name),1),_("button",{onClick:Bt(C=>g(e).ungroup(v.id),["stop"]),class:"p-1 rounded hover:bg-muted transition-colors opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-foreground",title:"Ungroup"},[F(g(ep),{class:"w-4 h-4"})],8,BP),F(g(Fp),null,{default:H(()=>[F(g(Up),{"as-child":""},{default:H(()=>[_("button",{onClick:b[0]||(b[0]=Bt(()=>{},["stop"])),class:st(["p-1 rounded hover:bg-muted transition-colors opacity-0 group-hover:opacity-100",{"opacity-100":g(e).selectedLayerId===v.id}])},[F(g(Vh),{class:"w-4 h-4"})],2)]),_:2},1024),F(g(Bp),{align:"end"},{default:H(()=>[F(g(Tn),{onClick:C=>g(e).duplicateLayer(v.id)},{default:H(()=>[F(g(Qa),{class:"w-4 h-4 mr-2"}),b[3]||(b[3]=Ye(" Duplicate ",-1))]),_:1},8,["onClick"]),F(g(Tn),{onClick:C=>g(e).ungroup(v.id)},{default:H(()=>[F(g(ep),{class:"w-4 h-4 mr-2"}),b[4]||(b[4]=Ye(" Ungroup ",-1))]),_:1},8,["onClick"]),F(g(Ea)),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"up"),disabled:x===0},{default:H(()=>[F(g(Hh),{class:"w-4 h-4 mr-2"}),b[5]||(b[5]=Ye(" Move Up ",-1))]),_:1},8,["onClick","disabled"]),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"down"),disabled:x===n.value.length-1},{default:H(()=>[F(g(jh),{class:"w-4 h-4 mr-2"}),b[6]||(b[6]=Ye(" Move Down ",-1))]),_:1},8,["onClick","disabled"]),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"top")},{default:H(()=>[F(g(Wh),{class:"w-4 h-4 mr-2"}),b[7]||(b[7]=Ye(" Move to Top ",-1))]),_:1},8,["onClick"]),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"bottom")},{default:H(()=>[F(g(qh),{class:"w-4 h-4 mr-2"}),b[8]||(b[8]=Ye(" Move to Bottom ",-1))]),_:1},8,["onClick"]),F(g(Ea)),F(g(Tn),{onClick:C=>g(e).deleteLayer(v.id),class:"text-destructive focus:text-destructive"},{default:H(()=>[F(g(Ns),{class:"w-4 h-4 mr-2"}),b[9]||(b[9]=Ye(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)],42,MP),s(v.id)&&v.children?(M(),le("div",UP,[(M(!0),le(Ve,null,bt(v.children,C=>(M(),le("div",{key:C.id,onClick:O=>o(v.id,C.id),class:st(["flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all text-sm",v.editingChildId===C.id?"bg-primary/5 border border-primary/20":"hover:bg-muted/30 border border-transparent"])},[(M(),ce(Pn(u(C.type)),{class:"w-3 h-3 text-muted-foreground"})),_("span",qP,we(C.name),1),v.editingChildId===C.id?(M(),le("span",jP," editing ")):He("",!0)],10,GP))),128))])):He("",!0)])):(M(),le("div",{key:1,draggable:"true",onDragstart:C=>d(C,x),onDragover:C=>f(C,x),onDragleave:h,onDrop:C=>p(C,x),onDragend:m,onClick:C=>g(e).selectLayer(v.id),class:st(["flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all group border",g(e).selectedLayerId===v.id?"bg-primary/10 border-primary/30":"hover:bg-muted/50 border-transparent",a.value===x?"opacity-50":"",l.value===x&&l.value!==a.value?"border-t-2 border-t-primary":""])},[b[16]||(b[16]=_("div",{class:"w-6"},null,-1)),_("div",HP,[F(g(Xh),{class:"w-4 h-4"})]),_("button",{onClick:Bt(C=>g(e).toggleLayerVisibility(v.id),["stop"]),class:st(["p-1 rounded hover:bg-muted transition-colors",v.visible?"text-foreground":"text-muted-foreground"])},[v.visible?(M(),ce(g(Za),{key:0,class:"w-4 h-4"})):(M(),ce(g(Yh),{key:1,class:"w-4 h-4"}))],10,zP),_("button",{onClick:Bt(C=>g(e).toggleLayerLock(v.id),["stop"]),class:st(["p-1 rounded hover:bg-muted transition-colors",v.locked?"text-primary":"text-muted-foreground"])},[v.locked?(M(),ce(g(Zh),{key:0,class:"w-4 h-4"})):(M(),ce(g(Qh),{key:1,class:"w-4 h-4"}))],10,VP),(M(),ce(Pn(u(v.type)),{class:"w-4 h-4 text-muted-foreground"})),_("span",YP,we(v.name),1),F(g(Fp),null,{default:H(()=>[F(g(Up),{"as-child":""},{default:H(()=>[_("button",{onClick:b[1]||(b[1]=Bt(()=>{},["stop"])),class:st(["p-1 rounded hover:bg-muted transition-colors opacity-0 group-hover:opacity-100",{"opacity-100":g(e).selectedLayerId===v.id}])},[F(g(Vh),{class:"w-4 h-4"})],2)]),_:2},1024),F(g(Bp),{align:"end"},{default:H(()=>[F(g(Tn),{onClick:C=>g(e).duplicateLayer(v.id)},{default:H(()=>[F(g(Qa),{class:"w-4 h-4 mr-2"}),b[10]||(b[10]=Ye(" Duplicate ",-1))]),_:1},8,["onClick"]),F(g(Ea)),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"up"),disabled:x===0},{default:H(()=>[F(g(Hh),{class:"w-4 h-4 mr-2"}),b[11]||(b[11]=Ye(" Move Up ",-1))]),_:1},8,["onClick","disabled"]),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"down"),disabled:x===n.value.length-1},{default:H(()=>[F(g(jh),{class:"w-4 h-4 mr-2"}),b[12]||(b[12]=Ye(" Move Down ",-1))]),_:1},8,["onClick","disabled"]),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"top")},{default:H(()=>[F(g(Wh),{class:"w-4 h-4 mr-2"}),b[13]||(b[13]=Ye(" Move to Top ",-1))]),_:1},8,["onClick"]),F(g(Tn),{onClick:C=>g(e).moveLayer(v.id,"bottom")},{default:H(()=>[F(g(qh),{class:"w-4 h-4 mr-2"}),b[14]||(b[14]=Ye(" Move to Bottom ",-1))]),_:1},8,["onClick"]),F(g(Ea)),F(g(Tn),{onClick:C=>g(e).deleteLayer(v.id),class:"text-destructive focus:text-destructive"},{default:H(()=>[F(g(Ns),{class:"w-4 h-4 mr-2"}),b[15]||(b[15]=Ye(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)],42,WP))],64))),128)),g(e).layers.length===0?(M(),le("div",KP,[F(g(Mx),{class:"w-8 h-8 mx-auto mb-2 opacity-50"}),b[17]||(b[17]=_("p",{class:"text-sm"},"No layers yet",-1)),b[18]||(b[18]=_("p",{class:"text-xs mt-1"},"Add elements from the toolbar",-1))])):He("",!0)])]))}}),JP=Vl(XP,[["__scopeId","data-v-f560b5c0"]]),QP={class:"bg-background rounded-xl w-[600px] max-h-[80vh] flex flex-col shadow-xl"},ZP={class:"flex items-center justify-between p-4 border-b"},eO={class:"flex gap-2 p-4 border-b overflow-x-auto"},tO=["onClick"],nO={class:"flex-1 overflow-y-auto p-4"},rO={class:"grid grid-cols-3 gap-4"},sO=["onClick"],iO={class:"absolute inset-x-0 bottom-0 p-3 bg-gradient-to-t from-black/80 to-transparent"},oO={class:"text-white font-medium text-sm"},aO={class:"text-white/70 text-xs"},lO={class:"p-4 border-t"},uO={class:"flex items-center gap-4"},cO={class:"flex items-center gap-2"},dO=me({__name:"EditorTemplates",props:{show:{type:Boolean}},emits:["close","select"],setup(t,{emit:e}){const n=e,r=hn(),s=J("All"),i=J(800),o=J(600),a=pe(()=>["All",...new Set(r.availableTemplates.map(p=>p.category))]),l=pe(()=>s.value==="All"?r.availableTemplates:r.availableTemplates.filter(h=>h.category===s.value));function c(h){const p=h.width/h.height;return p>1?{paddingTop:`${1/p*100}%`}:{}}function u(h){switch(h){case"smartphone":return Qx;case"facebook":return Ax;case"twitter":return t8;case"youtube":return n8;case"file-text":return Px;case"credit-card":return Ex;case"presentation":return zx;case"settings":return cd;default:return bs}}function d(h){n("select",h)}function f(){const h={id:"custom",name:"Custom Size",width:i.value,height:o.value,category:"Custom"};n("select",h)}return(h,p)=>t.show?(M(),le("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:p[3]||(p[3]=Bt(m=>h.$emit("close"),["self"]))},[_("div",QP,[_("div",ZP,[p[4]||(p[4]=_("h3",{class:"text-lg font-semibold"},"Choose Template",-1)),_("button",{onClick:p[0]||(p[0]=m=>h.$emit("close")),class:"p-2 hover:bg-muted rounded-lg transition-colors"},[F(g(Ii),{class:"w-5 h-5"})])]),_("div",eO,[(M(!0),le(Ve,null,bt(a.value,m=>(M(),le("button",{key:m,onClick:w=>s.value=m,class:st(["px-3 py-1.5 text-sm rounded-lg whitespace-nowrap transition-colors",s.value===m?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"])},we(m),11,tO))),128))]),_("div",nO,[_("div",rO,[(M(!0),le(Ve,null,bt(l.value,m=>(M(),le("button",{key:m.id,onClick:w=>d(m),class:"group relative aspect-[3/4] bg-muted rounded-xl overflow-hidden hover:ring-2 hover:ring-primary transition-all text-left"},[_("div",{class:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-muted to-muted/50",style:ft(c(m))},[(M(),ce(Pn(u(m.icon)),{class:"w-12 h-12 text-muted-foreground/50"}))],4),_("div",iO,[_("p",oO,we(m.name),1),_("p",aO,we(m.width)+"  "+we(m.height)+"px",1)])],8,sO))),128))])]),_("div",lO,[_("div",uO,[p[6]||(p[6]=_("span",{class:"text-sm font-medium"},"Custom Size:",-1)),_("div",cO,[tt(_("input",{"onUpdate:modelValue":p[1]||(p[1]=m=>i.value=m),type:"number",placeholder:"Width",class:"w-24 px-3 py-2 bg-muted rounded-lg text-sm"},null,512),[[ut,i.value,void 0,{number:!0}]]),p[5]||(p[5]=_("span",{class:"text-muted-foreground"},"",-1)),tt(_("input",{"onUpdate:modelValue":p[2]||(p[2]=m=>o.value=m),type:"number",placeholder:"Height",class:"w-24 px-3 py-2 bg-muted rounded-lg text-sm"},null,512),[[ut,o.value,void 0,{number:!0}]]),_("button",{onClick:f,class:"px-4 py-2 bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg text-sm transition-colors"}," Create ")])])])])])):He("",!0)}}),fO={class:"flex items-center gap-4"},hO={class:"flex items-center gap-2"},pO={class:"flex items-center gap-2"},gO={class:"flex items-center gap-2"},mO={class:"flex items-center gap-1"},vO=me({__name:"CommonProperties",props:{layer:{}},emits:["update"],setup(t,{emit:e}){const n=hn(),r=e;function s(i,o){r("update",i,o)}return(i,o)=>(M(),le("div",fO,[_("div",hO,[o[10]||(o[10]=_("span",{class:"text-xs text-muted-foreground"},"X",-1)),tt(_("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.layer.x=a),type:"number",class:"w-16 px-2 py-1 bg-muted rounded text-xs",onChange:o[1]||(o[1]=a=>s("x",t.layer.x))},null,544),[[ut,t.layer.x,void 0,{number:!0}]]),o[11]||(o[11]=_("span",{class:"text-xs text-muted-foreground"},"Y",-1)),tt(_("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.layer.y=a),type:"number",class:"w-16 px-2 py-1 bg-muted rounded text-xs",onChange:o[3]||(o[3]=a=>s("y",t.layer.y))},null,544),[[ut,t.layer.y,void 0,{number:!0}]])]),o[13]||(o[13]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("div",pO,[F(g(Yx),{class:"w-3 h-3 text-muted-foreground"}),tt(_("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>t.layer.rotation=a),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:o[5]||(o[5]=a=>s("rotation",t.layer.rotation))},null,544),[[ut,t.layer.rotation,void 0,{number:!0}]]),o[12]||(o[12]=_("span",{class:"text-xs text-muted-foreground"},"",-1))]),o[14]||(o[14]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("div",gO,[F(g(Za),{class:"w-3 h-3 text-muted-foreground"}),tt(_("input",{"onUpdate:modelValue":o[6]||(o[6]=a=>t.layer.opacity=a),type:"number",min:"0",max:"1",step:"0.1",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:o[7]||(o[7]=a=>s("opacity",t.layer.opacity))},null,544),[[ut,t.layer.opacity,void 0,{number:!0}]])]),o[15]||(o[15]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("div",mO,[_("button",{onClick:o[8]||(o[8]=a=>g(n).duplicateLayer(t.layer.id)),class:"p-1.5 hover:bg-muted rounded transition-colors",title:"Duplicate"},[F(g(Qa),{class:"w-3 h-3"})]),_("button",{onClick:o[9]||(o[9]=a=>g(n).deleteLayer(t.layer.id)),class:"p-1.5 hover:bg-destructive/10 text-destructive rounded transition-colors",title:"Delete"},[F(g(Ns),{class:"w-3 h-3"})])])]))}}),yO={class:"flex flex-col gap-3 w-64 p-4 bg-background border rounded-lg shadow-lg"},bO={class:"relative h-4 w-full"},_O={class:"relative h-4 w-full"},wO={class:"absolute inset-0 rounded-full h-3 my-0.5 overflow-hidden",style:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')"}},xO={class:"flex items-center gap-2"},CO={class:"flex-1 flex items-center"},kO={key:1,class:"flex gap-1"},SO=["value"],EO={key:2,class:"flex gap-1"},TO=["value"],AO={class:"flex items-center gap-2"},PO={class:"text-xs text-muted-foreground font-mono"},al=me({__name:"ColorPicker",props:{modelValue:{}},emits:["update:modelValue","change"],setup(t,{emit:e}){const n=t,r=e;function s(j){const T=document.createElement("div");T.style.color=j,document.body.appendChild(T);const B=getComputedStyle(T).color;document.body.removeChild(T);const Y=B.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!Y)return{h:0,s:100,l:50,a:100};const L=parseInt(Y[1])/255,$=parseInt(Y[2])/255,k=parseInt(Y[3])/255,S=Math.max(L,$,k),V=Math.min(L,$,k),ie=(S+V)/2;let ae=0,ve=0;if(S!==V){const fe=S-V;switch(ve=ie>.5?fe/(2-S-V):fe/(S+V),S){case L:ae=(($-k)/fe+($<k?6:0))/6;break;case $:ae=((k-L)/fe+2)/6;break;case k:ae=((L-$)/fe+4)/6;break}}return{h:Math.round(ae*360),s:Math.round(ve*100),l:Math.round(ie*100),a:100}}const i=s(n.modelValue||"#000000"),o=J(i.h),a=J(i.s),l=J(i.l),c=J(i.a),u=J("hex"),d=J(!1),f=J(null),h=J(!1);typeof window<"u"&&(h.value="EyeDropper"in window);const p=pe(()=>`linear-gradient(0deg, rgba(0,0,0,1), rgba(0,0,0,0)),
          linear-gradient(90deg, rgba(255,255,255,1), rgba(255,255,255,0)),
          hsl(${o.value}, 100%, 50%)`),m=pe(()=>`hsl(${o.value}, ${a.value}%, ${l.value}%)`),w=pe(()=>{if(c.value<100){const j=x(o.value,a.value,l.value);return`rgba(${j[0]}, ${j[1]}, ${j[2]}, ${c.value/100})`}return C(o.value,a.value,l.value)}),y=pe(()=>C(o.value,a.value,l.value)),b=pe(()=>x(o.value,a.value,l.value).map(T=>Math.round(T))),v=pe(()=>[Math.round(o.value),Math.round(a.value),Math.round(l.value)]);function x(j,T,B){T/=100,B/=100;const Y=k=>(k+j/30)%12,L=T*Math.min(B,1-B),$=k=>B-L*Math.max(-1,Math.min(Y(k)-3,Math.min(9-Y(k),1)));return[255*$(0),255*$(8),255*$(4)]}function C(j,T,B){return"#"+x(j,T,B).map(L=>{const $=Math.round(L).toString(16);return $.length===1?"0"+$:$}).join("")}function O(j){d.value=!0,E(j)}function q(j){!d.value||!f.value||E(j)}function A(){d.value=!1}function E(j){if(!f.value)return;const T=f.value.getBoundingClientRect(),B=Math.max(0,Math.min(1,(j.clientX-T.left)/T.width)),Y=Math.max(0,Math.min(1,(j.clientY-T.top)/T.height));a.value=B*100,l.value=(1-Y)*100}async function P(){try{const T=await new window.EyeDropper().open();if(T&&T.sRGBHex){const B=s(T.sRGBHex);o.value=B.h,a.value=B.s,l.value=B.l,c.value=100}}catch(j){console.error("EyeDropper failed:",j)}}return Je([o,a,l,c],()=>{const j=w.value;r("update:modelValue",j),r("change",j)}),Je(()=>n.modelValue,j=>{if(!j)return;const T=s(j);o.value=T.h,a.value=T.s,l.value=T.l,c.value=T.a}),(j,T)=>(M(),le("div",yO,[_("div",{ref_key:"selectionRef",ref:f,class:"relative h-32 w-full cursor-crosshair rounded-md",style:ft({background:p.value}),onMousedown:O,onMousemove:q,onMouseup:A,onMouseleave:A},[_("div",{class:"absolute h-4 w-4 rounded-full border-2 border-white -translate-x-1/2 -translate-y-1/2 pointer-events-none",style:ft({left:`${a.value}%`,top:`${100-l.value}%`,boxShadow:"0 0 0 1px rgba(0,0,0,0.5)"})},null,4)],36),_("div",bO,[tt(_("input",{"onUpdate:modelValue":T[0]||(T[0]=B=>o.value=B),type:"range",min:"0",max:"360",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"},null,512),[[ut,o.value,void 0,{number:!0}]]),T[4]||(T[4]=_("div",{class:"absolute inset-0 rounded-full h-3 my-0.5",style:{background:"linear-gradient(90deg, #FF0000, #FFFF00, #00FF00, #00FFFF, #0000FF, #FF00FF, #FF0000)"}},null,-1)),_("div",{class:"absolute top-1/2 -translate-y-1/2 w-4 h-4 rounded-full border border-primary/50 bg-background shadow pointer-events-none",style:ft({left:`calc(${o.value/360*100}% - 8px)`})},null,4)]),_("div",_O,[tt(_("input",{"onUpdate:modelValue":T[1]||(T[1]=B=>c.value=B),type:"range",min:"0",max:"100",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"},null,512),[[ut,c.value,void 0,{number:!0}]]),_("div",wO,[_("div",{class:"absolute inset-0 rounded-full",style:ft({background:`linear-gradient(to right, transparent, ${m.value})`})},null,4)]),_("div",{class:"absolute top-1/2 -translate-y-1/2 w-4 h-4 rounded-full border border-primary/50 bg-background shadow pointer-events-none",style:ft({left:`calc(${c.value}% - 8px)`})},null,4)]),_("div",xO,[tt(_("select",{"onUpdate:modelValue":T[2]||(T[2]=B=>u.value=B),class:"h-8 w-20 shrink-0 text-xs bg-muted rounded px-2"},[...T[5]||(T[5]=[_("option",{value:"hex"},"HEX",-1),_("option",{value:"rgb"},"RGB",-1),_("option",{value:"hsl"},"HSL",-1)])],512),[[li,u.value]]),_("div",CO,[u.value==="hex"?tt((M(),le("input",{key:0,"onUpdate:modelValue":T[3]||(T[3]=B=>y.value=B),type:"text",class:"h-8 w-full bg-muted px-2 text-xs rounded",readonly:""},null,512)),[[ut,y.value]]):u.value==="rgb"?(M(),le("div",kO,[(M(!0),le(Ve,null,bt(b.value,(B,Y)=>(M(),le("input",{key:Y,value:B,type:"text",class:"h-8 w-12 bg-muted px-1 text-xs rounded text-center",readonly:""},null,8,SO))),128))])):u.value==="hsl"?(M(),le("div",EO,[(M(!0),le(Ve,null,bt(v.value,(B,Y)=>(M(),le("input",{key:Y,value:B,type:"text",class:"h-8 w-12 bg-muted px-1 text-xs rounded text-center",readonly:""},null,8,TO))),128))])):He("",!0)]),h.value?(M(),le("button",{key:0,onClick:P,class:"h-8 w-8 shrink-0 flex items-center justify-center rounded border hover:bg-muted transition-colors",title:"Pick color from screen"},[F(g(Hx),{class:"w-4 h-4"})])):He("",!0)]),_("div",AO,[_("div",{class:"w-8 h-8 rounded border shadow-sm",style:ft({backgroundColor:w.value})},null,4),_("span",PO,we(w.value),1)])]))}}),OO={class:"flex items-center gap-4"},IO={class:"flex items-center gap-2 px-3 py-1.5 bg-muted hover:bg-muted/80 rounded-lg text-sm transition-colors"},LO={class:"truncate max-w-[120px]"},MO={class:"space-y-3"},RO={class:"flex items-center gap-2"},DO={class:"flex items-center gap-2"},NO=me({__name:"TextProperties",props:{layer:{}},emits:["update"],setup(t,{emit:e}){hn();const n=e;function r(s,i){n("update",s,i)}return(s,i)=>(M(),le("div",OO,[F(g(Fs),null,{default:H(()=>[F(g(Us),{"as-child":""},{default:H(()=>[_("button",IO,[F(g(Nl),{class:"w-4 h-4"}),_("span",LO,we(t.layer.text||"Edit Text"),1)])]),_:1}),F(g(Bs),{class:"w-80"},{default:H(()=>[_("div",MO,[i[11]||(i[11]=_("label",{class:"text-sm font-medium"},"Text Content",-1)),tt(_("textarea",{"onUpdate:modelValue":i[0]||(i[0]=o=>t.layer.text=o),rows:"3",class:"w-full px-3 py-2 bg-muted rounded-lg text-sm outline-none resize-none",onChange:i[1]||(i[1]=o=>r("text",t.layer.text))},null,544),[[ut,t.layer.text]])])]),_:1})]),_:1}),i[16]||(i[16]=_("div",{class:"w-px h-6 bg-border"},null,-1)),tt(_("select",{"onUpdate:modelValue":i[2]||(i[2]=o=>t.layer.fontFamily=o),class:"px-2 py-1.5 bg-muted rounded text-sm outline-none",onChange:i[3]||(i[3]=o=>r("fontFamily",t.layer.fontFamily))},[...i[12]||(i[12]=[Ia('<option value="Arial">Arial</option><option value="Georgia">Georgia</option><option value="Times New Roman">Times New Roman</option><option value="Courier New">Courier New</option><option value="Verdana">Verdana</option><option value="Helvetica">Helvetica</option>',6)])],544),[[li,t.layer.fontFamily]]),i[17]||(i[17]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("div",RO,[i[13]||(i[13]=_("span",{class:"text-xs text-muted-foreground"},"Size",-1)),tt(_("input",{"onUpdate:modelValue":i[4]||(i[4]=o=>t.layer.fontSize=o),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:i[5]||(i[5]=o=>r("fontSize",t.layer.fontSize))},null,544),[[ut,t.layer.fontSize,void 0,{number:!0}]])]),i[18]||(i[18]=_("div",{class:"w-px h-6 bg-border"},null,-1)),F(g(Fs),null,{default:H(()=>[F(g(Us),{"as-child":""},{default:H(()=>[_("button",{class:"w-8 h-8 rounded border-2 border-border shadow-sm hover:scale-110 transition-transform",style:ft({backgroundColor:t.layer.fill||"#000000"}),title:"Text Color"},null,4)]),_:1}),F(g(Bs),{class:"p-0 w-auto"},{default:H(()=>[F(g(al),{"model-value":t.layer.fill||"#000000","onUpdate:modelValue":i[6]||(i[6]=o=>r("fill",o))},null,8,["model-value"])]),_:1})]),_:1}),i[19]||(i[19]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("div",DO,[i[14]||(i[14]=_("span",{class:"text-xs text-muted-foreground"},"W",-1)),tt(_("input",{"onUpdate:modelValue":i[7]||(i[7]=o=>t.layer.width=o),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:i[8]||(i[8]=o=>r("width",t.layer.width))},null,544),[[ut,t.layer.width,void 0,{number:!0}]]),i[15]||(i[15]=_("span",{class:"text-xs text-muted-foreground"},"H",-1)),tt(_("input",{"onUpdate:modelValue":i[9]||(i[9]=o=>t.layer.height=o),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:i[10]||(i[10]=o=>r("height",t.layer.height))},null,544),[[ut,t.layer.height,void 0,{number:!0}]])])]))}}),$O={class:"flex items-center gap-4"},FO={key:0,class:"flex items-center gap-2 px-2 py-1 bg-primary/10 rounded-lg"},BO={class:"text-xs text-primary"},UO={key:1,class:"w-px h-6 bg-border"},GO={class:"flex items-center gap-2 px-3 py-1.5 hover:bg-muted rounded-lg transition-colors"},qO={class:"flex items-center gap-2 px-3 py-1.5 hover:bg-muted rounded-lg transition-colors"},jO={class:"flex items-center gap-2"},WO={key:2,class:"flex items-center gap-2"},HO={key:3,class:"flex items-center gap-2"},zO=me({__name:"ShapeProperties",props:{layer:{}},emits:["update"],setup(t,{emit:e}){const n=hn(),r=t,s=e,i=pe(()=>r.layer.type==="group"&&r.layer.editingChildId&&r.layer.children),o=pe(()=>{if(i.value&&r.layer.children){const c=r.layer.children.find(u=>u.id===r.layer.editingChildId);if(c)return c}return r.layer});function a(c,u){i.value?n.updateGroupChild(r.layer.id,r.layer.editingChildId,{[c]:u},!0):s("update",c,u)}function l(){n.selectGroupChild(r.layer.id,null)}return(c,u)=>(M(),le("div",$O,[i.value?(M(),le("div",FO,[_("span",BO,"Editing: "+we(o.value.name),1),_("button",{onClick:l,class:"text-xs text-primary hover:underline"}," Exit ")])):He("",!0),i.value?(M(),le("div",UO)):He("",!0),F(g(Fs),null,{default:H(()=>[F(g(Us),{"as-child":""},{default:H(()=>[_("button",GO,[_("div",{class:"w-5 h-5 rounded border shadow-sm",style:ft({backgroundColor:o.value.fill||"#3b82f6"})},null,4),u[10]||(u[10]=_("span",{class:"text-sm"},"Fill",-1))])]),_:1}),F(g(Bs),{class:"p-0 w-auto"},{default:H(()=>[F(g(al),{"model-value":o.value.fill||"#3b82f6","onUpdate:modelValue":u[0]||(u[0]=d=>a("fill",d))},null,8,["model-value"])]),_:1})]),_:1}),u[16]||(u[16]=_("div",{class:"w-px h-6 bg-border"},null,-1)),F(g(Fs),null,{default:H(()=>[F(g(Us),{"as-child":""},{default:H(()=>[_("button",qO,[_("div",{class:"w-5 h-5 rounded border shadow-sm",style:ft({backgroundColor:o.value.stroke||"transparent"})},null,4),u[11]||(u[11]=_("span",{class:"text-sm"},"Stroke",-1))])]),_:1}),F(g(Bs),{class:"p-0 w-auto"},{default:H(()=>[F(g(al),{"model-value":o.value.stroke||"#000000","onUpdate:modelValue":u[1]||(u[1]=d=>a("stroke",d))},null,8,["model-value"])]),_:1})]),_:1}),u[17]||(u[17]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("div",jO,[u[12]||(u[12]=_("span",{class:"text-xs text-muted-foreground"},"Stroke",-1)),tt(_("input",{"onUpdate:modelValue":u[2]||(u[2]=d=>o.value.strokeWidth=d),type:"number",min:"0",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:u[3]||(u[3]=d=>a("strokeWidth",o.value.strokeWidth))},null,544),[[ut,o.value.strokeWidth,void 0,{number:!0}]])]),u[18]||(u[18]=_("div",{class:"w-px h-6 bg-border"},null,-1)),o.value.type==="rect"?(M(),le("div",WO,[u[13]||(u[13]=_("span",{class:"text-xs text-muted-foreground"},"W",-1)),tt(_("input",{"onUpdate:modelValue":u[4]||(u[4]=d=>o.value.width=d),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:u[5]||(u[5]=d=>a("width",o.value.width))},null,544),[[ut,o.value.width,void 0,{number:!0}]]),u[14]||(u[14]=_("span",{class:"text-xs text-muted-foreground"},"H",-1)),tt(_("input",{"onUpdate:modelValue":u[6]||(u[6]=d=>o.value.height=d),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:u[7]||(u[7]=d=>a("height",o.value.height))},null,544),[[ut,o.value.height,void 0,{number:!0}]])])):He("",!0),o.value.type==="circle"?(M(),le("div",HO,[u[15]||(u[15]=_("span",{class:"text-xs text-muted-foreground"},"Radius",-1)),tt(_("input",{"onUpdate:modelValue":u[8]||(u[8]=d=>o.value.radius=d),type:"number",class:"w-16 px-2 py-1 bg-muted rounded text-xs",onChange:u[9]||(u[9]=d=>a("radius",o.value.radius))},null,544),[[ut,o.value.radius,void 0,{number:!0}]])])):He("",!0)]))}}),VO={class:"flex items-center gap-4"},YO={class:"flex items-center gap-2 px-3 py-1.5 hover:bg-muted rounded-lg transition-colors"},KO={class:"flex items-center gap-2"},XO={class:"space-y-2"},JO={class:"grid grid-cols-2 gap-2"},QO=me({__name:"LineProperties",props:{layer:{}},emits:["update"],setup(t,{emit:e}){hn();const n=t,r=e,s=pe({get:()=>n.layer.points||[0,0,100,0],set:a=>{r("update","points",a)}});function i(a,l){r("update",a,l)}function o(){r("update","points",[...s.value])}return(a,l)=>(M(),le("div",VO,[F(g(Fs),null,{default:H(()=>[F(g(Us),{"as-child":""},{default:H(()=>[_("button",YO,[_("div",{class:"w-5 h-5 rounded border shadow-sm",style:ft({backgroundColor:t.layer.stroke||"#000000"})},null,4),l[7]||(l[7]=_("span",{class:"text-sm"},"Color",-1))])]),_:1}),F(g(Bs),{class:"p-0 w-auto"},{default:H(()=>[F(g(al),{"model-value":t.layer.stroke||"#000000","onUpdate:modelValue":l[0]||(l[0]=c=>i("stroke",c))},null,8,["model-value"])]),_:1})]),_:1}),l[15]||(l[15]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("div",KO,[l[8]||(l[8]=_("span",{class:"text-xs text-muted-foreground"},"Width",-1)),tt(_("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>t.layer.strokeWidth=c),type:"number",min:"1",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:l[2]||(l[2]=c=>i("strokeWidth",t.layer.strokeWidth))},null,544),[[ut,t.layer.strokeWidth,void 0,{number:!0}]])]),l[16]||(l[16]=_("div",{class:"w-px h-6 bg-border"},null,-1)),F(g(Fs),null,{default:H(()=>[F(g(Us),{"as-child":""},{default:H(()=>[...l[9]||(l[9]=[_("button",{class:"flex items-center gap-2 px-3 py-1.5 bg-muted hover:bg-muted/80 rounded-lg text-sm transition-colors"},[_("span",null,"Edit Points")],-1)])]),_:1}),F(g(Bs),{class:"w-64"},{default:H(()=>[_("div",XO,[l[14]||(l[14]=_("label",{class:"text-sm font-medium"},"Line Points",-1)),_("div",JO,[_("div",null,[l[10]||(l[10]=_("span",{class:"text-xs text-muted-foreground"},"X1",-1)),tt(_("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>s.value[0]=c),type:"number",class:"w-full px-2 py-1 bg-muted rounded text-xs",onChange:o},null,544),[[ut,s.value[0],void 0,{number:!0}]])]),_("div",null,[l[11]||(l[11]=_("span",{class:"text-xs text-muted-foreground"},"Y1",-1)),tt(_("input",{"onUpdate:modelValue":l[4]||(l[4]=c=>s.value[1]=c),type:"number",class:"w-full px-2 py-1 bg-muted rounded text-xs",onChange:o},null,544),[[ut,s.value[1],void 0,{number:!0}]])]),_("div",null,[l[12]||(l[12]=_("span",{class:"text-xs text-muted-foreground"},"X2",-1)),tt(_("input",{"onUpdate:modelValue":l[5]||(l[5]=c=>s.value[2]=c),type:"number",class:"w-full px-2 py-1 bg-muted rounded text-xs",onChange:o},null,544),[[ut,s.value[2],void 0,{number:!0}]])]),_("div",null,[l[13]||(l[13]=_("span",{class:"text-xs text-muted-foreground"},"Y2",-1)),tt(_("input",{"onUpdate:modelValue":l[6]||(l[6]=c=>s.value[3]=c),type:"number",class:"w-full px-2 py-1 bg-muted rounded text-xs",onChange:o},null,544),[[ut,s.value[3],void 0,{number:!0}]])])])])]),_:1})]),_:1})]))}}),ZO={class:"flex items-center gap-4"},eI={class:"flex items-center gap-2"},tI=me({__name:"ImageProperties",props:{layer:{}},emits:["update"],setup(t,{emit:e}){hn();const n=e,r=J(null);function s(a,l){n("update",a,l)}function i(){var a;(a=r.value)==null||a.click()}function o(a){var d;const l=a.target,c=(d=l.files)==null?void 0:d[0];if(!c)return;const u=new FileReader;u.onload=f=>{var m;const h=(m=f.target)==null?void 0:m.result;n("update","src",h);const p=new Image;p.src=h,p.onload=()=>{n("update","width",p.width),n("update","height",p.height)}},u.readAsDataURL(c),l.value=""}return(a,l)=>(M(),le("div",ZO,[_("div",eI,[l[4]||(l[4]=_("span",{class:"text-xs text-muted-foreground"},"W",-1)),tt(_("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>t.layer.width=c),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:l[1]||(l[1]=c=>s("width",t.layer.width))},null,544),[[ut,t.layer.width,void 0,{number:!0}]]),l[5]||(l[5]=_("span",{class:"text-xs text-muted-foreground"},"H",-1)),tt(_("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>t.layer.height=c),type:"number",class:"w-14 px-2 py-1 bg-muted rounded text-xs",onChange:l[3]||(l[3]=c=>s("height",t.layer.height))},null,544),[[ut,t.layer.height,void 0,{number:!0}]])]),l[7]||(l[7]=_("div",{class:"w-px h-6 bg-border"},null,-1)),_("button",{onClick:i,class:"flex items-center gap-2 px-3 py-1.5 bg-muted hover:bg-muted/80 rounded-lg text-sm transition-colors"},[F(g(bs),{class:"w-4 h-4"}),l[6]||(l[6]=_("span",null,"Replace",-1))]),_("input",{ref_key:"imageInput",ref:r,type:"file",accept:"image/*",class:"hidden",onChange:o},null,544),l[8]||(l[8]=_("div",{class:"w-px h-6 bg-border"},null,-1)),l[9]||(l[9]=_("span",{class:"text-xs text-muted-foreground"},"Image filters coming soon",-1))]))}}),nI={class:"h-full flex flex-col bg-background"},rI={class:"flex items-center justify-between px-4 py-2 border-b bg-muted/30 shrink-0"},sI={class:"flex items-center gap-4"},iI={class:"text-xs text-muted-foreground"},oI={class:"flex items-center gap-2"},aI={class:"text-xs text-center text-muted-foreground font-mono w-12"},lI=["disabled"],uI=["disabled"],cI={key:0,class:"flex items-center gap-4 px-4 py-2 border-b bg-muted/20 shrink-0 overflow-x-auto"},dI={class:"flex items-center gap-2 shrink-0"},fI={class:"flex items-center gap-4 shrink-0"},hI={class:"flex-1 flex overflow-hidden min-h-0"},pI={class:"flex-1 min-w-0 min-h-0 flex"},gI={class:"w-64 border-l bg-muted/20 flex flex-col shrink-0"},mI={class:"flex-1 overflow-hidden"},vI={class:"bg-background rounded-xl p-6 w-96 shadow-xl"},yI={class:"space-y-4"},bI={class:"flex gap-2"},_I=["onClick"],wI={key:0},xI={class:"text-sm font-medium mb-2 block"},CI={class:"flex gap-2 pt-4"},kI=me({__name:"EditorView",setup(t){const e=hn(),n=J(null);Je(()=>e.layers,()=>{e.markAsChanged()},{deep:!0}),Je(()=>e.projectName,()=>{e.markAsChanged()}),Rt(()=>{e.startAutoSave(async()=>{if(n.value){const p=n.value.generateThumbnailDataUrl();await e.saveToLibrary(p||void 0)}else await e.saveToLibrary()})}),ln(()=>{e.stopAutoSave()});const r=J(!1),s=J(!1),i=J("png"),o=J(90);function a(p){switch(p){case"text":return Nl;case"image":return bs;case"rect":return tl;case"circle":return Ja;case"ellipse":return Ja;case"line":return bc;case"arrow":return M0;case"star":return F0;case"polygon":return B0;default:return tl}}function l(p,m){e.selectedLayer&&e.updateLayer(e.selectedLayer.id,{[p]:m})}function c(p){e.loadTemplate(p),r.value=!1,it.success(`Template "${p.name}" loaded`)}function u(){s.value=!0}async function d(){if(n.value)try{const p=n.value.exportToImage(i.value,o.value/100);if(!p){it.error("Failed to export image");return}const w=await(await fetch(p)).blob(),y=URL.createObjectURL(w),b=document.createElement("a");b.href=y,b.download=`${e.projectName}.${i.value}`,b.click(),URL.revokeObjectURL(y),s.value=!1,it.success("Image exported successfully")}catch(p){it.error("Failed to export image"),console.error(p)}}async function f(){var p;try{const m=(p=n.value)==null?void 0:p.generateThumbnailDataUrl(),w=await e.saveToLibrary(m||void 0);it.success("Project saved to library")}catch(m){it.error("Failed to save project"),console.error(m)}}function h(){var x;const p=(x=n.value)==null?void 0:x.$el;if(!p)return;const m=p.clientWidth-64,w=p.clientHeight-64,y=m/e.canvasWidth,b=w/e.canvasHeight,v=Math.min(y,b,1);e.setZoom(Math.max(.1,v))}return(p,m)=>(M(),le("div",nI,[_("div",rI,[_("div",sI,[tt(_("input",{"onUpdate:modelValue":m[0]||(m[0]=w=>g(e).projectName=w),type:"text",class:"bg-transparent font-semibold text-lg outline-none border-b border-transparent focus:border-primary px-2 py-1",placeholder:"Project Name"},null,512),[[ut,g(e).projectName]]),_("span",iI,we(g(e).canvasWidth)+"  "+we(g(e).canvasHeight)+"px ",1)]),_("div",oI,[_("button",{onClick:m[1]||(m[1]=(...w)=>g(e).zoomOut&&g(e).zoomOut(...w)),class:"p-2 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-all",title:"Zoom Out"},[F(g(s8),{class:"w-4 h-4"})]),_("div",aI,we(Math.round(g(e).zoom*100))+"% ",1),_("button",{onClick:m[2]||(m[2]=(...w)=>g(e).zoomIn&&g(e).zoomIn(...w)),class:"p-2 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-all",title:"Zoom In"},[F(g(r8),{class:"w-4 h-4"})]),_("button",{onClick:h,class:"p-2 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-all",title:"Fit to View"},[F(g(Nx),{class:"w-4 h-4"})]),m[15]||(m[15]=_("div",{class:"w-px h-6 bg-border mx-2"},null,-1)),_("button",{onClick:m[3]||(m[3]=(...w)=>g(e).undo&&g(e).undo(...w)),disabled:!g(e).canUndo,class:"p-2 rounded-lg hover:bg-muted disabled:opacity-30 disabled:cursor-not-allowed",title:"Undo"},[F(g(U0),{class:"w-4 h-4"})],8,lI),_("button",{onClick:m[4]||(m[4]=(...w)=>g(e).redo&&g(e).redo(...w)),disabled:!g(e).canRedo,class:"p-2 rounded-lg hover:bg-muted disabled:opacity-30 disabled:cursor-not-allowed",title:"Redo"},[F(g(Vx),{class:"w-4 h-4"})],8,uI),m[16]||(m[16]=_("div",{class:"w-px h-6 bg-border mx-2"},null,-1)),_("button",{onClick:m[5]||(m[5]=w=>r.value=!0),class:"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 rounded-lg transition-colors"},[F(g(Rx),{class:"w-4 h-4 inline mr-1"}),m[12]||(m[12]=Ye(" Templates ",-1))]),_("button",{onClick:u,class:"px-3 py-1.5 text-sm bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg transition-colors"},[F(g(Mr),{class:"w-4 h-4 inline mr-1"}),m[13]||(m[13]=Ye(" Export ",-1))]),_("button",{onClick:f,class:"px-3 py-1.5 text-sm bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg transition-colors"},[F(g(Kx),{class:"w-4 h-4 inline mr-1"}),m[14]||(m[14]=Ye(" Save ",-1))])])]),g(e).selectedLayer?(M(),le("div",cI,[_("div",dI,[(M(),ce(Pn(a(g(e).selectedLayer.type)),{class:"w-4 h-4 text-muted-foreground"})),tt(_("input",{"onUpdate:modelValue":m[6]||(m[6]=w=>g(e).selectedLayer.name=w),type:"text",class:"w-32 px-2 py-1 bg-transparent border-b border-transparent focus:border-primary text-sm outline-none",onChange:m[7]||(m[7]=w=>l("name",g(e).selectedLayer.name))},null,544),[[ut,g(e).selectedLayer.name]])]),m[17]||(m[17]=_("div",{class:"w-px h-6 bg-border shrink-0"},null,-1)),_("div",fI,[g(e).selectedLayer.type==="text"?(M(),ce(g(NO),{key:0,layer:g(e).selectedLayer,onUpdate:l},null,8,["layer"])):["rect","circle"].includes(g(e).selectedLayer.type)?(M(),ce(g(zO),{key:1,layer:g(e).selectedLayer,onUpdate:l},null,8,["layer"])):g(e).selectedLayer.type==="line"?(M(),ce(g(QO),{key:2,layer:g(e).selectedLayer,onUpdate:l},null,8,["layer"])):g(e).selectedLayer.type==="image"?(M(),ce(g(tI),{key:3,layer:g(e).selectedLayer,onUpdate:l},null,8,["layer"])):He("",!0)]),m[18]||(m[18]=_("div",{class:"w-px h-6 bg-border shrink-0"},null,-1)),F(g(vO),{layer:g(e).selectedLayer,onUpdate:l},null,8,["layer"])])):He("",!0),_("div",hI,[F(HA,{class:"w-16 border-r bg-muted/20 shrink-0"}),F(CP),_("div",pI,[F(TP,{ref_key:"canvasRef",ref:n,class:"w-full h-full min-w-full min-h-full"},null,512)]),_("div",gI,[m[19]||(m[19]=_("div",{class:"p-3 border-b"},[_("span",{class:"text-sm font-medium"},"Layers")],-1)),_("div",mI,[F(JP)])])]),F(dO,{show:r.value,onClose:m[8]||(m[8]=w=>r.value=!1),onSelect:c},null,8,["show"]),s.value?(M(),le("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:m[11]||(m[11]=Bt(w=>s.value=!1,["self"]))},[_("div",vI,[m[21]||(m[21]=_("h3",{class:"text-lg font-semibold mb-4"},"Export Image",-1)),_("div",yI,[_("div",null,[m[20]||(m[20]=_("label",{class:"text-sm font-medium mb-2 block"},"Format",-1)),_("div",bI,[(M(),le(Ve,null,bt(["png","jpg","webp"],w=>_("button",{key:w,onClick:y=>i.value=w,class:st(["px-3 py-1.5 text-sm rounded-lg transition-colors",i.value===w?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"])},we(w.toUpperCase()),11,_I)),64))])]),i.value==="jpg"?(M(),le("div",wI,[_("label",xI,"Quality: "+we(o.value)+"%",1),tt(_("input",{"onUpdate:modelValue":m[9]||(m[9]=w=>o.value=w),type:"range",min:"1",max:"100",class:"w-full"},null,512),[[ut,o.value,void 0,{number:!0}]])])):He("",!0),_("div",CI,[_("button",{onClick:m[10]||(m[10]=w=>s.value=!1),class:"flex-1 px-4 py-2 bg-muted hover:bg-muted/80 rounded-lg transition-colors"}," Cancel "),_("button",{onClick:d,class:"flex-1 px-4 py-2 bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg transition-colors"}," Export ")])])])])):He("",!0)]))}}),SI={class:"min-h-screen h-screen flex flex-col bg-background text-foreground font-sans selection:bg-primary/20"},EI={class:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur-md supports-backdrop-filter:bg-background/60"},TI={class:"container flex h-16 items-center justify-between px-4 md:px-8"},AI={class:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl"},PI=["onClick"],OI={class:"flex items-center gap-4"},II={key:0,class:"hidden md:flex flex-col items-end text-[10px] text-muted-foreground mr-2 cursor-help"},LI={class:"font-mono"},MI={class:"w-24 h-1 bg-muted rounded-full overflow-hidden mt-1"},RI={class:"text-sm"},DI={key:"generate",class:"h-full flex flex-col gap-8"},NI={class:"flex-1 flex flex-col rounded-3xl relative overflow-hidden"},$I={class:"max-w-3xl mx-auto w-full fixed bottom-0 left-0 right-0 px-4 md:px-8 pb-4 transition-all duration-500 ease-in-out z-40"},FI={key:"inpaint",class:"h-full"},BI={key:"editor",class:"h-full"},UI={key:"library"},GI={class:"flex items-center justify-between mb-8"},qI={class:"flex items-center gap-4"},jI={class:"text-xs font-mono text-muted-foreground"},WI={key:0,class:"px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-xl text-sm transition-all flex items-center gap-2"},HI={key:1,class:"py-20 text-center text-muted-foreground"},zI={class:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4"},VI={key:"settings"},YI=me({__name:"App",setup(t){const{t:e}=ur.global,n=$l(),r=zs(),s=H0(),{apiKey:i,quota:o}=Qn(n),{used:a}=Qn(n),l=pe(()=>Math.trunc(a.value*10)/10),{items:c,sessionItems:u}=Qn(r);function d(){const j=new Date,T=new Date(j.toISOString()),B=new Date(T);B.setUTCHours(0,0,0,0),B.setUTCDate(B.getUTCDate()+1);const Y=B.getTime()-T.getTime(),L=Math.floor(Y/(1e3*60*60)),$=Math.floor(Y%(1e3*60*60)/(1e3*60));return`${L}h ${$}m`}const f=J(d());let h;Rt(()=>{n.theme=n.theme,n.locale=n.locale,r.initDB(),n.refreshQuota(),h=setInterval(()=>{f.value=d()},6e4)}),ln(()=>{h&&clearInterval(h)});async function p(){c.value.length!==0&&(await r.clearAll(),it.success(e("library.deletedAll")||"All items deleted"))}async function m(){c.value.length!==0&&(await r.exportAllAsZip(),it.success(e("actions.exportAllSuccess",{count:c.value.length})||`Exported ${c.value.length} items successfully`))}const w=J("generate"),y=J(!1),b=J(null),v=J(null),x=J(null);async function C(j){b.value=j,y.value=!0,v.value&&URL.revokeObjectURL(v.value);const T=await r.getBlob(j.id);if(T&&(v.value=URL.createObjectURL(T)),x.value&&URL.revokeObjectURL(x.value),x.value=null,j.mode==="editor-project"){const B=await r.getThumbnail(j.id);B&&(x.value=URL.createObjectURL(B))}}function O(){y.value=!1,v.value&&(URL.revokeObjectURL(v.value),v.value=null),x.value&&(URL.revokeObjectURL(x.value),x.value=null),b.value=null}const q=[{id:"generate",icon:bs},{id:"inpaint",icon:G0},{id:"editor",icon:Wx},{id:"library",icon:Jh},{id:"settings",icon:cd}];function A(j,T){if(!j)return;const B=document.createElement("a");B.href=j,B.download=`pixeo-${T||Date.now()}`,B.click()}async function E(j,T){if(j.mode==="editor-project"){let Y=null;if(T)try{Y=await(await fetch(T)).blob()}catch(L){console.error("Failed to fetch blobUrl",L)}if(Y||(Y=await r.getBlob(j.id)),!Y){it.error("No se pudo cargar el proyecto");return}try{const L=await Y.text(),$=JSON.parse(L);hn().loadProject($),w.value="editor",O(),it.success(`Proyecto "${$.name}" cargado en el editor`)}catch(L){console.error("Failed to load editor project:",L),it.error("Error al cargar el proyecto")}return}s.mode="image-edit",await _t(),s.selectedModelId="qwen-image-edit-2511";let B=null;if(T)try{B=await(await fetch(T)).blob()}catch(Y){console.error("Failed to fetch blobUrl",Y)}B||(B=await r.getBlob(j.id)),s.pendingEditItem=j,s.pendingEditBlob=B,w.value!=="generate"&&(w.value="generate"),O()}async function P(j,T){const B=Gi();let Y=null;if(T)try{Y=await(await fetch(T)).blob()}catch(S){console.error("Failed to fetch blobUrl",S)}if(Y||(Y=await r.getBlob(j.id)),!Y){it.error("No se pudo obtener la imagen");return}const L=new File([Y],`pixeo-${j.id}.png`,{type:"image/png"});B.setImageFile(L);const $=new window.Image,k=URL.createObjectURL(Y);$.src=k,await new Promise(S=>{$.onload=S}),B.setOriginalImage($),w.value="inpaint",O()}return(j,T)=>(M(),le(Ve,null,[_("div",SI,[_("header",EI,[_("div",TI,[T[1]||(T[1]=_("div",{class:"flex items-center gap-2"},[_("span",{class:"text-xl font-bold tracking-tight"},"Pixeo")],-1)),_("nav",AI,[(M(),le(Ve,null,bt(q,B=>_("button",{key:B.id,onClick:Y=>w.value=B.id,class:st(["px-4 py-2 text-sm font-medium transition-all rounded-lg flex items-center gap-2",w.value===B.id?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/80"])},[(M(),ce(Pn(B.icon),{class:"w-4 h-4"})),Ye(" "+we(j.$t(`common.${B.id}`)),1)],10,PI)),64))]),_("div",OI,[F(g(Ld),null,{default:H(()=>[F(g(zn),null,{default:H(()=>[F(g(Yn),null,{default:H(()=>[g(i)&&g(o)>0?(M(),le("div",II,[_("span",LI,we(j.$t("common.usageQuota",{used:l.value,quota:g(o)})),1),_("div",MI,[_("div",{class:"bg-primary h-full transition-all duration-500",style:ft({width:`${Math.min(g(a)/g(o)*100,100)}%`})},null,4)])])):He("",!0)]),_:1}),F(g(Vn),null,{default:H(()=>[_("p",RI,we(j.$t("common.quotaResetsIn",{time:f.value})),1)]),_:1})]),_:1})]),_:1})])])]),_("main",{class:st(["flex-1 min-h-0 overflow-hidden",["inpaint","editor"].includes(w.value)?"w-full":"container mx-auto px-4 py-8 md:px-8 pb-32 overflow-y-auto"])},[F(cm,{name:"fade",mode:"out-in"},{default:H(()=>[w.value==="generate"?(M(),le("div",DI,[_("div",NI,[F($T,{"session-items":g(u),onZoom:C,onDownload:A},null,8,["session-items"])]),_("div",$I,[F(KS,{ref:"promptInputRef"},null,512)])])):w.value==="inpaint"?(M(),le("div",FI,[F(qA)])):w.value==="editor"?(M(),le("div",BI,[F(kI)])):w.value==="library"?(M(),le("div",UI,[_("div",GI,[T[5]||(T[5]=_("h1",{class:"text-3xl font-bold tracking-tight"},null,-1)),_("div",qI,[_("span",jI,we(j.$t("common.itemCount",{count:g(c).length})),1),g(c).length>0?(M(),le("button",{key:0,onClick:m,class:"px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-xl text-sm transition-all"},[F(g(Mr),{class:"w-4 h-4"}),Ye(" "+we(j.$t("actions.exportAll")),1)])):He("",!0),F(g(vi),null,{default:H(()=>[F(g(Si),{"as-child":""},{default:H(()=>[g(c).length>0?(M(),le("button",WI,[F(g(Ns),{class:"w-4 h-4"}),Ye(" "+we(j.$t("actions.deleteAll")),1)])):He("",!0)]),_:1}),F(g(_i),null,{default:H(()=>[F(g(Ci),null,{default:H(()=>[F(g(ki),null,{default:H(()=>[...T[2]||(T[2]=[Ye("Eliminar todo?",-1)])]),_:1}),F(g(wi),null,{default:H(()=>[Ye(we(j.$t("actions.deleteAllConfirm")),1)]),_:1})]),_:1}),F(g(xi),null,{default:H(()=>[F(g(bi),null,{default:H(()=>[...T[3]||(T[3]=[Ye("Cancelar",-1)])]),_:1}),F(g(yi),{onClick:p,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:H(()=>[...T[4]||(T[4]=[Ye(" Eliminar Todo ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])]),g(c).length>0?(M(),ce(qE,{key:0,items:g(c),onZoom:C},null,8,["items"])):(M(),le("div",HI,[_("div",zI,[F(g(Jh),{class:"w-8 h-8 opacity-20"})]),Ye(" "+we(j.$t("library.empty")),1)]))])):w.value==="settings"?(M(),le("div",VI,[F(OE)])):He("",!0)]),_:1}),F(gT,{show:y.value,item:b.value,blobUrl:v.value,thumbnailUrl:x.value,onClose:O,onDownload:T[0]||(T[0]=B=>{var Y;return A(x.value||v.value,(Y=b.value)==null?void 0:Y.id)}),onEdit:E,onEnhance:P},null,8,["show","item","blobUrl","thumbnailUrl"])],2)]),F(i8,{class:"z-9999"})],64))}}),Kl=sb(YI);Kl.use(ab());Kl.use(ur);Kl.use(x3);Kl.mount("#app");export{Ca as a,ka as c,FT as g};
